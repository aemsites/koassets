{"version":3,"file":"displayUtils.js","sources":["../../../scripts/saved-searches/saved-search-utils.js","../../../koassets-react/src/utils/displayUtils.ts"],"sourcesContent":["/**\n * Shared utility functions for saved search URL generation\n * Used by both React components and plain JavaScript blocks\n */\n\n/**\n * Builds a shareable URL for a saved search that matches the format\n * expected by the search application\n * @param {Object} search - The saved search object\n * @param {string} search.searchTerm - The search term\n * @param {Object} search.facetFilters - Object with facet selections\n *   (facetTechId -> facetName -> boolean)\n * @param {Object} search.rightsFilters - Rights filter settings\n *   (dates, markets, media channels)\n * @param {Array<string>} search.numericFilters - Array of numeric filters\n * @param {string} [search.searchType] - The search type path (optional)\n * @returns {string} The complete shareable URL\n */\nexport default function buildSavedSearchUrl(search) {\n  const params = new URLSearchParams();\n\n  if (search.searchTerm) {\n    params.set('fulltext', search.searchTerm);\n  }\n\n  if (search.facetFilters && Object.keys(search.facetFilters).length > 0) {\n    params.set('facetFilters', encodeURIComponent(JSON.stringify(search.facetFilters)));\n  }\n\n  if (search.rightsFilters && Object.keys(search.rightsFilters).length > 0) {\n    params.set('rightsFilters', encodeURIComponent(JSON.stringify(search.rightsFilters)));\n  }\n\n  if (search.numericFilters && search.numericFilters.length > 0) {\n    params.set('numericFilters', encodeURIComponent(JSON.stringify(search.numericFilters)));\n  }\n\n  // Use the stored search type or default to /search/all\n  const searchPath = search.searchType || '/search/all';\n\n  // Build complete URL with current host and search type path\n  const currentUrl = new URL(window.location.href);\n  const baseUrl = `${currentUrl.protocol}//${currentUrl.host}${searchPath}`;\n  return `${baseUrl}?${params.toString()}`;\n}\n","import { getExternalParams } from './config';\n\n/**\n * Maps facet values to user-friendly display names using external parameter mappings\n * @param facetTechId - The technical ID of the facet (e.g., 'tccc-campaignName')\n * @param facetName - The raw facet name to be mapped\n * @returns The display name if a mapping exists, otherwise the original facet name\n */\nexport const getDisplayFacetName = (facetTechId: string, facetName: string): string => {\n    const externalParams = getExternalParams();\n    \n    if (facetTechId === 'tccc-campaignName') {\n        return externalParams.campaignNameValueMapping?.[facetName] || facetName;\n    } else if (facetTechId === 'tccc-intendedBottlerCountry') {\n        return externalParams.intendedBottlerCountryValueMapping?.[facetName] || facetName;\n    } else if (facetTechId === 'tccc-packageContainerSize') {\n        return externalParams.packageContainerSizeValueMapping?.[facetName] || facetName;\n    } else if (facetTechId === 'tccc-agencyName') {\n        return externalParams.agencyNameValueMapping?.[facetName] || facetName;\n    }\n    \n    return facetName;\n};\n\n/**\n * Gets a display name for a specific field from asset data\n * This is a convenience function for common asset fields\n * @param fieldType - The field type (e.g., 'campaignName', 'agencyName', etc.)\n * @param value - The field value to be mapped\n * @returns The display name if a mapping exists, otherwise the original value\n */\nexport const getAssetFieldDisplayFacetName = (fieldType: string, value: string): string => {\n    const facetTechId = `tccc-${fieldType}`;\n    return getDisplayFacetName(facetTechId, value);\n};\n"],"names":["buildSavedSearchUrl","search","params","URLSearchParams","searchTerm","set","facetFilters","Object","keys","length","encodeURIComponent","JSON","stringify","rightsFilters","numericFilters","searchPath","searchType","currentUrl","URL","window","location","href","protocol","host","toString","getDisplayFacetName","facetTechId","facetName","externalParams","getExternalParams","_a","campaignNameValueMapping","_b","intendedBottlerCountryValueMapping","_c","packageContainerSizeValueMapping","_d","agencyNameValueMapping","getAssetFieldDisplayFacetName","fieldType","value"],"mappings":"+BAkBe,SAASA,EAAoBC,GAC1C,MAAMC,EAAS,IAAIC,gBAEfF,EAAOG,YACTF,EAAOG,IAAI,WAAYJ,EAAOG,YAG5BH,EAAOK,cAAgBC,OAAOC,KAAKP,EAAOK,cAAcG,OAAS,GACnEP,EAAOG,IAAI,eAAgBK,mBAAmBC,KAAKC,UAAUX,EAAOK,gBAGlEL,EAAOY,eAAiBN,OAAOC,KAAKP,EAAOY,eAAeJ,OAAS,GACrEP,EAAOG,IAAI,gBAAiBK,mBAAmBC,KAAKC,UAAUX,EAAOY,iBAGnEZ,EAAOa,gBAAkBb,EAAOa,eAAeL,OAAS,GAC1DP,EAAOG,IAAI,iBAAkBK,mBAAmBC,KAAKC,UAAUX,EAAOa,kBAIxE,MAAMC,EAAad,EAAOe,YAAc,cAGlCC,EAAa,IAAIC,IAAIC,OAAOC,SAASC,MAE3C,MAAO,GADS,GAAGJ,EAAWK,aAAaL,EAAWM,OAAOR,OACxCb,EAAOsB,YAC9B,CCpCO,MAAMC,EAAsB,CAACC,EAAqBC,iBACrD,MAAMC,EAAiBC,IAEvB,MAAoB,sBAAhBH,GACO,OAAAI,EAAAF,EAAeG,+BAAf,EAAAD,EAA0CH,KAAcA,EACxC,gCAAhBD,GACA,OAAAM,EAAAJ,EAAeK,yCAAf,EAAAD,EAAoDL,KAAcA,EAClD,8BAAhBD,GACA,OAAAQ,EAAAN,EAAeO,uCAAf,EAAAD,EAAkDP,KAAcA,EAChD,oBAAhBD,IACA,OAAAU,EAAAR,EAAeS,6BAAf,EAAAD,EAAwCT,KAG5CA,GAUEW,EAAgC,CAACC,EAAmBC,IAEtDf,EADa,QAAQc,IACYC"}