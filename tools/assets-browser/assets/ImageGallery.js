import{r as a,j as e,u as s,g as t,f as l,A as i,P as d,E as n,h as c,D as o,i as r,k as m,l as h}from"./index.js";import{a as u}from"./displayUtils.js";const p={accordionTitle:"Search Assets - where you can discover the company's latest and greatest content!",accordionContent:'<p><b>SEARCH:</b> Use the search bar in conjunction with the filters on the right to filter by usage rights, campaign, brand, asset type, and more.</p>\n<p><b>FILTERS:</b> On the right side of your screen, you will see a variety of filters to help you find the content you need. To use them, click on the filter you want to use, search for or scroll to the filter value you think is most relevant, and once selected hit the "Apply" button at the bottom.</p>\n<p><b>DOWNLOAD:</b> After selecting your asset(s), click the "ADD TO CART" button then go to your cart, located at the top right of the page. If an asset is rights free you can begin downloading immediately from your cart. For rights-protected content enter in your intended use to request your download.</p>\n<p><b>ADDING MULTIPLE ASSETS TO YOUR CART:</b> You can download multiple assets at once using the below instructions:</p>\n<ul><li><p>Locate the checkbox icon in the top left of each asset\'s thumbnail for each asset you wish to download.</p>\n</li></ul>\n<ul><li><p>Navigate to the top of the search to the drop-down menu that says, "Actions" and choose "Add to Cart."</p>\n</li></ul>\n<p><b>"RIGHTS FREE" ASSETS DOWNLOAD:</b> You don\'t need to enter your intended use for "Rights Free" Assets! Use the "Rights Free" search filter and select yes to only view "Rights Free" assets.</p>\n<p><b>NEED ADDITIONAL SUPPORT</b>? If you have any additional questions reach out to our asset management team via <a href="mailto:assetmanagers@coca-cola.com"><b>assetmanagers@coca-cola.com</b></a> or visit our <a href="https://forms.office.com/Pages/ResponsePage.aspx?id=qyaNVKqM4UmXwqGxoGzDnPYUeiWm8X1KiF0OxjOzZ3VUNlNNTzcxME9SMVpTTUUzVzY4TkFYV1dLVS4u&amp;wdLOR=c0E1D32CE-2209-4C6C-893D-F353FDC5C295"><b>Support Portal</b></a>.</p>'},v=({disabled:s,onClick:t,config:l,hasLoadingState:i=!1,style:d})=>{const[n,c]=a.useState(!1),o=a.useRef(null),r=a.useRef(null),m=s&&l.disabled?l.disabled:n&&l.downloading?l.downloading:l.idle;return e.jsxs("div",{className:"action-button-container",ref:o,onMouseEnter:()=>{(()=>{if(o.current&&r.current){const a=o.current.getBoundingClientRect(),e=r.current;e.style.top=a.top-35+"px",e.style.right=window.innerWidth-a.right+"px"}})()},style:d,children:[e.jsx("button",{disabled:s,className:`action-button ${m.className}`,onClick:async()=>{if(i){c(!0);try{await t()}finally{c(!1)}}else t()},style:m.backgroundImage?{backgroundImage:`url(${m.backgroundImage})`}:void 0}),m.tooltip&&e.jsx("span",{className:"action-button-tooltip",ref:r,children:m.tooltip})]})},x={download:{idle:{className:"download",backgroundImage:"/tools/assets-browser/icons/download-asset.svg",tooltip:"Download preview"},downloading:{className:"downloading",backgroundImage:"/tools/assets-browser/icons/downloading-asset.svg",tooltip:"Downloading..."},disabled:{className:"download",backgroundImage:"/tools/assets-browser/icons/download-asset.svg",tooltip:"Preview not available"}}},j=({image:a,handleCardDetailClick:o,handlePreviewClick:r,handleAddToCart:m,handleRemoveFromCart:h,cartAssetItems:p=[],isSelected:j=!1,onCheckboxChange:N,expandAllDetails:g=!0,index:b=0,viewMode:f,className:w="",onFacetCheckbox:y,onClearAllFacets:C})=>{const{dynamicMediaClient:S}=s(),I=p.some(e=>e.assetId===a.assetId),A=e=>{e.stopPropagation(),I?null==h||h(a):null==m||m(a,e)},k=async()=>{if(a&&S)try{console.log("Downloading original asset:",a.assetId),await S.downloadAsset(a)}catch(e){console.error("Failed to download asset:",e)}else console.warn("No asset or dynamic media client available for download")},T=`asset-card-view-${f} ${w}`.trim(),D=`asset-card-view-${f}-inner`,E="grid"===f?"h3":"div",R="grid"===f?"left-buttons-wrapper":"top-buttons-wrapper",L="grid"===f?"right-buttons-wrapper":"bottom-buttons-wrapper",P=g&&e.jsxs("div",{className:"product-meta-grid",children:[e.jsxs("div",{className:"product-meta-item",children:[e.jsx("span",{className:"product-meta-label tccc-metadata-label",children:"SIZE"}),e.jsx("span",{className:"product-meta-value tccc-metadata-value",children:a.formatedSize})]}),e.jsxs("div",{className:"product-meta-item",children:[e.jsx("span",{className:"product-meta-label tccc-metadata-label",children:"TYPE"}),e.jsx("span",{className:"product-meta-value tccc-metadata-value",children:a.formatLabel})]}),e.jsxs("div",{className:"product-meta-item",children:[e.jsx("span",{className:"product-meta-label tccc-metadata-label",children:"FILE EXT"}),e.jsx("span",{className:"product-meta-value tccc-metadata-value",children:t(a.name)})]}),e.jsxs("div",{className:"product-meta-item",children:[e.jsx("span",{className:"product-meta-label tccc-metadata-label",children:"RIGHTS FREE"}),e.jsx("span",{className:"product-meta-value tccc-metadata-value",children:a.readyToUse})]}),e.jsxs("div",{className:"product-meta-item",children:[e.jsx("span",{className:"product-meta-label tccc-metadata-label",children:"CATEGORY"}),e.jsx("span",{className:"product-meta-value tccc-metadata-value",children:l(null==a?void 0:a.category)})]})]}),M=e.jsxs(e.Fragment,{children:[a.authorized===i.AVAILABLE&&e.jsx("span",{className:"product-authorized-status green",children:"AUTHORIZED"}),(a.authorized===i.NOT_AVAILABLE||a.authorized===i.AVAILABLE_EXCEPT)&&e.jsx("span",{className:"product-authorized-status red",children:"EXTENSION REQUIRED"})]});return e.jsx("div",{className:T,id:a.assetId,children:e.jsxs("div",{className:D,children:[e.jsxs("div",{className:"image-wrapper",onClick:e=>o(a,e),style:{cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",className:"tccc-checkbox",checked:j,onChange:e=>{null==N||N(a.assetId||"",e.target.checked)},onClick:a=>a.stopPropagation()}),e.jsx("button",{className:"image-preview-button",onClick:e=>r(a,e),title:"View larger image",children:e.jsx("svg",{viewBox:"0 0 256.001 256.001",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M159.997 116a12 12 0 0 1-12 12h-20v20a12 12 0 0 1-24 0v-20h-20a12 12 0 0 1 0-24h20V84a12 12 0 0 1 24 0v20h20a12 12 0 0 1 12 12Zm72.48 116.482a12 12 0 0 1-16.971 0l-40.679-40.678a96.105 96.105 0 1 1 16.972-16.97l40.678 40.678a12 12 0 0 1 0 16.97Zm-116.48-44.486a72 72 0 1 0-72-72 72.081 72.081 0 0 0 72 72Z"})})}),e.jsx("div",{className:"add-to-collection-overlay",onClick:e=>{e.stopPropagation();const s=S&&a.assetId&&a.name?S.getOptimizedDeliveryPreviewUrl(a.assetId,a.name,350):void 0,t=S?c():void 0,l=new CustomEvent("openCollectionModal",{detail:{asset:{...a,previewUrl:s,dmBucket:t},assetPath:a.repositoryPath||a.assetId}});window.dispatchEvent(l)},children:e.jsxs("div",{className:"add-to-collection-content",children:[e.jsx("i",{className:"icon add circle"}),e.jsx("span",{children:"Add to Collection"})]})}),e.jsx(d,{asset:a,width:350,className:"image-container",eager:b<n,fetchPriority:b<n?"high":"auto"},a.assetId)]}),e.jsx("div",{className:"product-info-container",children:e.jsxs("div",{className:"product-info",children:[e.jsxs("div",{className:"product-title-section",children:[(null==a?void 0:a.campaignName)&&e.jsx("div",{className:"product-tags",children:e.jsx("span",{className:"product-tag tccc-tag",onClick:e=>{e.stopPropagation(),null==C||C(),null==y||y("tccc-campaignName",null==a?void 0:a.campaignName)},style:{cursor:"pointer"},children:u("campaignName",null==a?void 0:a.campaignName)})}),e.jsx(E,{className:"product-title",onClick:e=>o(a,e),style:{cursor:"pointer"},children:a.title}),M]}),P]})}),e.jsxs("div",{className:"product-actions",children:[e.jsx("div",{className:R,children:"grid"===f?e.jsx("button",{className:"add-to-cart-btn"+(I?" remove-from-cart":""),onClick:A,children:I?"Remove From Cart":"Add To Cart"}):e.jsx(v,{config:x.download,hasLoadingState:!0,onClick:k,style:{display:"none"}})}),e.jsx("div",{className:L,children:"grid"===f?e.jsx(v,{config:x.download,hasLoadingState:!0,onClick:k,style:{display:"none"}}):e.jsx("button",{className:"add-to-cart-btn"+(I?" remove-from-cart":""),onClick:A,children:I?"Remove From Cart":"Add To Cart"})})]})]})})},N=({isOpen:s,asset:t,onCloseDownloadRenditions:l,renditions:i,imagePresets:d})=>{const[n,c]=a.useState(!1),[r,m]=a.useState(null);a.useEffect(()=>{s&&(c(!1),m(null))},[s]);const h=a.useCallback(a=>{"Escape"===a.key&&(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),l())},[l]);a.useEffect(()=>{if(s)return document.addEventListener("keydown",h,{capture:!0}),()=>document.removeEventListener("keydown",h,{capture:!0})},[s,h]);const u=a.useCallback(a=>{a.target===a.currentTarget&&l()},[l]),p=a.useMemo(()=>[{asset:t,renditions:i,imagePresets:d,renditionsLoading:n,renditionsError:r}],[t,i,d,n,r]);return s&&t?e.jsx("div",{className:"download-renditions-overlay portal-modal",onClick:u,children:e.jsxs("div",{className:"download-renditions-modal",children:[e.jsxs("div",{className:"download-renditions-header",children:[e.jsx("div",{className:"download-renditions-header-title",children:"Download"}),e.jsx("button",{className:"download-renditions-close",onClick:l,children:"Ã—"})]}),e.jsx(o,{assets:p,onCloseDownloadRenditions:l})]})}):null},g=({selectedImage:s,forceCollapse:t})=>{const[l,i]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&i(!t)},[t]);const d=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>{i(!l)},children:[e.jsx("h3",{className:"asset-details-title",children:"DRM"}),e.jsx("span",{className:"asset-details-arrow "+(d?"expanded":"")})]}),d&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Risk Type Management"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.riskTypeManagement})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Rights Notes"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.rightsNotes})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Rights Status"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.rightsStatus})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Rights Free"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.readyToUse})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Business Affairs Manager"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.businessAffairsManager})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Fadel ID"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.fadelId})]})]})})]})},b=({selectedImage:s,forceCollapse:t})=>{const[l,i]=a.useState(!0);return a.useEffect(()=>{"boolean"==typeof t&&i(!t)},[t]),e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>i(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"TCCC General Info"}),e.jsx("span",{className:"asset-details-arrow "+(l?"expanded":"")})]}),l&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Long Range Plan - Business Goal"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.longRangePlan})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Long Range Plan Tactic"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.longRangePlanTactic})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Campaign Reach"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.campaignReach})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Master or Adaptation"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.masterOrAdaptation})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Keywords"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.keywords})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Japanese Keywords"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.japaneseKeywords})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Age and Demographic"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.ageDemographic})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Source Asset"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.sourceAsset})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Derived Assets"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.derivedAssets})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Other Assets"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.otherAssets})]})]})})]})},f=({selectedImage:s,forceCollapse:t})=>{const[l,i]=a.useState(!0);return a.useEffect(()=>{"boolean"==typeof t&&i(!t)},[t]),e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>i(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"Intended Use"}),e.jsx("span",{className:"asset-details-arrow "+(l?"expanded":"")})]}),l&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Intended Bottler Country"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:(null==s?void 0:s.intendedBottlerCountry)?u("intendedBottlerCountry",s.intendedBottlerCountry):""})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Intended Customers"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.intendedCustomers})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Intended Channel"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.intendedChannel})]})]})})]})},w=({selectedImage:s,forceCollapse:t})=>{const[l,i]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&i(!t)},[t]);const d=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>i(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"Legacy Fields"}),e.jsx("span",{className:"asset-details-arrow "+(d?"expanded":"")})]}),d&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Original Create Date"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.originalCreateDate})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Date Uploaded"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.dateUploaded})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Under Embargo"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.underEmbargo})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Is this asset associated with a brand?"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.assetAssociatedWithBrand})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Is there a package depicted in this asset?"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.packageDepicted})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Funding BU or Market"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.fundingBuOrMarket})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Track Name"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.trackName})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Brands which have the asset as guideline"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.brandsWAssetGuideline})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Brands which have the asset as hero image"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.brandsWAssetHero})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Campaign where assets are key assets"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.campaignsWKeyAssets})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Featured Asset"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.featuredAsset})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Key Asset"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.keyAsset})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Layout"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.layout})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Jobs which have the asset as the contract asset"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.contractAssetJobs})]})]})})]})},y=({selectedImage:s,forceCollapse:t})=>{const[l,i]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&i(!t)},[t]);const d=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>i(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"Marketing Overview"}),e.jsx("span",{className:"asset-details-arrow "+(d?"expanded":"")})]}),d&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Campaign Name"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:(null==s?void 0:s.campaignName)?u("campaignName",s.campaignName):""})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Experience ID"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.experienceId})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Campaign Activation Remark"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.campaignActivationRemark})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Campaign Sub-Activation Remark"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.campaignSubActivationRemark})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Brand"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.brand})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Sub-brand"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.subBrand})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Beverage Type"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.beverageType})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Agency Name"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:(null==s?void 0:s.agencyName)?u("agencyName",s.agencyName):""})]})]})})]})},C=({selectedImage:s,forceCollapse:t})=>{const[l,i]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&i(!t)},[t]);const d=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>i(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"Marketing Package and Container Info"}),e.jsx("span",{className:"asset-details-arrow "+(d?"expanded":"")})]}),d&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Package or Container Type"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.packageOrContainerType})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Package or Container Material"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.packageOrContainerMaterial})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Package or Container Size"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:(null==s?void 0:s.packageOrContainerSize)?u("packageContainerSize",s.packageOrContainerSize):""})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Secondary Packaging"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.secondaryPackaging})]})]})})]})},S=({selectedImage:s,forceCollapse:t})=>{const[l,i]=a.useState(!0);return a.useEffect(()=>{"boolean"==typeof t&&i(!t)},[t]),e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>i(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"Overview"}),e.jsx("span",{className:"asset-details-arrow "+(l?"expanded":"")})]}),l&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Title"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.title})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Japanese Title"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.japaneseTitle})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Tags"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.tags})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Japanese Description"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.japaneseDescription})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Asset Description"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.description})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"File Type"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.illustratorType})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Language"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.language})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Asset Status"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.assetStatus})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Asset Expiry Date"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.expirationDate})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Asset Category and Asset Type Execution"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:(null==s?void 0:s.category)||(null==s?void 0:s.categoryAndType)})]})]})})]})},I=({selectedImage:s,forceCollapse:t})=>{const[l,i]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&i(!t)},[t]);const d=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>i(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"Production"}),e.jsx("span",{className:"asset-details-arrow "+(d?"expanded":"")})]}),d&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Lead Operating Unit"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.leadOperatingUnit})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"TCCC Lead Associate (Legacy)"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.tcccLeadAssociateLegacy})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"TCCC Contact"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.tcccContact})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Fadel Job ID"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.fadelJobId})]})]})})]})},A=({selectedImage:s,forceCollapse:t})=>{const[l,i]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&i(!t)},[t]);const d=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>i(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"Scheduled (de)activation"}),e.jsx("span",{className:"asset-details-arrow "+(d?"expanded":"")})]}),d&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"On Time"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.onTime})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Off Time"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.offTime})]})]})})]})},k=({selectedImage:s,forceCollapse:t})=>{const[l,i]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&i(!t)},[t]);const d=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>{i(!l)},children:[e.jsx("h3",{className:"asset-details-title",children:"System Details"}),e.jsx("span",{className:"asset-details-arrow "+(d?"expanded":"")})]}),d&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Date Created"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.createDate})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Date Published"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.publishDate})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Date Modified"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:s.modifyDate})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Created By"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.createBy})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Published By"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.publishBy})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Publish Status"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.publishStatus})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Workfront ID"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.workfrontId})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Modified By"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.modifyBy})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Source ID"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.sourceId})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Migration ID"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.migrationId})]})]})})]})},T=({selectedImage:s,forceCollapse:t})=>{const[l,i]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&i(!t)},[t]);const d=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>i(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"System Info Legacy"}),e.jsx("span",{className:"asset-details-arrow "+(d?"expanded":"")})]}),d&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Legacy Asset ID 1.0"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.legacyAssetId1})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Legacy Asset ID 2.0"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.legacyAssetId2})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Legacy File Name"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.legacyFileName})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Source Upload Date"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.sourceUploadDate})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Source Uploader"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.sourceUploader})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Job ID"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.jobId})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Project ID"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.projectId})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Legacy Source System"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.legacySourceSystem})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Intended Business Unit or Market"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.intendedBusinessUnitOrMarket})]})]})})]})},D=({selectedImage:s,forceCollapse:t})=>{const[l,i]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&i(!t)},[t]);const d=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>i(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"Technical Info"}),e.jsx("span",{className:"asset-details-arrow "+(d?"expanded":"")})]}),d&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"File Size"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.formatedSize})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"ID"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.assetId})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Resolution"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.resolution})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Image Height"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.imageHeight})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Image Width"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.imageWidth})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Duration"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.duration})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Broadcast Format"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.broadcastFormat})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Titling"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.titling})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Ratio"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.ratio})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label",children:"Orientation"}),e.jsx("span",{className:"asset-details-main-metadata-value",children:null==s?void 0:s.orientation})]})]})})]})},E=({selectedImage:t,renditions:l,fallbackComponent:d})=>{var n;const{dynamicMediaClient:c}=s(),[o,m]=a.useState(!1),[h,u]=a.useState(!0),p=a.useMemo(()=>r(t.format),[t.format]),v=a.useMemo(()=>{var a,e,s;return p?(null==(s=null==(e=null==(a=null==l?void 0:l.items)?void 0:a.filter(a=>r(a.format)))?void 0:e.sort((a,e)=>(a.size??0)-(e.size??0)))?void 0:s[0])??null:null},[p,null==l?void 0:l.items]),x=a.useMemo(()=>v?(null==c?void 0:c.getPreviewPdfUrl(t.assetId,t.name,v.name))??null:null,[v,c,t.assetId,t.name]);return a.useEffect(()=>{if(!x)return;m(!1);(async()=>{for(let e=1;e<=3;e++)try{const a=await fetch(x,{method:"OPTIONS"});if(a.ok)return;if(e<3&&(404===a.status||503===a.status)){const a=500*Math.pow(2,e-1);await new Promise(e=>setTimeout(e,a));continue}return void m(!0)}catch(a){if(e<3){const a=500*Math.pow(2,e-1);await new Promise(e=>setTimeout(e,a));continue}return void m(!0)}m(!0)})()},[x]),a.useEffect(()=>{if(!h)return;const a=setTimeout(()=>{u(!1)},2e3);return()=>clearTimeout(a)},[h]),p&&v?!x||o||"yes"!==(null==(n=t.readyToUse)?void 0:n.toLowerCase())&&(void 0===t.authorized||t.authorized!==i.AVAILABLE)?d||null:e.jsxs("div",{className:"pdf-viewer-container",children:[h&&e.jsx("div",{className:"pdf-spinner-overlay",children:e.jsx("div",{className:"pdf-spinner"})}),e.jsx("object",{data:x,width:"100%",height:"100%","aria-label":t.title,onLoad:()=>{u(!1)}})]}):null},R=({showModal:t,selectedImage:l,closeModal:n,handleAddToCart:c,handleRemoveFromCart:o,cartAssetItems:u=[],imagePresets:p={},renditions:j={},fetchAssetRenditions:R})=>{var L;const{dynamicMediaClient:P}=s(),[M,F]=a.useState(!1),[B,O]=a.useState(!1),[z,U]=a.useState(!1),[V,G]=a.useState(void 0),[H,W]=a.useState(l),Y="yes"===(null==(L=null==H?void 0:H.readyToUse)?void 0:L.toLowerCase())||(null==H?void 0:H.authorized)===i.AVAILABLE,K=!!H&&u.some(a=>a.assetId===H.assetId);if(a.useEffect(()=>{if(t&&l&&P){W(l);(async()=>{const a=await(null==P?void 0:P.getMetadata(l.assetId));console.debug("Metadata:",a),W({...l,...h(a)})})()}},[t,l,P]),a.useEffect(()=>{t&&H&&(U(!1),G(void 0))},[t,H]),a.useEffect(()=>{t&&H&&R&&R(H)},[t,H,R]),a.useEffect(()=>{var a;const e=null==(a=j.items)?void 0:a.find(a=>{var e;return null==(e=a.name)?void 0:e.toLowerCase().startsWith("watermark")});G(e)},[j]),a.useEffect(()=>{U(!!V)},[V]),!t||!H)return null;return m.createPortal(e.jsxs("div",{className:"asset-details-modal portal-modal",onClick:a=>{a.target!==a.currentTarget||B||n()},style:{pointerEvents:"auto"},children:[e.jsxs("div",{className:"asset-details-modal-inner",onClick:a=>{a.stopPropagation()},children:[e.jsxs("div",{className:"asset-details-main-main-section",children:[e.jsx("div",{className:"asset-details-main-image-section",children:e.jsxs("div",{className:"asset-details-image-wrapper",children:[e.jsx("div",{className:"add-to-collection-overlay",onClick:a=>{if(a.preventDefault(),a.stopPropagation(),H)try{const a=(null==P?void 0:P.getOptimizedDeliveryPreviewUrl)?P.getOptimizedDeliveryPreviewUrl(H.assetId||"",H.name||"",350):void 0,e={asset:a?{...H,previewUrl:a}:H,assetPath:H.assetId};window.dispatchEvent(new CustomEvent("openCollectionModal",{detail:e}))}catch(e){console.warn("Failed to open Add to Collection modal from AssetDetails:",e)}},children:e.jsxs("div",{className:"add-to-collection-content",children:[e.jsx("i",{className:"icon add circle"}),e.jsx("span",{children:"Add to Collection"})]})}),(()=>{const a=e.jsx(d,{asset:l,width:1200,className:"asset-details-main-image",eager:!0,fetchPriority:"high"},null==l?void 0:l.assetId);return r(null==l?void 0:l.format)?e.jsx(E,{selectedImage:l,renditions:j,fallbackComponent:a}):a})()]})}),e.jsx("div",{className:"asset-details-main-info-section",children:e.jsxs("div",{className:"asset-details-main-info-section-inner",children:[e.jsxs("div",{className:"asset-details-main-header",children:[e.jsx("button",{className:"asset-details-main-close-button",onClick:n,children:"Ã—"}),(null==H?void 0:H.xcmKeywords)&&e.jsx("div",{className:"asset-details-main-tags",children:H.xcmKeywords.split(",").map((a,s)=>e.jsx("span",{className:"asset-details-main-tag tccc-tag",children:a.trim()},s))}),e.jsx("div",{className:"modal-title",children:H.title}),(null==H?void 0:H.description)&&e.jsx("p",{className:"modal-description",children:null==H?void 0:H.description})]}),e.jsx("div",{className:"details-modal-details",children:e.jsxs("div",{className:"details-modal-grid",children:[e.jsxs("div",{className:"details-modal-group",children:[e.jsx("span",{className:"details-metadata-label tccc-metadata-label",children:"CREATED"}),e.jsx("span",{className:"details-metadata-value tccc-metadata-value",children:H.createDate})]}),e.jsxs("div",{className:"details-modal-group",children:[e.jsx("span",{className:"details-metadata-label tccc-metadata-label",children:"TYPE"}),e.jsx("span",{className:"details-metadata-value tccc-metadata-value",children:H.illustratorType})]}),e.jsxs("div",{className:"details-modal-group",children:[e.jsx("span",{className:"details-metadata-label tccc-metadata-label",children:"SIZE"}),e.jsx("span",{className:"details-metadata-value tccc-metadata-value",children:H.formatedSize})]}),e.jsxs("div",{className:"details-modal-group",children:[e.jsx("span",{className:"details-metadata-label tccc-metadata-label",children:"LAST MODIFIED"}),e.jsx("span",{className:"details-metadata-value tccc-metadata-value",children:H.lastModified})]}),e.jsxs("div",{className:"details-modal-group",children:[e.jsx("span",{className:"details-metadata-label tccc-metadata-label",children:"RES."}),e.jsx("span",{className:"details-metadata-value tccc-metadata-value",children:H.resolution})]}),e.jsxs("div",{className:"details-modal-group",children:[e.jsx("span",{className:"details-metadata-label tccc-metadata-label",children:"EXPIRED"}),e.jsx("span",{className:"details-metadata-value tccc-metadata-value",children:H.expired})]}),e.jsxs("div",{className:"details-modal-group",children:[e.jsx("span",{className:"details-metadata-label tccc-metadata-label",children:"USAGE"}),e.jsx("span",{className:"details-metadata-value tccc-metadata-value",children:H.usage})]}),e.jsxs("div",{className:"details-modal-group",children:[e.jsx("span",{className:"details-metadata-label tccc-metadata-label",children:"RIGHTS FREE"}),e.jsx("span",{className:"details-metadata-value tccc-metadata-value",children:H.readyToUse})]})]})}),e.jsx("div",{className:"tccc-assets-rights-container",children:e.jsxs("div",{className:"tccc-assets-rights-inner",children:[e.jsx("h3",{className:"tccc-assets-rights-title",children:"Rights"}),e.jsxs("div",{className:"tccc-assets-rights-grid",children:[e.jsxs("div",{className:"tccc-assets-rights-group",children:[e.jsx("span",{className:"tccc-metadata-label",children:"RIGHTS PROFILE TITLE"}),e.jsx("span",{className:"tccc-metadata-value",children:null==H?void 0:H.rightsProfileTitle})]}),e.jsxs("div",{className:"tccc-assets-rights-group",children:[e.jsx("span",{className:"tccc-metadata-label",children:"MARKET COVERED"}),e.jsx("span",{className:"tccc-metadata-value",children:null==H?void 0:H.marketCovered})]}),e.jsxs("div",{className:"tccc-assets-rights-group",children:[e.jsx("span",{className:"tccc-metadata-label",children:"RIGHTS START DATE"}),e.jsx("span",{className:"tccc-metadata-value",children:null==H?void 0:H.rightsStartDate})]}),e.jsxs("div",{className:"tccc-assets-rights-group",children:[e.jsx("span",{className:"tccc-metadata-label",children:"RIGHTS END DATE"}),e.jsx("span",{className:"tccc-metadata-value",children:null==H?void 0:H.rightsEndDate})]}),e.jsxs("div",{className:"tccc-assets-rights-group",children:[e.jsx("span",{className:"tccc-metadata-label",children:"MEDIA"}),e.jsx("span",{className:"tccc-metadata-value",children:null==H?void 0:H.media})]})]})]})}),e.jsxs("div",{className:"product-actions",children:[e.jsx("div",{className:"left-buttons-wrapper",children:e.jsx(v,{disabled:!z,config:x.download,hasLoadingState:!0,onClick:async()=>{if(H&&P)if(V)try{console.log("Downloading watermark rendition:",V.name),await P.downloadAsset(H,V)}catch(a){console.error("Failed to download asset:",a)}else console.warn("Download not available - no watermark rendition found");else console.warn("No asset or dynamic media client available for download")}})}),e.jsxs("div",{className:"right-buttons-wrapper",children:[e.jsx("button",{disabled:!Y,className:"secondary-button",onClick:async()=>{O(!0)},children:"Download"}),e.jsx("button",{className:`asset-details-main-add-to-cart-button${K?" remove-from-cart":""} primary-button`,onClick:a=>{a.stopPropagation(),H&&(K?null==o||o(H):null==c||c(H,a))},children:K?"Remove From Cart":"Add To Cart"})]})]})]})})]}),e.jsx("div",{className:"asset-details-main-toggle-section"}),e.jsxs("div",{className:"asset-details-main-metadata-section",children:[e.jsx("div",{className:"cmp-title",children:e.jsxs("h1",{children:["Collapse All",e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:M,onChange:a=>{F(a.target.checked)}}),e.jsx("span",{className:"slider round"})]})]})}),e.jsxs("div",{className:"asset-details-main-metadata-grid",children:[e.jsxs("div",{className:"asset-details-main-metadata-left-container",children:[e.jsx(k,{selectedImage:H,forceCollapse:M}),e.jsx(g,{selectedImage:H,forceCollapse:M}),e.jsx(S,{selectedImage:H,forceCollapse:M}),e.jsx(b,{selectedImage:H,forceCollapse:M}),e.jsx(f,{selectedImage:H,forceCollapse:M}),e.jsx(A,{selectedImage:H,forceCollapse:M}),e.jsx(D,{selectedImage:H,forceCollapse:M}),e.jsx(T,{selectedImage:H,forceCollapse:M}),e.jsx(I,{selectedImage:H,forceCollapse:M}),e.jsx(w,{selectedImage:H,forceCollapse:M})]}),e.jsxs("div",{className:"asset-details-main-metadata-right-container",children:[e.jsx(y,{selectedImage:H,forceCollapse:M}),e.jsx(C,{selectedImage:H,forceCollapse:M})]})]})]})]}),m.createPortal(e.jsx(N,{isOpen:B,asset:H,onCloseDownloadRenditions:()=>{O(!1)},renditions:j,imagePresets:p}),document.body)]}),(()=>{let a=document.getElementById("modal-root");if(!a){a=document.createElement("div"),a.id="modal-root",a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.width="100%",a.style.height="100%",a.style.zIndex="1",a.style.pointerEvents="none";const e=document.querySelector("header");e?document.body.insertBefore(a,e):document.body.appendChild(a)}return a})())},L=({showModal:i,selectedImage:n,closeModal:c,handleAddToCart:o,handleRemoveFromCart:m,cartAssetItems:h=[],renditions:p={},fetchAssetRenditions:j})=>{const{dynamicMediaClient:N}=s(),[g,b]=a.useState(!1),[f,w]=a.useState(void 0),y=!!n&&h.some(a=>a.assetId===n.assetId);if(a.useEffect(()=>{i&&n&&(b(!1),w(void 0))},[i,n]),a.useEffect(()=>{i&&n&&j&&j(n)},[i,n,j]),a.useEffect(()=>{var a;const e=null==(a=p.items)?void 0:a.find(a=>{var e;return null==(e=a.name)?void 0:e.toLowerCase().startsWith("watermark")});w(e)},[p]),a.useEffect(()=>{b(!!f)},[f]),!i||!n)return null;return e.jsx("div",{className:"asset-preview-modal portal-modal",onClick:a=>{a.target===a.currentTarget&&c()},children:e.jsxs("div",{className:"asset-preview-modal-inner",onClick:a=>{a.stopPropagation()},children:[e.jsx("button",{className:"modal-close-button",onClick:c,children:"âœ•"}),e.jsxs("div",{className:"asset-preview-modal-container",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("div",{className:"preview-tags",children:(null==n?void 0:n.campaignName)&&e.jsx("span",{className:"preview-tag tccc-tag",children:u("campaignName",null==n?void 0:n.campaignName)})}),e.jsx("h3",{className:"modal-title",children:null==n?void 0:n.title})]}),e.jsx("div",{className:"modal-image-container",children:(()=>{const a=e.jsx(d,{asset:n,width:350,className:"modal-image",eager:!0,fetchPriority:"high"},null==n?void 0:n.assetId);return r(null==n?void 0:n.format)?e.jsx(E,{selectedImage:n,renditions:p,fallbackComponent:a}):a})()}),e.jsx("div",{className:"preview-modal-details",children:e.jsxs("div",{className:"preview-modal-grid",children:[e.jsxs("div",{className:"preview-modal-group",children:[e.jsx("span",{className:"preview-metadata-label tccc-metadata-label",children:"SIZE"}),e.jsx("span",{className:"preview-metadata-value tccc-metadata-value",children:n.formatedSize})]}),e.jsxs("div",{className:"preview-modal-group",children:[e.jsx("span",{className:"preview-metadata-label tccc-metadata-label",children:"TYPE"}),e.jsx("span",{className:"preview-metadata-value tccc-metadata-value",children:n.formatLabel})]}),e.jsxs("div",{className:"preview-modal-group",children:[e.jsx("span",{className:"preview-metadata-label tccc-metadata-label",children:"FILE EXT"}),e.jsx("span",{className:"preview-metadata-value tccc-metadata-value",children:t(n.name)})]}),e.jsxs("div",{className:"preview-modal-group",children:[e.jsx("span",{className:"preview-metadata-label tccc-metadata-label",children:"RIGHTS FREE"}),e.jsx("span",{className:"preview-metadata-value tccc-metadata-value",children:n.readyToUse})]}),e.jsxs("div",{className:"preview-modal-group",children:[e.jsx("span",{className:"preview-metadata-label tccc-metadata-label",children:"CATEGORY"}),e.jsx("span",{className:"preview-metadata-value tccc-metadata-value",children:l(null==n?void 0:n.category)})]})]})}),e.jsxs("div",{className:"product-actions",children:[e.jsx("div",{className:"left-buttons-wrapper",children:e.jsx("button",{className:"modal-add-to-cart-button"+(y?" remove-from-cart":""),onClick:a=>{a.stopPropagation(),n&&(y?null==m||m(n):null==o||o(n,a))},children:y?"Remove From Cart":"Add To Cart"})}),e.jsx("div",{className:"right-buttons-wrapper",children:e.jsx(v,{disabled:!g,config:x.download,hasLoadingState:!0,onClick:async()=>{if(n&&N)if(f)try{console.log("Downloading watermark rendition:",f.name),await N.downloadAsset(n,f)}catch(a){console.error("Failed to download asset:",a)}else console.warn("Download not available - no watermark rendition found");else console.warn("No asset or dynamic media client available for download")}})})]})]})]})})},P=({className:s="",items:t,handlers:l,show:i,label:d,selectedItem:n,onSelectedItemChange:c})=>{const[o,r]=a.useState(!1),m=a.useMemo(()=>`${s?s.replace(/\s+/g,"-").toLowerCase():"dropdown"}-actions-${Math.random().toString(36).substr(2,9)}`,[s]);a.useEffect(()=>{const a=a=>{const e=a.target;if(o){const a=document.getElementById(m);if(a&&!a.contains(e)){const e=a.querySelector(".menu");e&&(e.style.display="none",a.classList.remove("open")),r(!1)}}};return o&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[o,m]);return i?e.jsx("div",{className:`dropdown-actions-section ${s}`,children:e.jsxs("div",{className:"ui simple dropdown item",id:m,onClick:a=>{a.preventDefault(),a.stopPropagation();const e=a.currentTarget,s=e.querySelector(".menu");s&&(o?(s.style.display="none",e.classList.remove("open"),r(!1)):(s.style.display="block",e.classList.add("open"),r(!0)))},children:[e.jsx("span",{className:"dropdown-label",children:n||d}),e.jsx("i",{className:"dropdown icon"}),e.jsx("div",{className:"menu",children:t.map((a,s)=>e.jsx("div",{className:"item "+(n===a?"selected":""),onClick:e=>((a,e,s)=>{a.preventDefault(),a.stopPropagation(),null==c||c(s),e();const t=document.getElementById(m),l=null==t?void 0:t.querySelector(".menu");l&&t&&(l.style.display="none",t.classList.remove("open")),r(!1)})(e,l[s],a),children:a},s))})]})}):null},M=({totalCount:a,selectedCount:s,displayedCount:t,onSelectAll:l,onToggleMobileFilter:i,isMobileFilterOpen:d,onBulkAddToCart:n,onBulkAddToCollection:c,onSortByTopResults:o,onSortByDateCreated:r,onSortByLastModified:m,onSortBySize:h,onSortDirectionAscending:u,onSortDirectionDescending:p,selectedSortType:v,selectedSortDirection:x,onSortTypeChange:j,onSortDirectionChange:N,expandAllDetails:g,onExpandAllDetailsChange:b,viewType:f,onViewTypeChange:w,selectAuthorized:y,onSelectAuthorized:C,isRightsSearch:S=!1})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"search-primary-panel",children:e.jsxs("div",{className:"primary-panel-container",children:[e.jsxs("div",{className:"left-panel-group",children:[e.jsx(P,{className:"SortCards sort-dropdown-disabled",items:["Top Results","Date Created","Last Modified","Size"],handlers:[o,r,m,h],show:!0,label:void 0,selectedItem:v,onSelectedItemChange:j}),e.jsx(P,{className:"SortDirection sort-dropdown-disabled",items:["Ascending","Descending"],handlers:[u,p],show:!0,label:void 0,selectedItem:x,onSelectedItemChange:N}),e.jsx("div",{className:"cmp-title",children:e.jsxs("h1",{children:["Show full details",e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:g,onChange:a=>{null==b||b(a.target.checked)}}),e.jsx("span",{className:"slider round"})]})]})})]}),e.jsxs("div",{className:"right-panel-group",children:[e.jsxs("div",{className:"card-view-container",children:[e.jsx("button",{className:"grid-view-btn "+("grid"===f?"active":""),type:"button",title:"Grid View",onClick:()=>{null==w||w("grid")},children:e.jsx("img",{src:"/tools/assets-browser/icons/gridview.svg",alt:"Grid View"})}),e.jsx("button",{className:"list-view-btn "+("list"===f?"active":""),type:"button",title:"List View",onClick:()=>{null==w||w("list")},children:e.jsx("img",{src:"/tools/assets-browser/icons/listview.svg",alt:"List View"})})]}),e.jsxs("button",{className:"filter-button",type:"button",onClick:i,children:[e.jsx("img",{src:"/tools/assets-browser/icons/Filter-search.svg",alt:"Filter",className:"filter-icon"}),d?"Hide Filter":"Show Filter"]})]})]})}),e.jsx("div",{className:"search-secondary-panel",children:e.jsxs("div",{className:"secondary-panel-container",children:[e.jsxs("div",{className:"left-panel-group",children:[e.jsx("div",{className:"search-statistics",children:e.jsxs("div",{className:"total-statistic",children:[e.jsx("span",{className:"total-count",children:a}),e.jsx("span",{className:"total-label",children:"Total"})]})}),e.jsxs("div",{className:"select-section",children:[S&&e.jsxs("div",{className:"select-authorized",children:[e.jsx("input",{type:"checkbox",id:"select-authorized",checked:y||!1,onChange:a=>null==C?void 0:C(a.target.checked)}),e.jsx("label",{htmlFor:"select-authorized",children:"Show only authorized assets"})]}),e.jsxs("div",{className:"select-all",children:[e.jsx("input",{type:"checkbox",id:"select-all",checked:s>0&&s===t,onChange:a=>l(a.target.checked)}),e.jsxs("label",{htmlFor:"select-all",children:["Select All ",s>0&&e.jsxs("span",{className:"dropdown-count",children:["(",s,")"]})]})]})]}),e.jsx(P,{className:"dropdown-actions-section",items:["Add to cart","Add to Collection"],handlers:[n,c],show:s>0,label:"Actions",selectedItem:void 0})]}),e.jsx("div",{className:"right-panel-group"})]})})]}),F=({images:t,loading:l,onAddToCart:d,onRemoveFromCart:n,cartAssetItems:c=[],searchResult:o,onToggleMobileFilter:r,isMobileFilterOpen:h,onBulkAddToCart:u,onSortByTopResults:v,onSortByDateCreated:x,onSortByLastModified:N,onSortBySize:g,onSortDirectionAscending:b,onSortDirectionDescending:f,selectedSortType:w,selectedSortDirection:y,onSortTypeChange:C,onSortDirectionChange:S,onLoadMoreResults:I,hasMorePages:A=!1,isLoadingMore:k=!1,imagePresets:T={},assetRenditionsCache:D={},fetchAssetRenditions:E,isRightsSearch:P=!1,onFacetCheckbox:F,onClearAllFacets:B})=>{const{externalParams:O}=s(),z=(null==O?void 0:O.accordionTitle)||p.accordionTitle,U=(null==O?void 0:O.accordionContent)||p.accordionContent,[V,G]=a.useState(null),[H,W]=a.useState(!1),[Y,K]=a.useState(!1),[q,J]=a.useState(new Set),[$,Z]=a.useState(!0),[X,_]=a.useState("grid"),[Q,aa]=a.useState(!1),[ea,sa]=a.useState(!1),[ta,la]=a.useState(t),ia=ta.length,da=q.size;a.useEffect(()=>{la(ea?t.filter(a=>void 0===a.authorized||a.authorized===i.AVAILABLE):t),J(new Set)},[t,ea]),a.useEffect(()=>{sa(!1)},[t]),a.useEffect(()=>{const a=a=>{"Escape"===a.key&&(Y?ha():H&&ra())};return(H||Y)&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[H,Y]);const na=a.useCallback(async(a,e=!1)=>{console.debug("openDetailsView called with asset:",a,"loadMetadata:",e),a?(console.debug("Setting selected card with asset ID:",a.assetId,"Asset object:",JSON.stringify(a,null,2)),G(a)):console.log("No asset provided to openDetailsView"),K(!0)},[]);a.useEffect(()=>(window.openDetailsView=na,window.closeDetailsView=()=>ha(),()=>{delete window.openDetailsView,delete window.closeDetailsView}),[na]);const ca=(a,e)=>{null==e||e.stopPropagation(),null==d||d(a)},oa=(a,e)=>{e.stopPropagation(),G(a),W(!0)},ra=()=>{W(!1),G(null)},ma=(a,e)=>{e.stopPropagation(),G(a),K(!0)},ha=()=>{G(null),K(!1)},ua=(a,e)=>{J(s=>{const t=new Set(s);return e?t.add(a):t.delete(a),t})},pa=o&&o.nbHits?o.nbHits.toString():"0";return e.jsxs("div",{className:"image-gallery",children:[e.jsxs("div",{className:"gallery-title "+(Q?"expanded":""),children:[e.jsxs("div",{className:"gallery-title-content",children:[e.jsx("div",{className:"gallery-title-icon","aria-label":"Info"}),e.jsx("h3",{dangerouslySetInnerHTML:{__html:z}})]}),e.jsx("button",{className:"gallery-title-toggle "+(Q?"expanded":"collapsed"),onClick:()=>{aa(!Q)}})]}),Q&&e.jsx("div",{className:"gallery-title-expanded",dangerouslySetInnerHTML:{__html:U}}),e.jsx(M,{totalCount:pa,selectedCount:da,displayedCount:ia,onSelectAll:a=>{J(a?new Set(ta.map(a=>a.assetId||"")):new Set)},onToggleMobileFilter:r,isMobileFilterOpen:h,onBulkAddToCart:()=>{u(q,ta),J(new Set)},onBulkDownload:()=>{console.log("Bulk download:",Array.from(q))},onBulkShare:()=>{console.log("Bulk share:",Array.from(q))},onBulkAddToCollection:()=>{const a=ta.filter(a=>q.has(a.assetId||""));if(0===a.length)return;const e=new CustomEvent("openCollectionModal",{detail:{assets:a}});window.dispatchEvent(e),J(new Set)},onSortByTopResults:v,onSortByDateCreated:x,onSortByLastModified:N,onSortBySize:g,onSortDirectionAscending:b,onSortDirectionDescending:f,selectedSortType:w,selectedSortDirection:y,onSortTypeChange:C,onSortDirectionChange:S,expandAllDetails:$,onExpandAllDetailsChange:Z,viewType:X,onViewTypeChange:_,hasMorePages:A,currentPage:(null==o?void 0:o.page)||0,totalPages:(null==o?void 0:o.nbPages)||0,selectAuthorized:ea,onSelectAuthorized:a=>{sa(a)},isRightsSearch:P}),e.jsx("div",{className:"image-grid-wrapper",children:l?e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading images..."})]}):0===ta.length?e.jsx("div",{className:"no-images",children:e.jsx("p",{children:"No images to display"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid"===X?"image-grid":"image-grid-list",children:ta.map((a,s)=>e.jsx(j,{viewMode:X,image:a,handleCardDetailClick:ma,handlePreviewClick:oa,handleAddToCart:ca,handleRemoveFromCart:n,cartAssetItems:c,isSelected:q.has(a.assetId||""),onCheckboxChange:ua,expandAllDetails:$,index:s,onFacetCheckbox:F,onClearAllFacets:B},a.assetId))}),k&&e.jsxs("div",{className:"loading-more-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading more results..."})]}),A&&!k&&e.jsx("div",{className:"load-more-button-container",children:e.jsx("button",{className:"load-more-button",onClick:I,children:"Load more"})})]})}),m.createPortal(e.jsx(L,{showModal:H,closeModal:ra,selectedImage:V,handleAddToCart:ca,handleRemoveFromCart:n,cartAssetItems:c,renditions:(null==V?void 0:V.assetId)?D[V.assetId]:void 0,fetchAssetRenditions:E}),document.body),e.jsx(R,{showModal:Y,closeModal:ha,selectedImage:V,handleAddToCart:ca,handleRemoveFromCart:n,cartAssetItems:c,imagePresets:T,renditions:(null==V?void 0:V.assetId)?D[V.assetId]:void 0,fetchAssetRenditions:E})]})};export{F as default};
//# sourceMappingURL=ImageGallery.js.map
