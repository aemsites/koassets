import{r as a,j as e,u as s,g as t,f as l,A as d,P as c,E as i,D as n,i as o,h as r,k as m,F as h,l as u,d as v,$ as p}from"./index.js";import{a as x,b as j}from"./displayUtils.js";const N={accordionTitle:"Search Assets - where you can discover the company's latest and greatest content!",accordionContent:'<p><b>SEARCH:</b> Use the search bar in conjunction with the filters on the right to filter by usage rights, campaign, brand, asset type, and more.</p>\n<p><b>FILTERS:</b> On the right side of your screen, you will see a variety of filters to help you find the content you need. To use them, click on the filter you want to use, search for or scroll to the filter value you think is most relevant, and once selected hit the "Apply" button at the bottom.</p>\n<p><b>DOWNLOAD:</b> After selecting your asset(s), click the "ADD TO CART" button then go to your cart, located at the top right of the page. If an asset is rights free you can begin downloading immediately from your cart. For rights-protected content enter in your intended use to request your download.</p>\n<p><b>ADDING MULTIPLE ASSETS TO YOUR CART:</b> You can download multiple assets at once using the below instructions:</p>\n<ul><li><p>Locate the checkbox icon in the top left of each asset\'s thumbnail for each asset you wish to download.</p>\n</li></ul>\n<ul><li><p>Navigate to the top of the search to the drop-down menu that says, "Actions" and choose "Add to Cart."</p>\n</li></ul>\n<p><b>"RIGHTS FREE" ASSETS DOWNLOAD:</b> You don\'t need to enter your intended use for "Rights Free" Assets! Use the "Rights Free" search filter and select yes to only view "Rights Free" assets.</p>\n<p><b>NEED ADDITIONAL SUPPORT</b>? If you have any additional questions reach out to our asset management team via <a href="mailto:assetmanagers@coca-cola.com"><b>assetmanagers@coca-cola.com</b></a> or visit our <a href="https://forms.office.com/Pages/ResponsePage.aspx?id=qyaNVKqM4UmXwqGxoGzDnPYUeiWm8X1KiF0OxjOzZ3VUNlNNTzcxME9SMVpTTUUzVzY4TkFYV1dLVS4u&amp;wdLOR=c0E1D32CE-2209-4C6C-893D-F353FDC5C295"><b>Support Portal</b></a>.</p>'},g=({disabled:s,onClick:t,config:l,hasLoadingState:d=!1,style:c})=>{const[i,n]=a.useState(!1),o=a.useRef(null),r=a.useRef(null),m=s&&l.disabled?l.disabled:i&&l.downloading?l.downloading:l.idle;return e.jsxs("div",{className:"action-button-container",ref:o,onMouseEnter:()=>{(()=>{if(o.current&&r.current){const a=o.current.getBoundingClientRect(),e=r.current;e.style.top=a.top-35+"px",e.style.right=window.innerWidth-a.right+"px"}})()},style:c,children:[e.jsx("button",{disabled:s,className:`action-button ${m.className}`,onClick:async()=>{if(d){n(!0);try{await t()}finally{n(!1)}}else t()},style:m.backgroundImage?{backgroundImage:`url(${m.backgroundImage})`}:void 0}),m.tooltip&&e.jsx("span",{className:"action-button-tooltip",ref:r,children:m.tooltip})]})},b={download:{idle:{className:"download",backgroundImage:"/tools/assets-browser/icons/download-asset.svg",tooltip:"Download preview"},downloading:{className:"downloading",backgroundImage:"/tools/assets-browser/icons/downloading-asset.svg",tooltip:"Downloading..."},disabled:{className:"download",backgroundImage:"/tools/assets-browser/icons/download-asset.svg",tooltip:"Preview not available"}}};function f(a,e="success"){const s=document.createElement("div");s.className=`toast toast-${e}`,s.textContent=a,document.body.appendChild(s),setTimeout(()=>{s.classList.add("show")},10),setTimeout(()=>{s.classList.remove("show"),setTimeout(()=>{s.parentNode&&document.body.removeChild(s)},300)},3e3)}function w({assetId:a,disabled:e=!1}){const s=document.createElement("button");s.className="share-asset-button",s.disabled=e,s.setAttribute("aria-label","Share Asset"),s.setAttribute("title","Share Asset");return s.onclick=async e=>{if(console.debug("[ShareButton] handleShare called with assetId:",a),e.stopPropagation(),!a)return void console.warn("No assetId provided for sharing");const s=`${window.location.protocol}//${window.location.host}/asset-details?assetid=${a}`;try{await navigator.clipboard.writeText(s),console.debug("Share link copied to clipboard:",s),f("Asset link copied to clipboard","success")}catch(t){console.error("Failed to copy share link to clipboard:",t),(a=>{const e=document.createElement("textarea");e.value=a,e.style.position="fixed",e.style.left="-999999px",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy"),console.debug("Share link copied to clipboard (fallback):",a),f("Asset link copied to clipboard","success")}catch(s){console.error("Fallback: Could not copy text:",s),f("Failed to copy link to clipboard","error")}document.body.removeChild(e)})(s)}},s}function y({assetId:s,disabled:t=!1}){const l=a.useRef(null);return a.useEffect(()=>{const a=l.current;if(!a)return;const e=w({assetId:s,disabled:t});return a.appendChild(e),()=>{e.parentNode===a&&a.removeChild(e)}},[s,t]),e.jsx("div",{ref:l,style:{display:"contents"}})}const C=({image:a,handleCardDetailClick:n,handlePreviewClick:o,handleAddToCart:r,handleRemoveFromCart:m,cartAssetItems:h=[],isSelected:u=!1,onCheckboxChange:v,expandAllDetails:p=!0,index:j=0,viewMode:N,className:f="",onFacetCheckbox:w,onClearAllFacets:C})=>{const{dynamicMediaClient:S}=s(),I=h.some(e=>e.assetId===a.assetId),A=e=>{e.stopPropagation(),I?null==m||m(a):null==r||r(a,e)},k=async()=>{if(a&&S)try{console.log("Downloading original asset:",a.assetId),await S.downloadAsset(a)}catch(e){console.error("Failed to download asset:",e)}else console.warn("No asset or dynamic media client available for download")},E=`asset-card-view-${N} ${f}`.trim(),T=`asset-card-view-${N}-inner`,D="grid"===N?"h3":"div",L="grid"===N?"left-buttons-wrapper":"top-buttons-wrapper",R="grid"===N?"right-buttons-wrapper":"bottom-buttons-wrapper",P=p&&e.jsxs("div",{className:"product-meta-grid",children:[e.jsxs("div",{className:"product-meta-item",children:[e.jsx("span",{className:"product-meta-label tccc-metadata-label",children:"SIZE"}),e.jsx("span",{className:"product-meta-value tccc-metadata-value",children:a.formatedSize})]}),e.jsxs("div",{className:"product-meta-item",children:[e.jsx("span",{className:"product-meta-label tccc-metadata-label",children:"TYPE"}),e.jsx("span",{className:"product-meta-value tccc-metadata-value",children:a.formatLabel})]}),e.jsxs("div",{className:"product-meta-item",children:[e.jsx("span",{className:"product-meta-label tccc-metadata-label",children:"FILE EXT"}),e.jsx("span",{className:"product-meta-value tccc-metadata-value",children:t(a.name)})]}),e.jsxs("div",{className:"product-meta-item",children:[e.jsx("span",{className:"product-meta-label tccc-metadata-label",children:"RIGHTS FREE"}),e.jsx("span",{className:"product-meta-value tccc-metadata-value",children:a.readyToUse})]}),e.jsxs("div",{className:"product-meta-item",children:[e.jsx("span",{className:"product-meta-label tccc-metadata-label",children:"CATEGORY"}),e.jsx("span",{className:"product-meta-value tccc-metadata-value",children:l(null==a?void 0:a.category)})]})]}),F=e.jsxs(e.Fragment,{children:[a.authorized===d.AVAILABLE&&e.jsx("span",{className:"product-authorized-status green",children:"AUTHORIZED"}),(a.authorized===d.NOT_AVAILABLE||a.authorized===d.AVAILABLE_EXCEPT)&&e.jsx("span",{className:"product-authorized-status red",children:"EXTENSION REQUIRED"})]});return e.jsx("div",{className:E,id:a.assetId,children:e.jsxs("div",{className:T,children:[e.jsxs("div",{className:"image-wrapper",onClick:e=>n(a,e),style:{cursor:"pointer"},children:[e.jsx("input",{type:"checkbox",className:"tccc-checkbox",checked:u,onChange:e=>{null==v||v(a.assetId||"",e.target.checked)},onClick:a=>a.stopPropagation()}),e.jsx("button",{className:"image-preview-button",onClick:e=>o(a,e),title:"View larger image",children:e.jsx("svg",{viewBox:"0 0 256.001 256.001",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M159.997 116a12 12 0 0 1-12 12h-20v20a12 12 0 0 1-24 0v-20h-20a12 12 0 0 1 0-24h20V84a12 12 0 0 1 24 0v20h20a12 12 0 0 1 12 12Zm72.48 116.482a12 12 0 0 1-16.971 0l-40.679-40.678a96.105 96.105 0 1 1 16.972-16.97l40.678 40.678a12 12 0 0 1 0 16.97Zm-116.48-44.486a72 72 0 1 0-72-72 72.081 72.081 0 0 0 72 72Z"})})}),e.jsx("div",{className:"add-to-collection-overlay",onClick:e=>{e.stopPropagation();const s=S&&a.assetId&&a.name?S.getOptimizedDeliveryPreviewUrl(a.assetId,a.name,350):void 0,t=new CustomEvent("openCollectionModal",{detail:{asset:{...a,previewUrl:s},assetPath:a.repositoryPath||a.assetId}});window.dispatchEvent(t)},children:e.jsxs("div",{className:"add-to-collection-content",children:[e.jsx("i",{className:"icon add circle"}),e.jsx("span",{children:"Add to Collection"})]})}),e.jsx(c,{asset:a,width:350,className:"image-container",eager:j<i,fetchPriority:j<i?"high":"auto"},a.assetId)]}),e.jsx("div",{className:"product-info-container",children:e.jsxs("div",{className:"product-info",children:[e.jsxs("div",{className:"product-title-section",children:[(null==a?void 0:a.campaignName)&&e.jsx("div",{className:"product-tags",children:e.jsx("span",{className:"product-tag tccc-tag",onClick:e=>{e.stopPropagation(),null==C||C(),null==w||w("tccc-campaignName",null==a?void 0:a.campaignName)},style:{cursor:"pointer"},children:x("campaignName",null==a?void 0:a.campaignName)})}),e.jsx(D,{className:"product-title",onClick:e=>n(a,e),style:{cursor:"pointer"},children:a.title}),F]}),P]})}),e.jsxs("div",{className:"product-actions",children:[e.jsx("div",{className:L,children:"grid"===N?e.jsx("button",{className:"add-to-cart-btn"+(I?" remove-from-cart":""),onClick:A,children:I?"Remove From Cart":"Add To Cart"}):e.jsx(g,{config:b.download,hasLoadingState:!0,onClick:k,style:{display:"none"}})}),e.jsxs("div",{className:R,children:[e.jsx(y,{assetId:a.assetId}),"grid"===N?e.jsx(g,{config:b.download,hasLoadingState:!0,onClick:k,style:{display:"none"}}):e.jsx("button",{className:"add-to-cart-btn"+(I?" remove-from-cart":""),onClick:A,children:I?"Remove From Cart":"Add To Cart"})]})]})]})})},S=({isOpen:s,asset:t,onCloseDownloadRenditions:l,renditions:d,imagePresets:c})=>{const[i,o]=a.useState(!1),[r,m]=a.useState(null);a.useEffect(()=>{s&&(o(!1),m(null))},[s]);const h=a.useCallback(a=>{"Escape"===a.key&&(a.preventDefault(),a.stopPropagation(),a.stopImmediatePropagation(),l())},[l]);a.useEffect(()=>{if(s)return document.addEventListener("keydown",h,{capture:!0}),()=>document.removeEventListener("keydown",h,{capture:!0})},[s,h]);const u=a.useCallback(a=>{a.target===a.currentTarget&&l()},[l]),v=a.useMemo(()=>[{asset:t,renditions:d,imagePresets:c,renditionsLoading:i,renditionsError:r}],[t,d,c,i,r]);return s&&t?e.jsx("div",{className:"download-renditions-overlay portal-modal",onClick:u,children:e.jsxs("div",{className:"download-renditions-modal",children:[e.jsxs("div",{className:"download-renditions-header",children:[e.jsx("div",{className:"download-renditions-header-title",children:"Download"}),e.jsx("button",{className:"download-renditions-close",onClick:l,children:"×"})]}),e.jsx(n,{assets:v,onCloseDownloadRenditions:l})]})}):null},I=({selectedImage:s,forceCollapse:t})=>{const[l,d]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&d(!t)},[t]);const c=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>{d(!l)},children:[e.jsx("h3",{className:"asset-details-title",children:"DRM"}),e.jsx("span",{className:"asset-details-arrow "+(c?"expanded":"")})]}),c&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Risk Type Management"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.riskTypeManagement})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Rights Notes"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.rightsNotes})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Rights Status"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.rightsStatus})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Rights Free"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.readyToUse})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Business Affairs Manager"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.businessAffairsManager})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Fadel ID"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.fadelId})]})]})})]})},A=({selectedImage:s,forceCollapse:t})=>{const[l,d]=a.useState(!0);return a.useEffect(()=>{"boolean"==typeof t&&d(!t)},[t]),e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>d(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"TCCC General Info"}),e.jsx("span",{className:"asset-details-arrow "+(l?"expanded":"")})]}),l&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Long Range Plan - Business Goal"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.longRangePlan})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Long Range Plan Tactic"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.longRangePlanTactic})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Campaign Reach"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.campaignReach})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Master or Adaptation"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.masterOrAdaptation})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Keywords"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.keywords})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Japanese Keywords"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.japaneseKeywords})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Age and Demographic"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.ageDemographic})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Source Asset"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.sourceAsset})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Derived Assets"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.derivedAssets})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Other Assets"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.otherAssets})]})]})})]})},k=({selectedImage:s,forceCollapse:t})=>{const[l,d]=a.useState(!0);return a.useEffect(()=>{"boolean"==typeof t&&d(!t)},[t]),e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>d(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"Intended Use"}),e.jsx("span",{className:"asset-details-arrow "+(l?"expanded":"")})]}),l&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Intended Bottler Country"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.intendedBottlerCountry})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Intended Customers"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.intendedCustomers})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Intended Channel"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.intendedChannel})]})]})})]})},E=({selectedImage:s,forceCollapse:t})=>{const[l,d]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&d(!t)},[t]);const c=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>d(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"Legacy Fields"}),e.jsx("span",{className:"asset-details-arrow "+(c?"expanded":"")})]}),c&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Original Create Date"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.originalCreateDate})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Date Uploaded"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.dateUploaded})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Under Embargo"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.underEmbargo})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Is this asset associated with a brand?"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.assetAssociatedWithBrand})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Is there a package depicted in this asset?"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.packageDepicted})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Funding BU or Market"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.fundingBuOrMarket})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Track Name"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.trackName})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Brands which have the asset as guideline"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.brandsWAssetGuideline})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Brands which have the asset as hero image"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.brandsWAssetHero})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Campaign where assets are key assets"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.campaignsWKeyAssets})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Featured Asset"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.featuredAsset})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Key Asset"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.keyAsset})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Layout"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.layout})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Jobs which have the asset as the contract asset"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.contractAssetJobs})]})]})})]})},T=({selectedImage:s,forceCollapse:t})=>{const[l,d]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&d(!t)},[t]);const c=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>d(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"Marketing Overview"}),e.jsx("span",{className:"asset-details-arrow "+(c?"expanded":"")})]}),c&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Campaign Name"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.campaignName})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Experience ID"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.experienceId})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Campaign Activation Remark"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.campaignActivationRemark})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Campaign Sub-Activation Remark"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.campaignSubActivationRemark})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Brand"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.brand})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Sub-brand"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.subBrand})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Beverage Type"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.beverageType})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Agency Name"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.agencyName})]})]})})]})},D=({selectedImage:s,forceCollapse:t})=>{const[l,d]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&d(!t)},[t]);const c=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>d(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"Marketing Package and Container Info"}),e.jsx("span",{className:"asset-details-arrow "+(c?"expanded":"")})]}),c&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Package or Container Type"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.packageOrContainerType})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Package or Container Material"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.packageOrContainerMaterial})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Package or Container Size"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.packageOrContainerSize})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Secondary Packaging"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.secondaryPackaging})]})]})})]})},L=({selectedImage:s,forceCollapse:t})=>{const[l,d]=a.useState(!0);return a.useEffect(()=>{"boolean"==typeof t&&d(!t)},[t]),e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>d(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"Overview"}),e.jsx("span",{className:"asset-details-arrow "+(l?"expanded":"")})]}),l&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Title"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.title})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Japanese Title"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.japaneseTitle})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Tags"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.tags})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Japanese Description"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.japaneseDescription})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Asset Description"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.description})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"File Type"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.illustratorType})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Language"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.language})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Asset Status"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.assetStatus})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Asset Expiry Date"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.expirationDate})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Asset Category and Asset Type Execution"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:(null==s?void 0:s.category)||(null==s?void 0:s.categoryAndType)})]})]})})]})},R=({selectedImage:s,forceCollapse:t})=>{const[l,d]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&d(!t)},[t]);const c=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>d(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"Production"}),e.jsx("span",{className:"asset-details-arrow "+(c?"expanded":"")})]}),c&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Lead Operating Unit"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.leadOperatingUnit})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"TCCC Lead Associate (Legacy)"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.tcccLeadAssociateLegacy})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"TCCC Contact"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.tcccContact})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Fadel Job ID"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.fadelJobId})]})]})})]})},P=({selectedImage:s,forceCollapse:t})=>{const[l,d]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&d(!t)},[t]);const c=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>d(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"Scheduled (de)activation"}),e.jsx("span",{className:"asset-details-arrow "+(c?"expanded":"")})]}),c&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"On Time"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.onTime})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Off Time"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.offTime})]})]})})]})},F=({selectedImage:s,forceCollapse:t})=>{const[l,d]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&d(!t)},[t]);const c=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>{d(!l)},children:[e.jsx("h3",{className:"asset-details-title",children:"System Details"}),e.jsx("span",{className:"asset-details-arrow "+(c?"expanded":"")})]}),c&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Date Created"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.createDate})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Date Published"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.publishDate})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Date Modified"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:s.modifyDate})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Created By"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.createBy})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Published By"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.publishBy})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Publish Status"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.publishStatus})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Workfront ID"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.workfrontId})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Modified By"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.modifyBy})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Source ID"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.sourceId})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Migration ID"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.migrationId})]})]})})]})},M=({selectedImage:s,forceCollapse:t})=>{const[l,d]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&d(!t)},[t]);const c=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>d(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"System Info Legacy"}),e.jsx("span",{className:"asset-details-arrow "+(c?"expanded":"")})]}),c&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Legacy Asset ID 1.0"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.legacyAssetId1})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Legacy Asset ID 2.0"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.legacyAssetId2})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Legacy File Name"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.legacyFileName})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Source Upload Date"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.sourceUploadDate})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Source Uploader"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.sourceUploader})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Job ID"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.jobId})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Project ID"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.projectId})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Legacy Source System"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.legacySourceSystem})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Intended Business Unit or Market"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.intendedBusinessUnitOrMarket})]})]})})]})},O=({selectedImage:s,forceCollapse:t})=>{const[l,d]=a.useState(!0);a.useEffect(()=>{"boolean"==typeof t&&d(!t)},[t]);const c=l;return e.jsxs("div",{className:"asset-details-card",children:[e.jsxs("div",{className:"asset-details-header",onClick:()=>d(!l),children:[e.jsx("h3",{className:"asset-details-title",children:"Technical Info"}),e.jsx("span",{className:"asset-details-arrow "+(c?"expanded":"")})]}),c&&e.jsx("div",{className:"asset-details-content",children:e.jsxs("div",{className:"asset-details-grid",children:[e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"File Size"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.formatedSize})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"ID"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.assetId})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Resolution"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.resolution})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Image Height"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.imageHeight})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Image Width"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.imageWidth})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Duration"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.duration})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Broadcast Format"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.broadcastFormat})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Titling"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.titling})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Ratio"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.ratio})]}),e.jsxs("div",{className:"asset-details-group",children:[e.jsx("h4",{className:"asset-details-main-metadata-label tccc-metadata-label",children:"Orientation"}),e.jsx("span",{className:"asset-details-main-metadata-value tccc-metadata-value",children:null==s?void 0:s.orientation})]})]})})]})},B=({selectedImage:t,renditions:l,fallbackComponent:c})=>{var i;const{dynamicMediaClient:n}=s(),[r,m]=a.useState(!1),[h,u]=a.useState(!0),v=a.useMemo(()=>o(t.format),[t.format]),p=a.useMemo(()=>{var a,e,s;return v?(null==(s=null==(e=null==(a=null==l?void 0:l.items)?void 0:a.filter(a=>o(a.format)))?void 0:e.sort((a,e)=>(a.size??0)-(e.size??0)))?void 0:s[0])??null:null},[v,null==l?void 0:l.items]),x=a.useMemo(()=>p?(null==n?void 0:n.getPreviewPdfUrl(t.assetId,t.name,p.name))??null:null,[p,n,t.assetId,t.name]);return a.useEffect(()=>{if(!x)return;m(!1);(async()=>{for(let e=1;e<=3;e++)try{const a=await fetch(x,{method:"OPTIONS"});if(a.ok)return;if(e<3&&(404===a.status||503===a.status)){const a=500*Math.pow(2,e-1);await new Promise(e=>setTimeout(e,a));continue}return void m(!0)}catch(a){if(e<3){const a=500*Math.pow(2,e-1);await new Promise(e=>setTimeout(e,a));continue}return void m(!0)}m(!0)})()},[x]),a.useEffect(()=>{if(!h)return;const a=setTimeout(()=>{u(!1)},2e3);return()=>clearTimeout(a)},[h]),v&&p?!x||r||"yes"!==(null==(i=t.readyToUse)?void 0:i.toLowerCase())&&(void 0===t.authorized||t.authorized!==d.AVAILABLE)?c||null:e.jsxs("div",{className:"pdf-viewer-container",children:[h&&e.jsx("div",{className:"pdf-spinner-overlay",children:e.jsx("div",{className:"pdf-spinner"})}),e.jsx("object",{data:x,width:"100%",height:"100%","aria-label":t.title,onLoad:()=>{u(!1)}})]}):null},z="koassets_search_expandAllDetails",U="koassets_details_collapseAll";const V=({showModal:t,selectedImage:l,closeModal:i,handleAddToCart:n,handleRemoveFromCart:u,cartAssetItems:v=[],imagePresets:p={},renditions:x={},fetchAssetRenditions:j,isDeepLinkAsset:N=!1})=>{var f;const{dynamicMediaClient:w}=s(),[C,z]=a.useState(()=>function(a=!1){try{const a=localStorage.getItem(U);if(null!==a)return JSON.parse(a)}catch(e){console.warn("Failed to load details collapseAll state from localStorage:",e)}return a}(!1)),[V,H]=a.useState(!1),[G,J]=a.useState(!1),[W,$]=a.useState(void 0),[q,K]=a.useState(l),[_,Y]=a.useState(!1),Z="yes"===(null==(f=null==q?void 0:q.readyToUse)?void 0:f.toLowerCase())||(null==q?void 0:q.authorized)===d.AVAILABLE;a.useEffect(()=>{!function(a){try{localStorage.setItem(U,JSON.stringify(a))}catch(e){console.warn("Failed to save details collapseAll state to localStorage:",e)}}(C)},[C]);const X=!!q&&v.some(a=>a.assetId===q.assetId);if(a.useEffect(()=>{if(t&&l&&w){(async()=>{try{console.debug("Fetching metadata for asset:",l.assetId);const e=await w.getMetadata(l.assetId),s=m(e);console.debug("Setting populated image with metadata:",s.assetId),K(s),Y(!0);try{const a=h.getInstance(),e=await a.getAssetRightsProfile(l.assetId);if(e.length>0){const a=e[0].description||e[0].rightsProfileTitle;a&&K(e=>({...e,rightsProfileTitle:a}))}}catch(a){console.error("Failed to fetch rights profile:",a)}finally{Y(!1)}}catch(e){console.error("Failed to fetch metadata:",e),K(l)}})()}},[t,l,w]),a.useEffect(()=>{t&&q&&(J(!1),$(void 0))},[t,q]),a.useEffect(()=>{t&&q&&j&&j(q)},[t,q,j]),a.useEffect(()=>{var a;const e=null==(a=x.items)?void 0:a.find(a=>{var e;return null==(e=a.name)?void 0:e.toLowerCase().startsWith("watermark")});$(e)},[x]),a.useEffect(()=>{J(!!W)},[W]),!t||!q)return null;return r.createPortal(e.jsxs("div",{className:"asset-details-modal portal-modal",onClick:a=>{a.target!==a.currentTarget||V||i()},style:{pointerEvents:"auto"},children:[e.jsxs("div",{className:"asset-details-modal-inner",onClick:a=>{a.stopPropagation()},children:[e.jsxs("div",{className:"asset-details-main-main-section",children:[e.jsx("div",{className:"asset-details-main-image-section",children:e.jsxs("div",{className:"asset-details-image-wrapper",children:[e.jsx("div",{className:"add-to-collection-overlay",onClick:a=>{if(a.preventDefault(),a.stopPropagation(),q)try{const a=(null==w?void 0:w.getOptimizedDeliveryPreviewUrl)?w.getOptimizedDeliveryPreviewUrl(q.assetId||"",q.name||"",350):void 0,e={asset:a?{...q,previewUrl:a}:q,assetPath:q.assetId};window.dispatchEvent(new CustomEvent("openCollectionModal",{detail:e}))}catch(e){console.warn("Failed to open Add to Collection modal from AssetDetails:",e)}},children:e.jsxs("div",{className:"add-to-collection-content",children:[e.jsx("i",{className:"icon add circle"}),e.jsx("span",{children:"Add to Collection"})]})}),(()=>{const a=e.jsx(c,{asset:l,width:1200,className:"asset-details-main-image",eager:!0,fetchPriority:"high"},null==l?void 0:l.assetId);return o(null==l?void 0:l.format)?e.jsx(B,{selectedImage:l,renditions:x,fallbackComponent:a}):a})()]})}),e.jsx("div",{className:"asset-details-main-info-section",children:e.jsxs("div",{className:"asset-details-main-info-section-inner",children:[e.jsxs("div",{className:"asset-details-main-header",children:[N?null:e.jsx("button",{className:"asset-details-main-close-button",onClick:i,children:"×"}),(null==q?void 0:q.xcmKeywords)&&e.jsx("div",{className:"asset-details-main-tags",children:q.xcmKeywords.split(",").map((a,s)=>e.jsx("span",{className:"asset-details-main-tag tccc-tag",children:a.trim()},s))}),e.jsx("div",{className:"modal-title",children:q.title}),(null==q?void 0:q.description)&&e.jsx("p",{className:"modal-description",children:null==q?void 0:q.description})]}),e.jsx("div",{className:"details-modal-details",children:e.jsxs("div",{className:"details-modal-grid",children:[e.jsxs("div",{className:"details-modal-group",children:[e.jsx("span",{className:"details-metadata-label tccc-metadata-label",children:"CREATED"}),e.jsx("span",{className:"details-metadata-value tccc-metadata-value",children:q.createDate})]}),e.jsxs("div",{className:"details-modal-group",children:[e.jsx("span",{className:"details-metadata-label tccc-metadata-label",children:"TYPE"}),e.jsx("span",{className:"details-metadata-value tccc-metadata-value",children:q.illustratorType})]}),e.jsxs("div",{className:"details-modal-group",children:[e.jsx("span",{className:"details-metadata-label tccc-metadata-label",children:"SIZE"}),e.jsx("span",{className:"details-metadata-value tccc-metadata-value",children:q.formatedSize})]}),e.jsxs("div",{className:"details-modal-group",children:[e.jsx("span",{className:"details-metadata-label tccc-metadata-label",children:"LAST MODIFIED"}),e.jsx("span",{className:"details-metadata-value tccc-metadata-value",children:q.lastModified})]}),e.jsxs("div",{className:"details-modal-group",children:[e.jsx("span",{className:"details-metadata-label tccc-metadata-label",children:"RES."}),e.jsx("span",{className:"details-metadata-value tccc-metadata-value",children:q.resolution})]}),e.jsxs("div",{className:"details-modal-group",children:[e.jsx("span",{className:"details-metadata-label tccc-metadata-label",children:"EXPIRED"}),e.jsx("span",{className:"details-metadata-value tccc-metadata-value",children:q.expired})]}),e.jsxs("div",{className:"details-modal-group",children:[e.jsx("span",{className:"details-metadata-label tccc-metadata-label",children:"USAGE"}),e.jsx("span",{className:"details-metadata-value tccc-metadata-value",children:q.usage})]}),e.jsxs("div",{className:"details-modal-group",children:[e.jsx("span",{className:"details-metadata-label tccc-metadata-label",children:"RIGHTS FREE"}),e.jsx("span",{className:"details-metadata-value tccc-metadata-value",children:q.readyToUse})]})]})}),e.jsx("div",{className:"tccc-assets-rights-container",children:e.jsxs("div",{className:"tccc-assets-rights-inner",children:[e.jsx("h3",{className:"asset-details-title",children:"Rights"}),e.jsxs("div",{className:"tccc-assets-rights-grid",children:[e.jsxs("div",{className:"tccc-assets-rights-group",children:[e.jsx("span",{className:"tccc-metadata-label",children:"RIGHTS PROFILE TITLE"}),e.jsx("span",{className:"tccc-metadata-value",children:_?"Loading...":null==q?void 0:q.rightsProfileTitle})]}),e.jsxs("div",{className:"tccc-assets-rights-group",children:[e.jsx("span",{className:"tccc-metadata-label",children:"MARKET COVERED"}),e.jsx("span",{className:"tccc-metadata-value",children:null==q?void 0:q.marketCovered})]}),e.jsxs("div",{className:"tccc-assets-rights-group",children:[e.jsx("span",{className:"tccc-metadata-label",children:"RIGHTS START DATE"}),e.jsx("span",{className:"tccc-metadata-value",children:null==q?void 0:q.rightsStartDate})]}),e.jsxs("div",{className:"tccc-assets-rights-group",children:[e.jsx("span",{className:"tccc-metadata-label",children:"RIGHTS END DATE"}),e.jsx("span",{className:"tccc-metadata-value",children:null==q?void 0:q.rightsEndDate})]}),e.jsxs("div",{className:"tccc-assets-rights-group",children:[e.jsx("span",{className:"tccc-metadata-label",children:"MEDIA"}),e.jsx("span",{className:"tccc-metadata-value",children:null==q?void 0:q.media})]})]})]})}),e.jsxs("div",{className:"product-actions",children:[e.jsxs("div",{className:"left-buttons-wrapper",children:[e.jsx(g,{disabled:!G,config:b.download,hasLoadingState:!0,onClick:async()=>{if(q&&w)if(W)try{console.log("Downloading watermark rendition:",W.name),await w.downloadAsset(q,W)}catch(a){console.error("Failed to download asset:",a)}else console.warn("Download not available - no watermark rendition found");else console.warn("No asset or dynamic media client available for download")}}),e.jsx(y,{assetId:null==l?void 0:l.assetId})]}),e.jsxs("div",{className:"right-buttons-wrapper",children:[e.jsx("button",{disabled:!Z,className:"secondary-button",onClick:async()=>{H(!0)},children:"Download"}),e.jsx("button",{className:`asset-details-main-add-to-cart-button${X?" remove-from-cart":""} primary-button`,onClick:a=>{a.stopPropagation(),q&&(X?null==u||u(q):null==n||n(q,a))},children:X?"Remove From Cart":"Add To Cart"})]})]})]})})]}),e.jsx("div",{className:"asset-details-main-toggle-section"}),e.jsxs("div",{className:"asset-details-main-metadata-section",children:[e.jsx("div",{className:"cmp-title",children:e.jsxs("h1",{children:["Collapse All",e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:C,onChange:a=>{z(a.target.checked)}}),e.jsx("span",{className:"slider round"})]})]})}),e.jsxs("div",{className:"asset-details-main-metadata-grid",children:[e.jsxs("div",{className:"asset-details-main-metadata-left-container",children:[e.jsx(F,{selectedImage:q,forceCollapse:C}),e.jsx(I,{selectedImage:q,forceCollapse:C}),e.jsx(L,{selectedImage:q,forceCollapse:C}),e.jsx(A,{selectedImage:q,forceCollapse:C}),e.jsx(k,{selectedImage:q,forceCollapse:C}),e.jsx(P,{selectedImage:q,forceCollapse:C}),e.jsx(O,{selectedImage:q,forceCollapse:C}),e.jsx(M,{selectedImage:q,forceCollapse:C}),e.jsx(R,{selectedImage:q,forceCollapse:C}),e.jsx(E,{selectedImage:q,forceCollapse:C})]}),e.jsxs("div",{className:"asset-details-main-metadata-right-container",children:[e.jsx(T,{selectedImage:q,forceCollapse:C}),e.jsx(D,{selectedImage:q,forceCollapse:C})]})]})]})]}),r.createPortal(e.jsx(S,{isOpen:V,asset:q,onCloseDownloadRenditions:()=>{H(!1)},renditions:x,imagePresets:p}),document.body)]}),(()=>{let a=document.getElementById("modal-root");if(!a){a=document.createElement("div"),a.id="modal-root",a.style.position="fixed",a.style.top="0",a.style.left="0",a.style.width="100%",a.style.height="100%",a.style.zIndex="1",a.style.pointerEvents="none";const e=document.querySelector("header");e?document.body.insertBefore(a,e):document.body.appendChild(a)}return a})())},H=({showModal:d,selectedImage:i,closeModal:n,handleAddToCart:r,handleRemoveFromCart:m,cartAssetItems:h=[],renditions:u={},fetchAssetRenditions:v})=>{const{dynamicMediaClient:p}=s(),[j,N]=a.useState(!1),[f,w]=a.useState(void 0),y=!!i&&h.some(a=>a.assetId===i.assetId);if(a.useEffect(()=>{d&&i&&(N(!1),w(void 0))},[d,i]),a.useEffect(()=>{d&&i&&v&&v(i)},[d,i,v]),a.useEffect(()=>{var a;const e=null==(a=u.items)?void 0:a.find(a=>{var e;return null==(e=a.name)?void 0:e.toLowerCase().startsWith("watermark")});w(e)},[u]),a.useEffect(()=>{N(!!f)},[f]),!d||!i)return null;return e.jsx("div",{className:"asset-preview-modal portal-modal",onClick:a=>{a.target===a.currentTarget&&n()},children:e.jsxs("div",{className:"asset-preview-modal-inner",onClick:a=>{a.stopPropagation()},children:[e.jsx("button",{className:"modal-close-button",onClick:n,children:"✕"}),e.jsxs("div",{className:"asset-preview-modal-container",children:[e.jsxs("div",{className:"modal-header",children:[e.jsx("div",{className:"preview-tags",children:(null==i?void 0:i.campaignName)&&e.jsx("span",{className:"preview-tag tccc-tag",children:x("campaignName",null==i?void 0:i.campaignName)})}),e.jsx("h3",{className:"modal-title",children:null==i?void 0:i.title})]}),e.jsx("div",{className:"modal-image-container",children:(()=>{const a=e.jsx(c,{asset:i,width:350,className:"modal-image",eager:!0,fetchPriority:"high"},null==i?void 0:i.assetId);return o(null==i?void 0:i.format)?e.jsx(B,{selectedImage:i,renditions:u,fallbackComponent:a}):a})()}),e.jsx("div",{className:"preview-modal-details",children:e.jsxs("div",{className:"preview-modal-grid",children:[e.jsxs("div",{className:"preview-modal-group",children:[e.jsx("span",{className:"preview-metadata-label tccc-metadata-label",children:"SIZE"}),e.jsx("span",{className:"preview-metadata-value tccc-metadata-value",children:i.formatedSize})]}),e.jsxs("div",{className:"preview-modal-group",children:[e.jsx("span",{className:"preview-metadata-label tccc-metadata-label",children:"TYPE"}),e.jsx("span",{className:"preview-metadata-value tccc-metadata-value",children:i.formatLabel})]}),e.jsxs("div",{className:"preview-modal-group",children:[e.jsx("span",{className:"preview-metadata-label tccc-metadata-label",children:"FILE EXT"}),e.jsx("span",{className:"preview-metadata-value tccc-metadata-value",children:t(i.name)})]}),e.jsxs("div",{className:"preview-modal-group",children:[e.jsx("span",{className:"preview-metadata-label tccc-metadata-label",children:"RIGHTS FREE"}),e.jsx("span",{className:"preview-metadata-value tccc-metadata-value",children:i.readyToUse})]}),e.jsxs("div",{className:"preview-modal-group",children:[e.jsx("span",{className:"preview-metadata-label tccc-metadata-label",children:"CATEGORY"}),e.jsx("span",{className:"preview-metadata-value tccc-metadata-value",children:l(null==i?void 0:i.category)})]})]})}),e.jsxs("div",{className:"product-actions",children:[e.jsx("div",{className:"left-buttons-wrapper",children:e.jsx("button",{className:"modal-add-to-cart-button"+(y?" remove-from-cart":""),onClick:a=>{a.stopPropagation(),i&&(y?null==m||m(i):null==r||r(i,a))},children:y?"Remove From Cart":"Add To Cart"})}),e.jsx("div",{className:"right-buttons-wrapper",children:e.jsx(g,{disabled:!j,config:b.download,hasLoadingState:!0,onClick:async()=>{if(i&&p)if(f)try{console.log("Downloading watermark rendition:",f.name),await p.downloadAsset(i,f)}catch(a){console.error("Failed to download asset:",a)}else console.warn("Download not available - no watermark rendition found");else console.warn("No asset or dynamic media client available for download")}})})]})]})]})})},G=({className:s="",items:t,handlers:l,show:d,label:c,selectedItem:i,onSelectedItemChange:n})=>{const[o,r]=a.useState(!1),m=a.useMemo(()=>`${s?s.replace(/\s+/g,"-").toLowerCase():"dropdown"}-actions-${Math.random().toString(36).substr(2,9)}`,[s]);a.useEffect(()=>{const a=a=>{const e=a.target;if(o){const a=document.getElementById(m);if(a&&!a.contains(e)){const e=a.querySelector(".menu");e&&(e.style.display="none",a.classList.remove("open")),r(!1)}}};return o&&document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[o,m]);return d?e.jsx("div",{className:`dropdown-actions-section ${s}`,children:e.jsxs("div",{className:"ui simple dropdown item",id:m,onClick:a=>{a.preventDefault(),a.stopPropagation();const e=a.currentTarget,s=e.querySelector(".menu");s&&(o?(s.style.display="none",e.classList.remove("open"),r(!1)):(s.style.display="block",e.classList.add("open"),r(!0)))},children:[e.jsx("span",{className:"dropdown-label",children:i||c}),e.jsx("i",{className:"dropdown icon"}),e.jsx("div",{className:"menu",children:t.map((a,s)=>e.jsx("div",{className:"item "+(i===a?"selected":""),onClick:e=>((a,e,s)=>{a.preventDefault(),a.stopPropagation(),null==n||n(s),e();const t=document.getElementById(m),l=null==t?void 0:t.querySelector(".menu");l&&t&&(l.style.display="none",t.classList.remove("open")),r(!1)})(e,l[s],a),children:a},s))})]})}):null},J=({totalCount:a,selectedCount:s,displayedCount:t,onSelectAll:l,onToggleMobileFilter:d,isMobileFilterOpen:c,onBulkAddToCart:i,onBulkShare:n,onBulkAddToCollection:o,onSortByTopResults:r,onSortByDateCreated:m,onSortByLastModified:h,onSortBySize:u,onSortDirectionAscending:v,onSortDirectionDescending:p,selectedSortType:x,selectedSortDirection:j,onSortTypeChange:N,onSortDirectionChange:g,expandAllDetails:b,onExpandAllDetailsChange:f,viewType:w,onViewTypeChange:y,selectAuthorized:C,onSelectAuthorized:S,isRightsSearch:I=!1,onShareSearch:A})=>e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"search-primary-panel",children:e.jsxs("div",{className:"primary-panel-container",children:[e.jsxs("div",{className:"left-panel-group",children:[e.jsx(G,{className:"SortCards sort-dropdown-disabled",items:["Top Results","Date Created","Last Modified","Size"],handlers:[r,m,h,u],show:!0,label:void 0,selectedItem:x,onSelectedItemChange:N}),e.jsx(G,{className:"SortDirection sort-dropdown-disabled",items:["Ascending","Descending"],handlers:[v,p],show:!0,label:void 0,selectedItem:j,onSelectedItemChange:g}),e.jsx("div",{className:"cmp-title",children:e.jsxs("h1",{children:["Show full details",e.jsxs("label",{className:"switch",children:[e.jsx("input",{type:"checkbox",checked:b,onChange:a=>{null==f||f(a.target.checked)}}),e.jsx("span",{className:"slider round"})]})]})})]}),e.jsxs("div",{className:"right-panel-group",children:[e.jsxs("div",{className:"card-view-container",children:[e.jsx("button",{className:"grid-view-btn "+("grid"===w?"active":""),type:"button",title:"Grid View",onClick:()=>{null==y||y("grid")},children:e.jsx("img",{src:"/tools/assets-browser/icons/gridview.svg",alt:"Grid View"})}),e.jsx("button",{className:"list-view-btn "+("list"===w?"active":""),type:"button",title:"List View",onClick:()=>{null==y||y("list")},children:e.jsx("img",{src:"/tools/assets-browser/icons/listview.svg",alt:"List View"})})]}),e.jsxs("button",{className:"filter-button",type:"button",onClick:d,children:[e.jsx("img",{src:"/tools/assets-browser/icons/Filter-search.svg",alt:"Filter",className:"filter-icon"}),c?"Hide Filter":"Show Filter"]})]})]})}),e.jsx("div",{className:"search-secondary-panel",children:e.jsxs("div",{className:"secondary-panel-container",children:[e.jsxs("div",{className:"left-panel-group",children:[e.jsx("div",{className:"search-statistics",children:e.jsxs("div",{className:"total-statistic",children:[e.jsx("span",{className:"total-count",children:a}),e.jsx("span",{className:"total-label",children:"Total"})]})}),e.jsxs("div",{className:"select-section",children:[I&&e.jsxs("div",{className:"select-authorized",children:[e.jsx("input",{type:"checkbox",id:"select-authorized",checked:C||!1,onChange:a=>null==S?void 0:S(a.target.checked)}),e.jsx("label",{htmlFor:"select-authorized",children:"Show only authorized assets"})]}),e.jsxs("div",{className:"select-all",children:[e.jsx("input",{type:"checkbox",id:"select-all",checked:s>0&&s===t,onChange:a=>l(a.target.checked)}),e.jsxs("label",{htmlFor:"select-all",children:["Select All ",s>0&&e.jsxs("span",{className:"dropdown-count",children:["(",s,")"]})]})]})]}),e.jsx(G,{className:"dropdown-actions-section",items:["Add to cart","Add to Collection","Share"],handlers:[i,o,n],show:s>0,label:"Actions",selectedItem:void 0})]}),e.jsx("div",{className:"right-panel-group",children:A&&e.jsx("button",{className:"share-search-btn",onClick:A,title:"Share Search","aria-label":"Share Search"})})]})})]});function W(a){if(!a)return"";const e=document.createElement("div");e.textContent=a;let s=e.innerHTML;return a.includes("<")&&a!==s&&(e.innerHTML=a,e.querySelectorAll("script, style").forEach(a=>a.remove()),e.querySelectorAll("*").forEach(a=>{Array.from(a.attributes).forEach(e=>{(e.name.startsWith("on")||"href"===e.name&&/^(\s*)(javascript:|data:|vbscript:)/i.test(e.value))&&a.removeAttribute(e.name)})}),s=e.innerHTML),s}const $=({images:t,loading:l,onAddToCart:c,onRemoveFromCart:i,cartAssetItems:n=[],searchResult:o,onToggleMobileFilter:m,isMobileFilterOpen:h,onBulkAddToCart:x,onSortByTopResults:g,onSortByDateCreated:b,onSortByLastModified:f,onSortBySize:w,onSortDirectionAscending:y,onSortDirectionDescending:S,selectedSortType:I,selectedSortDirection:A,onSortTypeChange:k,onSortDirectionChange:E,onLoadMoreResults:T,hasMorePages:D=!1,isLoadingMore:L=!1,imagePresets:R={},assetRenditionsCache:P={},fetchAssetRenditions:F,isRightsSearch:M=!1,onFacetCheckbox:O,onClearAllFacets:B,deepLinkAsset:U,onCloseDeepLinkModal:G,query:$="",facetCheckedState:q={},selectedNumericFilters:K=[],rightsStartDate:_,rightsEndDate:Y,selectedMarkets:Z,selectedMediaChannels:X})=>{const{externalParams:Q}=s();console.debug("ImageGallery received deepLinkAsset:",U);const aa=W((null==Q?void 0:Q.accordionTitle)||N.accordionTitle),ea=W((null==Q?void 0:Q.accordionContent)||N.accordionContent),[sa,ta]=a.useState(null),[la,da]=a.useState(!1),[ca,ia]=a.useState(!1),[na,oa]=a.useState(new Set),[ra,ma]=a.useState(()=>function(a=!0){try{const a=localStorage.getItem(z);if(null!==a)return JSON.parse(a)}catch(e){console.warn("Failed to load search expandAllDetails state from localStorage:",e)}return a}(!0)),[ha,ua]=a.useState("grid"),[va,pa]=a.useState(!1),[xa,ja]=a.useState(!1),[Na,ga]=a.useState(t),ba=Na.length,fa=na.size;a.useEffect(()=>{!function(a){try{localStorage.setItem(z,JSON.stringify(a))}catch(e){console.warn("Failed to save search expandAllDetails state to localStorage:",e)}}(ra)},[ra]),a.useEffect(()=>{ga(xa?t.filter(a=>void 0===a.authorized||a.authorized===d.AVAILABLE):t),oa(new Set)},[t,xa]),a.useEffect(()=>{ja(!1)},[t]);const wa=U&&(null==sa?void 0:sa.assetId)===U.assetId,ya=a.useCallback(()=>{ta(null),ia(!1),U&&G&&G()},[U,G]);a.useEffect(()=>{const a=a=>{"Escape"===a.key&&(ca?wa||ya():la&&Aa())};return(la||ca)&&(document.addEventListener("keydown",a),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",a),document.body.style.overflow="unset"}},[la,ca,ya,wa]);const Ca=a.useCallback(async a=>{if(console.debug("openDetailsView called with asset:",JSON.stringify(a,null,2)),a)if(a._searchHit){const e=u(a._searchHit);console.debug("Setting selected card with asset ID:",e.assetId,"Asset object:",JSON.stringify(e,null,2)),ta(e)}else console.debug("Setting selected card with asset ID:",a.assetId,"Asset object:",JSON.stringify(a,null,2)),ta(a);else console.log("No asset provided to openDetailsView");ia(!0)},[]);a.useEffect(()=>(window.openDetailsView=Ca,window.closeDetailsView=()=>ya(),()=>{delete window.openDetailsView,delete window.closeDetailsView}),[Ca,ya]),a.useEffect(()=>{console.debug("deepLinkAsset useEffect triggered with:",U),U&&(console.debug("deepLinkAsset is truthy, calling openDetailsView"),Ca(U))},[U,Ca]);const Sa=(a,e)=>{null==e||e.stopPropagation(),null==c||c(a)},Ia=(a,e)=>{e.stopPropagation(),ta(a),da(!0)},Aa=()=>{da(!1),ta(null)},ka=(a,e)=>{e.stopPropagation(),ta(a),ia(!0)},Ea=(a,e)=>{oa(s=>{const t=new Set(s);return e?t.add(a):t.delete(a),t})},Ta=o&&o.nbHits?o.nbHits.toString():"0";return e.jsxs("div",{className:"image-gallery",children:[e.jsxs("div",{className:"gallery-title "+(va?"expanded":""),children:[e.jsxs("div",{className:"gallery-title-content",children:[e.jsx("div",{className:"gallery-title-icon","aria-label":"Info"}),e.jsx("h3",{dangerouslySetInnerHTML:{__html:aa}})]}),e.jsx("button",{className:"gallery-title-toggle "+(va?"expanded":"collapsed"),onClick:()=>{pa(!va)}})]}),va&&e.jsx("div",{className:"gallery-title-expanded",dangerouslySetInnerHTML:{__html:ea}}),e.jsx(J,{totalCount:Ta,selectedCount:fa,displayedCount:ba,onSelectAll:a=>{oa(a?new Set(Na.map(a=>a.assetId||"")):new Set)},onToggleMobileFilter:m,isMobileFilterOpen:h,onBulkAddToCart:()=>{x(na,Na),oa(new Set)},onBulkDownload:()=>{console.log("Bulk download:",Array.from(na))},onBulkShare:()=>{const a=Na.filter(a=>na.has(a.assetId||""));if(0===a.length)return;const e=new CustomEvent("openShareModal",{detail:{assets:a}});window.dispatchEvent(e),oa(new Set)},onBulkAddToCollection:()=>{const a=Na.filter(a=>na.has(a.assetId||""));if(0===a.length)return;const e=new CustomEvent("openCollectionModal",{detail:{assets:a}});window.dispatchEvent(e),oa(new Set)},onSortByTopResults:g,onSortByDateCreated:b,onSortByLastModified:f,onSortBySize:w,onSortDirectionAscending:y,onSortDirectionDescending:S,selectedSortType:I,selectedSortDirection:A,onSortTypeChange:k,onSortDirectionChange:E,expandAllDetails:ra,onExpandAllDetailsChange:ma,viewType:ha,onViewTypeChange:ua,hasMorePages:D,currentPage:(null==o?void 0:o.page)||0,totalPages:(null==o?void 0:o.nbPages)||0,selectAuthorized:xa,onSelectAuthorized:a=>{ja(a)},isRightsSearch:M,onShareSearch:()=>{const a={};M&&(_&&(a.startDate=v(_)),Y&&(a.endDate=v(Y)),Z&&Z.size>0&&(a.markets=Array.from(Z)),X&&X.size>0&&(a.mediaChannels=Array.from(X)));const e=window.location.pathname;let s="/search/all";e.includes("/search/assets")?s="/search/assets":e.includes("/search/products")&&(s="/search/products");const t={searchTerm:$,facetFilters:q,numericFilters:K,rightsFilters:Object.keys(a).length>0?a:void 0,searchType:s},l=j(t);navigator.clipboard.writeText(l).then(()=>{p.positive("SEARCH LINK COPIED TO CLIPBOARD",{timeout:3e3})}).catch(()=>{const a=document.createElement("textarea");a.value=l,document.body.appendChild(a),a.select(),document.execCommand("copy"),document.body.removeChild(a),p.positive("SEARCH LINK COPIED TO CLIPBOARD",{timeout:3e3})})}}),e.jsx("div",{className:"image-grid-wrapper",children:l?e.jsxs("div",{className:"loading-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading images..."})]}):0===Na.length?e.jsx("div",{className:"no-images",children:e.jsx("p",{children:"No images to display"})}):e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid"===ha?"image-grid":"image-grid-list",children:Na.map((a,s)=>e.jsx(C,{viewMode:ha,image:a,handleCardDetailClick:ka,handlePreviewClick:Ia,handleAddToCart:Sa,handleRemoveFromCart:i,cartAssetItems:n,isSelected:na.has(a.assetId||""),onCheckboxChange:Ea,expandAllDetails:ra,index:s,onFacetCheckbox:O,onClearAllFacets:B},a.assetId))}),L&&e.jsxs("div",{className:"loading-more-container",children:[e.jsx("div",{className:"loading-spinner"}),e.jsx("p",{children:"Loading more results..."})]}),D&&!L&&e.jsx("div",{className:"load-more-button-container",children:e.jsx("button",{className:"load-more-button",onClick:T,children:"Load more"})})]})}),r.createPortal(e.jsx(H,{showModal:la,closeModal:Aa,selectedImage:sa,handleAddToCart:Sa,handleRemoveFromCart:i,cartAssetItems:n,renditions:(null==sa?void 0:sa.assetId)?P[sa.assetId]:void 0,fetchAssetRenditions:F}),document.body),e.jsx(V,{showModal:ca,closeModal:ya,selectedImage:sa,handleAddToCart:Sa,handleRemoveFromCart:i,cartAssetItems:n,imagePresets:R,renditions:(null==sa?void 0:sa.assetId)?P[sa.assetId]:void 0,fetchAssetRenditions:F,isDeepLinkAsset:!!wa})]})};export{$ as default};
//# sourceMappingURL=ImageGallery.js.map
