{"version":3,"file":"ImageGallery.js","sources":["../../../koassets-react/src/constants/accordion.ts","../../../koassets-react/src/components/ActionButton.tsx","../../../koassets-react/src/components/ActionButtonConfigs.ts","../../../koassets-react/src/components/AssetCard.tsx","../../../koassets-react/src/components/DownloadRenditionsModal.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsDRM.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsGeneralInfo.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsIntendedUse.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsLegacyFields.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsMarketing.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsMarketingPackageContainer.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsOverview.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsProduction.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsScheduledActivation.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsSystem.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsSystemInfoLegacy.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsTechnicalInfo.tsx","../../../koassets-react/src/components/PDFViewer.tsx","../../../koassets-react/src/components/AssetDetails/index.tsx","../../../koassets-react/src/components/AssetPreview.tsx","../../../koassets-react/src/components/ActionDropdown.tsx","../../../koassets-react/src/components/SearchPanel.tsx","../../../koassets-react/src/components/ImageGallery.tsx"],"sourcesContent":["export const DEFAULT_ACCORDION_CONFIG = {\n    accordionTitle: 'Search Assets - where you can discover the company\\'s latest and greatest content!',\n    accordionContent: `<p><b>SEARCH:</b> Use the search bar in conjunction with the filters on the right to filter by usage rights, campaign, brand, asset type, and more.</p>\n<p><b>FILTERS:</b> On the right side of your screen, you will see a variety of filters to help you find the content you need. To use them, click on the filter you want to use, search for or scroll to the filter value you think is most relevant, and once selected hit the \"Apply\" button at the bottom.</p>\n<p><b>DOWNLOAD:</b> After selecting your asset(s), click the \"ADD TO CART\" button then go to your cart, located at the top right of the page. If an asset is rights free you can begin downloading immediately from your cart. For rights-protected content enter in your intended use to request your download.</p>\n<p><b>ADDING MULTIPLE ASSETS TO YOUR CART:</b> You can download multiple assets at once using the below instructions:</p>\n<ul><li><p>Locate the checkbox icon in the top left of each asset's thumbnail for each asset you wish to download.</p>\n</li></ul>\n<ul><li><p>Navigate to the top of the search to the drop-down menu that says, \"Actions\" and choose \"Add to Cart.\"</p>\n</li></ul>\n<p><b>\"RIGHTS FREE\" ASSETS DOWNLOAD:</b> You don't need to enter your intended use for \"Rights Free\" Assets! Use the \"Rights Free\" search filter and select yes to only view \"Rights Free\" assets.</p>\n<p><b>NEED ADDITIONAL SUPPORT</b>? If you have any additional questions reach out to our asset management team via <a href=\"mailto:assetmanagers@coca-cola.com\"><b>assetmanagers@coca-cola.com</b></a> or visit our <a href=\"https://forms.office.com/Pages/ResponsePage.aspx?id=qyaNVKqM4UmXwqGxoGzDnPYUeiWm8X1KiF0OxjOzZ3VUNlNNTzcxME9SMVpTTUUzVzY4TkFYV1dLVS4u&amp;wdLOR=c0E1D32CE-2209-4C6C-893D-F353FDC5C295\"><b>Support Portal</b></a>.</p>`\n} as const;","import React, { useRef, useState } from 'react';\nimport './ActionButton.css';\nimport type { ButtonConfig, ButtonState } from './ActionButtonConfigs';\n\ninterface ActionButtonProps {\n    disabled?: boolean;\n    onClick: () => void | Promise<void>;\n    config: ButtonConfig;\n    hasLoadingState?: boolean;\n    style?: React.CSSProperties;\n}\n\nconst ActionButton: React.FC<ActionButtonProps> = ({ disabled, onClick, config, hasLoadingState = false, style }) => {\n    const [loading, setLoading] = useState<boolean>(false);\n    const containerRef = useRef<HTMLDivElement>(null);\n    const tooltipRef = useRef<HTMLSpanElement>(null);\n\n    // Get current button state based on disabled, loading, or idle status\n    const getCurrentState = (): ButtonState => {\n        if (disabled && config.disabled) {\n            return config.disabled;\n        }\n        if (loading && config.downloading) {\n            return config.downloading;\n        }\n        return config.idle;\n    };\n\n    const handleClick = async () => {\n        if (hasLoadingState) {\n            setLoading(true);\n            try {\n                await onClick();\n            } finally {\n                setLoading(false);\n            }\n        } else {\n            onClick();\n        }\n    };\n\n    const positionTooltip = () => {\n        if (containerRef.current && tooltipRef.current) {\n            const buttonRect = containerRef.current.getBoundingClientRect();\n            const tooltipElement = tooltipRef.current;\n\n            // Position tooltip above button, aligned to right edge\n            tooltipElement.style.top = `${buttonRect.top - 35}px`; // 40px gap above button\n            tooltipElement.style.right = `${window.innerWidth - buttonRect.right}px`;\n        }\n    };\n\n    const handleMouseEnter = () => {\n        positionTooltip();\n    };\n\n    const currentState = getCurrentState();\n\n    return (\n        <div\n            className=\"action-button-container\"\n            ref={containerRef}\n            onMouseEnter={handleMouseEnter}\n            style={style}\n        >\n            <button\n                disabled={disabled}\n                className={`action-button ${currentState.className}`}\n                onClick={handleClick}\n                style={currentState.backgroundImage ? {\n                    backgroundImage: `url(${currentState.backgroundImage})`\n                } : undefined}\n            >\n            </button>\n            {currentState.tooltip && (\n                <span\n                    className=\"action-button-tooltip\"\n                    ref={tooltipRef}\n                >{currentState.tooltip}</span>\n            )}\n        </div>\n    );\n};\n\nexport type { ActionButtonProps };\nexport default ActionButton;\n","// Button configuration types and predefined configurations\nexport interface ButtonState {\n    className: string;\n    backgroundImage?: string;\n    tooltip: string;\n}\n\nexport interface ButtonConfig {\n    idle: ButtonState;\n    downloading?: ButtonState;\n    disabled?: ButtonState;\n}\n\n\n// Predefined button configurations\nexport const BUTTON_CONFIGS = {\n    download: {\n        idle: {\n            className: 'download',\n            backgroundImage: `${import.meta.env.BASE_URL}icons/download-asset.svg`,\n            tooltip: 'Download preview'\n        },\n        downloading: {\n            className: 'downloading',\n            backgroundImage: `${import.meta.env.BASE_URL}icons/downloading-asset.svg`,\n            tooltip: 'Downloading...'\n        },\n        disabled: {\n            className: 'download',\n            backgroundImage: `${import.meta.env.BASE_URL}icons/download-asset.svg`,\n            tooltip: 'Preview not available'\n        }\n    } as ButtonConfig\n};\n","import React from 'react';\nimport { AuthorizationStatus } from '../clients/fadel-client';\nimport { EAGER_LOAD_IMAGE_COUNT } from '../constants/images';\nimport { useAppConfig } from '../hooks/useAppConfig';\nimport type { AssetCardProps } from '../types';\nimport { formatCategory, getFileExtension } from '../utils/formatters';\nimport { getAssetFieldDisplayFacetName } from '../utils/displayUtils';\nimport ActionButton from './ActionButton';\nimport { BUTTON_CONFIGS } from './ActionButtonConfigs';\nimport Picture from './Picture';\nimport './AssetCardViewGrid.css';\nimport './AssetCardViewList.css';\n\nexport type ViewMode = 'grid' | 'list';\n\ninterface AssetCardBaseProps extends AssetCardProps {\n    viewMode: ViewMode;\n    className?: string;\n}\n\nconst AssetCard: React.FC<AssetCardBaseProps> = ({\n    image,\n    handleCardDetailClick,\n    handlePreviewClick,\n    handleAddToCart,\n    handleRemoveFromCart,\n    cartAssetItems = [],\n    isSelected = false,\n    onCheckboxChange,\n    expandAllDetails = true,\n    index = 0,\n    viewMode,\n    className = '',\n    onFacetCheckbox,\n    onClearAllFacets\n}) => {\n    // Get dynamicMediaClient from context\n    const { dynamicMediaClient } = useAppConfig();\n    \n    // Check if this item is already in the cart\n    const isInCart = cartAssetItems.some(cartAssetItem => cartAssetItem.assetId === image.assetId);\n\n    // Handle button click - either add or remove from cart\n    const handleAddRemoveCart = (e: React.MouseEvent<HTMLButtonElement>) => {\n        e.stopPropagation();\n\n        if (isInCart) {\n            handleRemoveFromCart?.(image);\n        } else {\n            handleAddToCart?.(image, e);\n        }\n    };\n\n    // Handle checkbox change\n    const handleSelectCard = (e: React.ChangeEvent<HTMLInputElement>) => {\n        onCheckboxChange?.(image.assetId || '', e.target.checked);\n    };\n\n    // Handle action button click\n    const handleClickDownload = async () => {\n        if (!image || !dynamicMediaClient) {\n            console.warn('No asset or dynamic media client available for download');\n            return;\n        }\n\n        try {\n            console.log('Downloading original asset:', image.assetId);\n            await dynamicMediaClient.downloadAsset(image);\n        } catch (error) {\n            console.error('Failed to download asset:', error);\n        }\n    };\n\n    // Handle add to collection click\n    const handleAddToCollection = (e: React.MouseEvent) => {\n        e.stopPropagation();\n        // Build a stable preview URL using Dynamic Media client (for collections)\n        const previewUrl = dynamicMediaClient && image.assetId && image.name\n            ? dynamicMediaClient.getOptimizedDeliveryPreviewUrl(image.assetId, image.name, 350)\n            : undefined;\n        // Trigger global collection modal with asset data (including previewUrl)\n        const event = new CustomEvent('openCollectionModal', {\n            detail: {\n                asset: { ...image, previewUrl },\n                assetPath: image.repositoryPath || image.assetId\n            }\n        });\n        window.dispatchEvent(event);\n    };\n\n    // Dynamic classes and elements based on view mode\n    const containerClass = `asset-card-view-${viewMode} ${className}`.trim();\n    const innerClass = `asset-card-view-${viewMode}-inner`;\n    \n    // Title element - h3 for grid, div for list\n    const TitleElement = viewMode === 'grid' ? 'h3' : 'div';\n    \n    // Action button wrappers\n    const firstButtonWrapper = viewMode === 'grid' ? 'left-buttons-wrapper' : 'top-buttons-wrapper';\n    const secondButtonWrapper = viewMode === 'grid' ? 'right-buttons-wrapper' : 'bottom-buttons-wrapper';\n\n    // Metadata grid (shared between both views)\n    const metadataGrid = expandAllDetails && (\n        <div className=\"product-meta-grid\">\n            <div className=\"product-meta-item\">\n                <span className=\"product-meta-label tccc-metadata-label\">SIZE</span>\n                <span className=\"product-meta-value tccc-metadata-value\">{image.formatedSize as string}</span>\n            </div>\n            <div className=\"product-meta-item\">\n                <span className=\"product-meta-label tccc-metadata-label\">TYPE</span>\n                <span className=\"product-meta-value tccc-metadata-value\">{image.formatLabel}</span>\n            </div>\n            <div className=\"product-meta-item\">\n                <span className=\"product-meta-label tccc-metadata-label\">FILE EXT</span>\n                <span className=\"product-meta-value tccc-metadata-value\">{getFileExtension(image.name as string)}</span>\n            </div>\n            <div className=\"product-meta-item\">\n                <span className=\"product-meta-label tccc-metadata-label\">RIGHTS FREE</span>\n                <span className=\"product-meta-value tccc-metadata-value\">{image.readyToUse}</span>\n            </div>\n            <div className=\"product-meta-item\">\n                <span className=\"product-meta-label tccc-metadata-label\">CATEGORY</span>\n                <span className=\"product-meta-value tccc-metadata-value\">{formatCategory(image?.category as string)}</span>\n            </div>\n        </div>\n    );\n\n    // Authorization status (shared between both views)\n    const authorizationStatus = (\n        <>\n            {(image.authorized === AuthorizationStatus.AVAILABLE) && (\n                <span className=\"product-authorized-status green\">AUTHORIZED</span>\n            )}\n            {(image.authorized === AuthorizationStatus.NOT_AVAILABLE || image.authorized === AuthorizationStatus.AVAILABLE_EXCEPT) && (\n                <span className=\"product-authorized-status red\">EXTENSION REQUIRED</span>\n            )}\n        </>\n    );\n\n    return (\n        <div className={containerClass} id={image.assetId}>\n            <div className={innerClass}>\n                <div className=\"image-wrapper\"\n                    onClick={(e) => handleCardDetailClick(image, e)}\n                    style={{ cursor: 'pointer' }}\n                >\n                    <input\n                        type=\"checkbox\"\n                        className=\"tccc-checkbox\"\n                        checked={isSelected}\n                        onChange={handleSelectCard}\n                        onClick={(e) => e.stopPropagation()}\n                    />\n\n                    <button\n                        className=\"image-preview-button\"\n                        onClick={(e) => handlePreviewClick(image, e)}\n                        title=\"View larger image\"\n                    >\n                        <svg viewBox=\"0 0 256.001 256.001\" xmlns=\"http://www.w3.org/2000/svg\">\n                            <path d=\"M159.997 116a12 12 0 0 1-12 12h-20v20a12 12 0 0 1-24 0v-20h-20a12 12 0 0 1 0-24h20V84a12 12 0 0 1 24 0v20h20a12 12 0 0 1 12 12Zm72.48 116.482a12 12 0 0 1-16.971 0l-40.679-40.678a96.105 96.105 0 1 1 16.972-16.97l40.678 40.678a12 12 0 0 1 0 16.97Zm-116.48-44.486a72 72 0 1 0-72-72 72.081 72.081 0 0 0 72 72Z\" />\n                        </svg>\n                    </button>\n\n                    {/* Add to Collection Overlay */}\n                    <div className=\"add-to-collection-overlay\" onClick={handleAddToCollection}>\n                        <div className=\"add-to-collection-content\">\n                            <i className=\"icon add circle\"></i>\n                            <span>Add to Collection</span>\n                        </div>\n                    </div>\n\n                    <Picture\n                        key={image.assetId}\n                        asset={image}\n                        width={350}\n                        className=\"image-container\"\n                        eager={index < EAGER_LOAD_IMAGE_COUNT}\n                        fetchPriority={index < EAGER_LOAD_IMAGE_COUNT ? 'high' : 'auto'}\n                    />\n                </div>\n\n                <div className=\"product-info-container\">\n                    <div className=\"product-info\">\n                        <div className=\"product-title-section\">\n                            {image?.campaignName && (\n                                <div className=\"product-tags\">\n                                    <span \n                                        className=\"product-tag tccc-tag\"\n                                        onClick={(e) => {\n                                            e.stopPropagation();\n                                            // Clear all facets first\n                                            onClearAllFacets?.();\n                                            // Then select only this campaign facet\n                                            onFacetCheckbox?.('tccc-campaignName', image?.campaignName as string);\n                                        }}\n                                        style={{ cursor: 'pointer' }}\n                                    >\n                                        {getAssetFieldDisplayFacetName('campaignName', image?.campaignName as string)}\n                                    </span>\n                                </div>\n                            )}\n                            <TitleElement\n                                className=\"product-title\"\n                                onClick={(e) => handleCardDetailClick(image, e)}\n                                style={{ cursor: 'pointer' }}\n                            >\n                                {image.title}\n                            </TitleElement>\n                            {authorizationStatus}\n                        </div>\n\n                        {metadataGrid}\n                    </div>\n                </div>\n\n                <div className=\"product-actions\">\n                    <div className={firstButtonWrapper}>\n                        {viewMode === 'grid' ? (\n                            <button\n                                className={`add-to-cart-btn${isInCart ? ' remove-from-cart' : ''}`}\n                                onClick={handleAddRemoveCart}\n                            >\n                                {isInCart ? 'Remove From Cart' : 'Add To Cart'}\n                            </button>\n                        ) : (\n                            <ActionButton\n                                config={BUTTON_CONFIGS.download}\n                                hasLoadingState={true}\n                                onClick={handleClickDownload}\n                                style={{\n                                    display: 'none'\n                                }}\n                            />\n                        )}\n                    </div>\n                    <div className={secondButtonWrapper}>\n                        {viewMode === 'grid' ? (\n                            <ActionButton\n                                config={BUTTON_CONFIGS.download}\n                                hasLoadingState={true}\n                                onClick={handleClickDownload}\n                                style={{\n                                    display: 'none'\n                                }}\n                            />\n                        ) : (\n                            <button\n                                className={`add-to-cart-btn${isInCart ? ' remove-from-cart' : ''}`}\n                                onClick={handleAddRemoveCart}\n                            >\n                                {isInCart ? 'Remove From Cart' : 'Add To Cart'}\n                            </button>\n                        )}\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default AssetCard;\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { Asset, Rendition } from '../types';\nimport DownloadRenditionsContent from './DownloadRenditionsContent';\nimport './DownloadRenditionsModal.css';\n\ninterface DownloadRenditionsModalProps {\n    isOpen: boolean;\n    asset: Asset | null;\n    onCloseDownloadRenditions: () => void;\n    renditions: {\n        assetId?: string;\n        items?: Rendition[];\n        'repo:name'?: string;\n    };\n    imagePresets: {\n        assetId?: string;\n        items?: Rendition[];\n        'repo:name'?: string;\n    };\n}\n\nconst DownloadRenditionsModal: React.FC<DownloadRenditionsModalProps> = ({\n    isOpen,\n    asset,\n    onCloseDownloadRenditions,\n    renditions,\n    imagePresets\n}) => {\n    const [renditionsLoading, setRenditionsLoading] = useState(false);\n    const [renditionsError, setRenditionsError] = useState<string | null>(null);\n\n    // Reset state when modal opens\n    useEffect(() => {\n        if (isOpen) {\n            setRenditionsLoading(false);\n            setRenditionsError(null);\n        }\n    }, [isOpen]);\n\n\n\n    // Handle escape key with capture to intercept before parent modals\n    const handleEscape = useCallback((e: KeyboardEvent) => {\n        if (e.key === 'Escape') {\n            e.preventDefault();\n            e.stopPropagation();\n            e.stopImmediatePropagation();\n            onCloseDownloadRenditions();\n        }\n    }, [onCloseDownloadRenditions]);\n\n    useEffect(() => {\n        if (!isOpen) return;\n\n        // Use capture: true to ensure this handler runs before others\n        document.addEventListener('keydown', handleEscape, { capture: true });\n        return () => document.removeEventListener('keydown', handleEscape, { capture: true });\n    }, [isOpen, handleEscape]);\n\n    const handleOverlayClick = useCallback((e: React.MouseEvent) => {\n        if (e.target === e.currentTarget) {\n            onCloseDownloadRenditions();\n        }\n    }, [onCloseDownloadRenditions]);\n\n\n\n    // Memoize the assets array to prevent unnecessary re-renders of child component\n    const assets = useMemo(() => [{\n        asset: asset!, // Non-null assertion since we check for asset existence before this point\n        renditions,\n        imagePresets,\n        renditionsLoading,\n        renditionsError\n    }], [asset, renditions, imagePresets, renditionsLoading, renditionsError]);\n\n    if (!isOpen || !asset) return null;\n\n    return (\n        <div className=\"download-renditions-overlay portal-modal\" onClick={handleOverlayClick}>\n            <div className=\"download-renditions-modal\">\n                <div className=\"download-renditions-header\">\n                    <div className=\"download-renditions-header-title\">Download</div>\n                    <button className=\"download-renditions-close\" onClick={onCloseDownloadRenditions}>\n                        ×\n                    </button>\n                </div>\n\n                <DownloadRenditionsContent\n                    assets={assets}\n                    onCloseDownloadRenditions={onCloseDownloadRenditions}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default DownloadRenditionsModal;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsDRMProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsDRM: React.FC<AssetDetailsDRMProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = () => {\n        setIsExpanded(!isExpanded);\n    };\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">DRM</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Risk Type Management</h4>\n                            <span className=\"asset-details-main-metadata-value\">\n                                {selectedImage?.riskTypeManagement as string}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Rights Notes</h4>\n                            <span className=\"asset-details-main-metadata-value\">\n                                {selectedImage?.rightsNotes as string}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Rights Status</h4>\n                            <span className=\"asset-details-main-metadata-value\">\n                                {selectedImage?.rightsStatus as string}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Rights Free</h4>\n                            <span className=\"asset-details-main-metadata-value\">\n                                {selectedImage?.readyToUse as string}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Business Affairs Manager</h4>\n                            <span className=\"asset-details-main-metadata-value\">\n                                {selectedImage?.businessAffairsManager as string}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Fadel ID</h4>\n                            <span className=\"asset-details-main-metadata-value\">\n                                {selectedImage?.fadelId as string}\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsDRM; ","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsGeneralInfoProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsGeneralInfo: React.FC<AssetDetailsGeneralInfoProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = () => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">TCCC General Info</h3>\n                <span className={`asset-details-arrow ${isExpanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {isExpanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Long Range Plan - Business Goal</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.longRangePlan as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Long Range Plan Tactic</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.longRangePlanTactic as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Campaign Reach</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.campaignReach as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Master or Adaptation</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.masterOrAdaptation as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Keywords</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.keywords as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Japanese Keywords</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.japaneseKeywords as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Age and Demographic</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.ageDemographic as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Source Asset</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.sourceAsset as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Derived Assets</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.derivedAssets as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Other Assets</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.otherAssets as string}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsGeneralInfo;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\nimport { getAssetFieldDisplayFacetName } from '../../utils/displayUtils';\n\ninterface AssetDetailsIntendedUseProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsIntendedUse: React.FC<AssetDetailsIntendedUseProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = (): void => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">Intended Use</h3>\n                <span className={`asset-details-arrow ${isExpanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {isExpanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Intended Bottler Country</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.intendedBottlerCountry ? getAssetFieldDisplayFacetName('intendedBottlerCountry', selectedImage.intendedBottlerCountry as string) : ''}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Intended Customers</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.intendedCustomers as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Intended Channel</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.intendedChannel as string}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsIntendedUse;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsLegacyFieldsProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsLegacyFields: React.FC<AssetDetailsLegacyFieldsProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = (): void => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">Legacy Fields</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Original Create Date</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.originalCreateDate as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Date Uploaded</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.dateUploaded as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Under Embargo</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.underEmbargo as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Is this asset associated with a brand?</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.assetAssociatedWithBrand as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Is there a package depicted in this asset?</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.packageDepicted as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Funding BU or Market</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.fundingBuOrMarket as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Track Name</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.trackName as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Brands which have the asset as guideline</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.brandsWAssetGuideline as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Brands which have the asset as hero image</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.brandsWAssetHero as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Campaign where assets are key assets</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.campaignsWKeyAssets as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Featured Asset</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.featuredAsset as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Key Asset</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.keyAsset as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Layout</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.layout as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Jobs which have the asset as the contract asset</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.contractAssetJobs as string}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsLegacyFields;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\nimport { getAssetFieldDisplayFacetName } from '../../utils/displayUtils';\n\ninterface AssetDetailsMarketingProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsMarketing: React.FC<AssetDetailsMarketingProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = (): void => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">Marketing Overview</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Campaign Name</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.campaignName ? getAssetFieldDisplayFacetName('campaignName', selectedImage.campaignName as string) : ''}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Experience ID</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.experienceId as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Campaign Activation Remark</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.campaignActivationRemark as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Campaign Sub-Activation Remark</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.campaignSubActivationRemark as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Brand</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.brand as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Sub-brand</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.subBrand as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Beverage Type</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.beverageType as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Agency Name</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.agencyName ? getAssetFieldDisplayFacetName('agencyName', selectedImage.agencyName as string) : ''}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsMarketing;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\nimport { getAssetFieldDisplayFacetName } from '../../utils/displayUtils';\n\ninterface AssetDetailsMarketingPackageContainerProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsMarketingPackageContainer: React.FC<AssetDetailsMarketingPackageContainerProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = (): void => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">Marketing Package and Container Info</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Package or Container Type</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.packageOrContainerType as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Package or Container Material</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.packageOrContainerMaterial as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Package or Container Size</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.packageOrContainerSize ? getAssetFieldDisplayFacetName('packageContainerSize', selectedImage.packageOrContainerSize as string) : ''}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Secondary Packaging</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.secondaryPackaging as string}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsMarketingPackageContainer;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsOverviewProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsOverview: React.FC<AssetDetailsOverviewProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = () => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">Overview</h3>\n                <span className={`asset-details-arrow ${isExpanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {isExpanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Title</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.title as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Japanese Title</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.japaneseTitle as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Tags</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.tags as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Japanese Description</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.japaneseDescription as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Asset Description</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.description as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">File Type</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.illustratorType as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Language</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.language as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Asset Status</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.assetStatus as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Asset Expiry Date</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.expirationDate as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Asset Category and Asset Type Execution</h4>\n                            <span className=\"asset-details-main-metadata-value\">{(selectedImage?.category as string) || (selectedImage?.categoryAndType as string)}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsOverview;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsProductionProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsProduction: React.FC<AssetDetailsProductionProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = (): void => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">Production</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Lead Operating Unit</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.leadOperatingUnit as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">TCCC Lead Associate (Legacy)</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.tcccLeadAssociateLegacy as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">TCCC Contact</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.tcccContact as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Fadel Job ID</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.fadelJobId as string}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsProduction;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsScheduledActivationProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsScheduledActivation: React.FC<AssetDetailsScheduledActivationProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = (): void => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">Scheduled (de)activation</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">On Time</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.onTime as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Off Time</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.offTime as string}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsScheduledActivation;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsSystemProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsSystem: React.FC<AssetDetailsSystemProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = () => {\n        setIsExpanded(!isExpanded);\n    };\n\n    // Sync local expanded state with global collapse toggle, but allow local overrides via clicks\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">System Details</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}>\n                </span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Date Created</h4>\n                            <span className=\"asset-details-main-metadata-value\">\n                                {selectedImage?.createDate}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Date Published</h4>\n                            <span className=\"asset-details-main-metadata-value\">\n                                {selectedImage?.publishDate}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Date Modified</h4>\n                            <span className=\"asset-details-main-metadata-value\">\n                                {selectedImage.modifyDate}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Created By</h4>\n                            <span className=\"asset-details-main-metadata-value\">\n                                {selectedImage?.createBy}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Published By</h4>\n                            <span className=\"asset-details-main-metadata-value\">\n                                {selectedImage?.publishBy}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Publish Status</h4>\n                            <span className=\"asset-details-main-metadata-value\">\n                                {selectedImage?.publishStatus}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Workfront ID</h4>\n                            <span className=\"asset-details-main-metadata-value\">\n                                {selectedImage?.workfrontId}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Modified By</h4>\n                            <span className=\"asset-details-main-metadata-value\">\n                                {selectedImage?.modifyBy}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Source ID</h4>\n                            <span className=\"asset-details-main-metadata-value\">\n                                {selectedImage?.sourceId}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Migration ID</h4>\n                            <span className=\"asset-details-main-metadata-value\">\n                                {selectedImage?.migrationId}\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsSystem; ","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsSystemInfoLegacyProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsSystemInfoLegacy: React.FC<AssetDetailsSystemInfoLegacyProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = (): void => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">System Info Legacy</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Legacy Asset ID 1.0</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.legacyAssetId1 as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Legacy Asset ID 2.0</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.legacyAssetId2 as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Legacy File Name</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.legacyFileName as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Source Upload Date</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.sourceUploadDate as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Source Uploader</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.sourceUploader as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Job ID</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.jobId as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Project ID</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.projectId as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Legacy Source System</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.legacySourceSystem as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Intended Business Unit or Market</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.intendedBusinessUnitOrMarket as string}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsSystemInfoLegacy;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsTechnicalInfoProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsTechnicalInfo: React.FC<AssetDetailsTechnicalInfoProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = (): void => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">Technical Info</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">File Size</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.formatedSize as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">ID</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.assetId as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Resolution</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.resolution as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Image Height</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.imageHeight as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Image Width</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.imageWidth as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Duration</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.duration as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Broadcast Format</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.broadcastFormat as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Titling</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.titling as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Ratio</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.ratio as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label\">Orientation</h4>\n                            <span className=\"asset-details-main-metadata-value\">{selectedImage?.orientation as string}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsTechnicalInfo;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport type { Asset, Rendition } from '../types';\nimport { useAppConfig } from '../hooks/useAppConfig';\nimport { isPdfPreview } from '../constants/filetypes';\nimport { AuthorizationStatus } from '../clients/fadel-client';\nimport './PDFViewer.css';\n\ninterface PDFViewerProps {\n    selectedImage: Asset;\n    renditions: {\n        assetId?: string;\n        items?: Rendition[];\n        'repo:name'?: string;\n    };\n    fallbackComponent?: React.ReactNode;\n}\n\nconst PDFViewer: React.FC<PDFViewerProps> = ({ selectedImage, renditions, fallbackComponent }) => {\n    const { dynamicMediaClient } = useAppConfig();\n    const [pdfFailed, setPdfFailed] = useState(false);\n    const [isLoading, setIsLoading] = useState(true);\n\n    // Calculate all values before any early returns with useMemo\n    const isPdf = useMemo(() => isPdfPreview(selectedImage.format as string), [selectedImage.format]);\n\n    const pdfRendition = useMemo(() => {\n        if (!isPdf) return null;\n        return renditions?.items\n            ?.filter((item: Rendition) => isPdfPreview(item.format as string))\n            ?.sort((a: Rendition, b: Rendition) => (a.size ?? 0) - (b.size ?? 0))?.[0] ?? null;\n    }, [isPdf, renditions?.items]);\n\n    const pdfUrl = useMemo(() => {\n        if (!pdfRendition) return null;\n        return dynamicMediaClient?.getPreviewPdfUrl(\n            selectedImage.assetId as string,\n            selectedImage.name as string,\n            pdfRendition.name as string\n        ) ?? null;\n    }, [pdfRendition, dynamicMediaClient, selectedImage.assetId, selectedImage.name]);\n\n    // Fetch HEAD of pdfUrl to validate it\n    useEffect(() => {\n        if (!pdfUrl) {\n            return;\n        }\n\n        setPdfFailed(false);\n\n        const validatePdfUrl = async () => {\n            const maxRetries = 3;\n            const baseDelay = 500; // ms\n            \n            for (let attempt = 1; attempt <= maxRetries; attempt++) {\n                try {\n                    const response = await fetch(pdfUrl, { method: 'OPTIONS' });\n                    \n                    if (response.ok) {\n                        return; // Success!\n                    }\n                    \n                    \n                    // Retry on 404 or 503 (not on other errors)\n                    if (attempt < maxRetries && (response.status === 404 || response.status === 503)) {\n                        const delay = baseDelay * Math.pow(2, attempt - 1);\n                        await new Promise(resolve => setTimeout(resolve, delay));\n                        continue;\n                    }\n                    \n                    setPdfFailed(true);\n                    return;\n                } catch (error) {\n                    \n                    if (attempt < maxRetries) {\n                        const delay = baseDelay * Math.pow(2, attempt - 1);\n                        await new Promise(resolve => setTimeout(resolve, delay));\n                        continue;\n                    }\n                    \n                    setPdfFailed(true);\n                    return;\n                }\n            }\n            \n            setPdfFailed(true);\n        };\n\n        validatePdfUrl();\n    }, [pdfUrl]);\n\n    // Fallback timeout for Safari - onLoad may not fire for object elements\n    // This ensures spinner is hidden even if the browser doesn't fire onLoad\n    useEffect(() => {\n        if (!isLoading) {\n            return;\n        }\n\n        const timeoutId = setTimeout(() => {\n            setIsLoading(false);\n        }, 2000);\n\n        return () => clearTimeout(timeoutId);\n    }, [isLoading]);\n\n    if (!isPdf || !pdfRendition) {\n        return null;\n    }\n\n    // If PDF URL fetch failed or returned null/undefined, fall back to Picture\n    if (!pdfUrl || pdfFailed \n        || (selectedImage.readyToUse?.toLowerCase() !== 'yes' \n            && (selectedImage.authorized === undefined || selectedImage.authorized !== AuthorizationStatus.AVAILABLE))) {\n        return fallbackComponent || null;\n    }\n\n    return (\n        <div className=\"pdf-viewer-container\">\n            {isLoading && (\n                <div className=\"pdf-spinner-overlay\">\n                    <div className=\"pdf-spinner\" />\n                </div>\n            )}\n            <object\n                data={pdfUrl}\n                width=\"100%\"\n                height=\"100%\"\n                aria-label={selectedImage.title}\n                onLoad={() => {\n                    setIsLoading(false);\n                }}\n            />\n        </div>\n    );\n};\n\nexport default PDFViewer; ","import React, { useEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useAppConfig } from '../../hooks/useAppConfig';\nimport type { AssetDetailsProps, Rendition, Asset, Metadata } from '../../types';\n\nimport { AuthorizationStatus } from '../../clients/fadel-client';\nimport ActionButton from '../ActionButton';\nimport { BUTTON_CONFIGS } from '../ActionButtonConfigs';\nimport DownloadRenditionsModal from '../DownloadRenditionsModal';\nimport Picture from '../Picture';\nimport './AssetDetails.css';\nimport AssetDetailsDRM from './AssetDetailsDRM';\nimport AssetDetailsGeneralInfo from './AssetDetailsGeneralInfo';\nimport AssetDetailsIntendedUse from './AssetDetailsIntendedUse';\nimport AssetDetailsLegacyFields from './AssetDetailsLegacyFields';\nimport AssetDetailsMarketing from './AssetDetailsMarketing';\nimport AssetDetailsMarketingPackageContainer from './AssetDetailsMarketingPackageContainer';\nimport AssetDetailsOverview from './AssetDetailsOverview';\nimport AssetDetailsProduction from './AssetDetailsProduction';\nimport AssetDetailsScheduledActivation from './AssetDetailsScheduledActivation';\nimport AssetDetailsSystem from './AssetDetailsSystem';\nimport AssetDetailsSystemInfoLegacy from './AssetDetailsSystemInfoLegacy';\nimport AssetDetailsTechnicalInfo from './AssetDetailsTechnicalInfo';\nimport { populateAssetFromMetadata } from '../../utils/assetTransformers';\nimport { isPdfPreview } from '../../constants/filetypes';\nimport PDFViewer from '../PDFViewer';\n\n/* Displayed on the asset details modal header section\ncampaignName \ntitle\ndescription\n*/\n\nconst AssetDetails: React.FC<AssetDetailsProps> = ({\n    showModal,\n    selectedImage,\n    closeModal,\n    handleAddToCart,\n    handleRemoveFromCart,\n    cartAssetItems = [],\n    imagePresets = {},\n    renditions = {},\n    fetchAssetRenditions\n}) => {\n    // Get dynamicMediaClient from context\n    const { dynamicMediaClient } = useAppConfig();\n    const [collapseAll, setCollapseAll] = useState<boolean>(false);\n    const [showDownloadRenditionsModal, setShowDownloadRenditionsModal] = useState<boolean>(false);\n    const [actionButtonEnable, setActionButtonEnable] = useState<boolean>(false);\n    const [watermarkRendition, setWatermarkRendition] = useState<Rendition | undefined>(undefined);\n    const [populatedImage, setPopulatedImage] = useState<Asset>(selectedImage as Asset);\n\n    const rightsFree: boolean = (populatedImage?.readyToUse?.toLowerCase() === 'yes' || populatedImage?.authorized === AuthorizationStatus.AVAILABLE) ? true : false;\n\n    const handleToggleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setCollapseAll(e.target.checked);\n    };\n\n    // Check if this item is already in the cart\n    const isInCart = populatedImage ? cartAssetItems.some(cartAssetItem => cartAssetItem.assetId === populatedImage.assetId) : false;\n\n    // Handle button click - either add or remove from cart\n    const handleAddRemoveCart = (e: React.MouseEvent<HTMLButtonElement>) => {\n        e.stopPropagation();\n\n        if (!populatedImage) return;\n\n        if (isInCart) {\n            handleRemoveFromCart?.(populatedImage);\n        } else {\n            handleAddToCart?.(populatedImage, e);\n        }\n    };\n\n    const handleOverlayClick = (e: React.MouseEvent<HTMLDivElement>) => {\n        if (e.target === e.currentTarget && !showDownloadRenditionsModal) {\n            closeModal();\n        }\n    };\n\n    const handleModalClick = (e: React.MouseEvent<HTMLDivElement>) => {\n        e.stopPropagation();\n    };\n\n    // Handle action button click\n    const handleDownloadPreview = async () => {\n        if (!populatedImage || !dynamicMediaClient) {\n            console.warn('No asset or dynamic media client available for download');\n            return;\n        }\n\n        if (!watermarkRendition) {\n            console.warn('Download not available - no watermark rendition found');\n            return;\n        }\n\n        try {\n            console.log('Downloading watermark rendition:', watermarkRendition.name);\n            await dynamicMediaClient.downloadAsset(populatedImage, watermarkRendition);\n        } catch (error) {\n            console.error('Failed to download asset:', error);\n        }\n    };\n\n    const handleClickDownloadRenditions = async () => {\n        setShowDownloadRenditionsModal(true);\n    };\n\n    // Add to Collection (opens EDS modal used by plain JS flows)\n    const handleAddToCollection = (e: React.MouseEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (!populatedImage) return;\n        try {\n            const previewUrl = dynamicMediaClient?.getOptimizedDeliveryPreviewUrl\n                ? dynamicMediaClient.getOptimizedDeliveryPreviewUrl(populatedImage.assetId || '', populatedImage.name || '', 350)\n                : undefined;\n            const assetForModal = previewUrl ? { ...populatedImage, previewUrl } : populatedImage;\n            const detail = { asset: assetForModal, assetPath: populatedImage.assetId } as unknown as Record<string, unknown>;\n            window.dispatchEvent(new CustomEvent('openCollectionModal', { detail }));\n        } catch (error) {\n            console.warn('Failed to open Add to Collection modal from AssetDetails:', error);\n        }\n    };\n\n    const handleCloseDownloadRenditionsModal = () => {\n        setShowDownloadRenditionsModal(false);\n    };\n\n    useEffect(() => {\n        if (showModal && selectedImage && dynamicMediaClient) {\n            setPopulatedImage(selectedImage as Asset);\n\n            const fetchMetadata = async () => {\n                // Populate image with metadata\n                const metadataCache = JSON.parse(sessionStorage.getItem('assetMetadataCache') || '{}');\n                let metadata = metadataCache[selectedImage.assetId];\n\n                if (!metadata) {\n                    // Fetch metadata if not in cache\n                    metadata = await dynamicMediaClient?.getMetadata(selectedImage.assetId);\n\n                    // Store in sessionStorage\n                    if (metadata) {\n                        metadataCache[selectedImage.assetId] = metadata;\n                        sessionStorage.setItem('assetMetadataCache', JSON.stringify(metadataCache));\n                    }\n                }\n\n                console.debug('Metadata:', metadata);\n                setPopulatedImage(\n                    { ...selectedImage, ...populateAssetFromMetadata(metadata as Metadata) }\n                );\n            }\n\n            fetchMetadata();\n        };\n    }, [showModal, selectedImage, dynamicMediaClient]);\n\n    useEffect(() => {\n        if (showModal && populatedImage) {\n            setActionButtonEnable(false);\n            setWatermarkRendition(undefined);\n        };\n    }, [showModal, populatedImage]);\n\n    // Fetch static renditions when modal opens\n    useEffect(() => {\n        if (showModal && populatedImage && fetchAssetRenditions) {\n            fetchAssetRenditions(populatedImage);\n        }\n    }, [showModal, populatedImage, fetchAssetRenditions]);\n\n    // Update watermarkRendition state based on renditions\n    useEffect(() => {\n        const foundWatermarkRendition = renditions.items?.find(rendition =>\n            rendition.name?.toLowerCase().startsWith('watermark')\n        );\n        setWatermarkRendition(foundWatermarkRendition);\n    }, [renditions]);\n\n    // Update action button display based on watermarkRendition\n    useEffect(() => {\n        setActionButtonEnable(watermarkRendition ? true : false);\n    }, [watermarkRendition]);\n\n    // Image presets are now fetched automatically by fetchAssetRenditions in MainApp\n\n    if (!showModal || !populatedImage) return null;\n\n    // Get or create the modal root container - insert before header to ensure proper stacking\n    const getModalRoot = () => {\n        let modalRoot = document.getElementById('modal-root');\n        if (!modalRoot) {\n            modalRoot = document.createElement('div');\n            modalRoot.id = 'modal-root';\n            modalRoot.style.position = 'fixed';\n            modalRoot.style.top = '0';\n            modalRoot.style.left = '0';\n            modalRoot.style.width = '100%';\n            modalRoot.style.height = '100%';\n            modalRoot.style.zIndex = '1'; // Very low z-index\n            modalRoot.style.pointerEvents = 'none';\n\n            // Insert before the header element to ensure proper DOM order\n            const header = document.querySelector('header');\n            if (header) {\n                document.body.insertBefore(modalRoot, header);\n            } else {\n                document.body.appendChild(modalRoot);\n            }\n        }\n        return modalRoot;\n    };\n\n    return (\n        createPortal(<div className=\"asset-details-modal portal-modal\"\n            onClick={handleOverlayClick}\n            style={{ pointerEvents: 'auto' }} // Re-enable pointer events for the modal\n        >\n            <div className=\"asset-details-modal-inner\" onClick={handleModalClick}>\n                <div className=\"asset-details-main-main-section\">\n                    <div className=\"asset-details-main-image-section\">\n                        <div className=\"asset-details-image-wrapper\">\n                            {/* Add to Collection Overlay */}\n                            <div className=\"add-to-collection-overlay\" onClick={handleAddToCollection}>\n                                <div className=\"add-to-collection-content\">\n                                    <i className=\"icon add circle\"></i>\n                                    <span>Add to Collection</span>\n                                </div>\n                            </div>\n                            {(() => {\n                                const pictureComponent = (\n                                    <Picture\n                                        key={selectedImage?.assetId}\n                                        asset={selectedImage as Asset}\n                                        width={1200}\n                                        className=\"asset-details-main-image\"\n                                        eager={true}\n                                        fetchPriority=\"high\"\n                                    />\n                                );\n                                return isPdfPreview(selectedImage?.format as string) ? (\n                                    <PDFViewer \n                                        selectedImage={selectedImage as Asset} \n                                        renditions={renditions}\n                                        fallbackComponent={pictureComponent}\n                                    />\n                                ) : (\n                                    pictureComponent\n                                );\n                            })()}\n                        </div>\n                    </div>\n\n                    <div className=\"asset-details-main-info-section\">\n                        <div className=\"asset-details-main-info-section-inner\">\n                            <div className=\"asset-details-main-header\">\n                                <button className=\"asset-details-main-close-button\" onClick={closeModal}>\n                                    ×\n                                </button>\n                                {populatedImage?.xcmKeywords && (\n                                    <div className=\"asset-details-main-tags\">\n                                        {populatedImage.xcmKeywords.split(',').map((keyword, index) => (\n                                            <span key={index} className=\"asset-details-main-tag tccc-tag\">\n                                                {keyword.trim()}\n                                            </span>\n                                        ))}\n                                    </div>\n                                )}\n                                <div className=\"modal-title\">\n                                    {populatedImage.title}\n                                </div>\n                                {populatedImage?.description && (\n                                    <p className=\"modal-description\">{populatedImage?.description}</p>\n                                )}\n                            </div>\n\n                            <div className=\"details-modal-details\">\n                                <div className=\"details-modal-grid\">\n                                    <div className=\"details-modal-group\">\n                                        <span className=\"details-metadata-label tccc-metadata-label\">CREATED</span>\n                                        <span className=\"details-metadata-value tccc-metadata-value\">{populatedImage.createDate}</span>\n                                    </div>\n                                    <div className=\"details-modal-group\">\n                                        <span className=\"details-metadata-label tccc-metadata-label\">TYPE</span>\n                                        <span className=\"details-metadata-value tccc-metadata-value\">{populatedImage.illustratorType as string}</span>\n                                    </div>\n                                    <div className=\"details-modal-group\">\n                                        <span className=\"details-metadata-label tccc-metadata-label\">SIZE</span>\n                                        <span className=\"details-metadata-value tccc-metadata-value\">{populatedImage.formatedSize as string}</span>\n                                    </div>\n                                    <div className=\"details-modal-group\">\n                                        <span className=\"details-metadata-label tccc-metadata-label\">LAST MODIFIED</span>\n                                        <span className=\"details-metadata-value tccc-metadata-value\">{populatedImage.lastModified}</span>\n                                    </div>\n                                    <div className=\"details-modal-group\">\n                                        <span className=\"details-metadata-label tccc-metadata-label\">RES.</span>\n                                        <span className=\"details-metadata-value tccc-metadata-value\">{populatedImage.resolution as string}</span>\n                                    </div>\n                                    <div className=\"details-modal-group\">\n                                        <span className=\"details-metadata-label tccc-metadata-label\">EXPIRED</span>\n                                        <span className=\"details-metadata-value tccc-metadata-value\">{populatedImage.expired}</span>\n                                    </div>\n                                    <div className=\"details-modal-group\">\n                                        <span className=\"details-metadata-label tccc-metadata-label\">USAGE</span>\n                                        <span className=\"details-metadata-value tccc-metadata-value\">{populatedImage.usage as string}</span>\n                                    </div>\n                                    <div className=\"details-modal-group\">\n                                        <span className=\"details-metadata-label tccc-metadata-label\">RIGHTS FREE</span>\n                                        <span className=\"details-metadata-value tccc-metadata-value\">{populatedImage.readyToUse}</span>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div className=\"tccc-assets-rights-container\">\n                                <div className=\"tccc-assets-rights-inner\">\n                                    <h3 className=\"tccc-assets-rights-title\">Rights</h3>\n                                    <div className=\"tccc-assets-rights-grid\">\n                                        <div className=\"tccc-assets-rights-group\">\n                                            <span className=\"tccc-metadata-label\">RIGHTS PROFILE TITLE</span>\n                                            <span className=\"tccc-metadata-value\">{populatedImage?.rightsProfileTitle as string}</span>\n                                        </div>\n                                        <div className=\"tccc-assets-rights-group\">\n                                            <span className=\"tccc-metadata-label\">MARKET COVERED</span>\n                                            <span className=\"tccc-metadata-value\">{populatedImage?.marketCovered as string}</span>\n                                        </div>\n                                        <div className=\"tccc-assets-rights-group\">\n                                            <span className=\"tccc-metadata-label\">RIGHTS START DATE</span>\n                                            <span className=\"tccc-metadata-value\">{populatedImage?.rightsStartDate as string}</span>\n                                        </div>\n                                        <div className=\"tccc-assets-rights-group\">\n                                            <span className=\"tccc-metadata-label\">RIGHTS END DATE</span>\n                                            <span className=\"tccc-metadata-value\">{populatedImage?.rightsEndDate as string}</span>\n                                        </div>\n                                        <div className=\"tccc-assets-rights-group\">\n                                            <span className=\"tccc-metadata-label\">MEDIA</span>\n                                            <span className=\"tccc-metadata-value\">{populatedImage?.media as string}</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div className=\"product-actions\">\n                                <div className=\"left-buttons-wrapper\">\n                                    <ActionButton\n                                        disabled={!actionButtonEnable}\n                                        config={BUTTON_CONFIGS.download}\n                                        hasLoadingState={true}\n                                        onClick={handleDownloadPreview}\n                                    />\n                                </div>\n                                <div className=\"right-buttons-wrapper\">\n                                    <button\n                                        disabled={!rightsFree}\n                                        className={`secondary-button`}\n                                        onClick={handleClickDownloadRenditions}\n                                    >\n                                        Download\n                                    </button>\n                                    <button\n                                        className={`asset-details-main-add-to-cart-button${isInCart ? ' remove-from-cart' : ''} primary-button`}\n                                        onClick={handleAddRemoveCart}\n                                    >\n                                        {isInCart ? 'Remove From Cart' : 'Add To Cart'}\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"asset-details-main-toggle-section\"></div>\n\n                <div className=\"asset-details-main-metadata-section\">\n                    <div className=\"cmp-title\">\n                        <h1>\n                            Collapse All\n                            <label className=\"switch\">\n                                <input type=\"checkbox\" checked={collapseAll} onChange={handleToggleChange} />\n                                <span className=\"slider round\"></span>\n                            </label>\n                        </h1>\n                    </div>\n                    <div className=\"asset-details-main-metadata-grid\">\n                        <div className=\"asset-details-main-metadata-left-container\">\n                            <AssetDetailsSystem selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsDRM selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsOverview selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsGeneralInfo selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsIntendedUse selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsScheduledActivation selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsTechnicalInfo selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsSystemInfoLegacy selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsProduction selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsLegacyFields selectedImage={populatedImage} forceCollapse={collapseAll} />\n                        </div>\n                        <div className=\"asset-details-main-metadata-right-container\">\n                            <AssetDetailsMarketing selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsMarketingPackageContainer selectedImage={populatedImage} forceCollapse={collapseAll} />\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            {createPortal(\n                <DownloadRenditionsModal\n                    isOpen={showDownloadRenditionsModal}\n                    asset={populatedImage}\n                    onCloseDownloadRenditions={handleCloseDownloadRenditionsModal}\n                    renditions={renditions}\n                    imagePresets={imagePresets}\n                />,\n                document.body\n            )}\n        </div>,\n            getModalRoot()\n        )\n    );\n};\n\nexport default AssetDetails; ","import React, { useEffect, useState } from 'react';\nimport { useAppConfig } from '../hooks/useAppConfig';\nimport type { Asset, AssetPreviewProps, Rendition } from '../types';\nimport { formatCategory, getFileExtension } from '../utils/formatters';\nimport { getAssetFieldDisplayFacetName } from '../utils/displayUtils';\nimport ActionButton from './ActionButton';\nimport { BUTTON_CONFIGS } from './ActionButtonConfigs';\nimport './AssetPreview.css';\nimport Picture from './Picture';\nimport PDFViewer from './PDFViewer';\nimport { isPdfPreview } from '../constants/filetypes';\n\nconst AssetPreview: React.FC<AssetPreviewProps> = ({\n    showModal,\n    selectedImage,\n    closeModal,\n    handleAddToCart,\n    handleRemoveFromCart,\n    cartAssetItems = [],\n    renditions = {},\n    fetchAssetRenditions\n}) => {\n    // Get dynamicMediaClient from context\n    const { dynamicMediaClient } = useAppConfig();\n    const [actionButtonEnable, setActionButtonEnable] = useState<boolean>(false);\n    const [watermarkRendition, setWatermarkRendition] = useState<Rendition | undefined>(undefined);\n\n    // Check if this item is already in the cart\n    const isInCart = selectedImage ? cartAssetItems.some(cartAssetItem => cartAssetItem.assetId === selectedImage.assetId) : false;\n\n    // Handle button click - either add or remove from cart\n    const handleAddRemoveCart = (e: React.MouseEvent<HTMLButtonElement>) => {\n        e.stopPropagation();\n\n        if (!selectedImage) return;\n\n        if (isInCart) {\n            handleRemoveFromCart?.(selectedImage);\n        } else {\n            handleAddToCart?.(selectedImage, e);\n        }\n    };\n\n    const handleOverlayClick = (e: React.MouseEvent<HTMLDivElement>) => {\n        if (e.target === e.currentTarget) {\n            closeModal();\n        }\n    };\n\n    const handleModalClick = (e: React.MouseEvent<HTMLDivElement>) => {\n        e.stopPropagation();\n    };\n\n    useEffect(() => {\n        if (showModal && selectedImage) {\n            setActionButtonEnable(false);\n            setWatermarkRendition(undefined);\n        }\n    }, [showModal, selectedImage]);\n\n    // Fetch renditions when modal opens\n    useEffect(() => {\n        if (showModal && selectedImage && fetchAssetRenditions) {\n            fetchAssetRenditions(selectedImage);\n        }\n    }, [showModal, selectedImage, fetchAssetRenditions]);\n\n    // Update watermarkRendition state based on renditions\n    useEffect(() => {\n        const foundWatermarkRendition = renditions.items?.find(rendition =>\n            rendition.name?.toLowerCase().startsWith('watermark')\n        );\n        setWatermarkRendition(foundWatermarkRendition);\n    }, [renditions]);\n\n    // Update action button display based on watermarkRendition\n    useEffect(() => {\n        setActionButtonEnable(watermarkRendition ? true : false);\n    }, [watermarkRendition]);\n\n    if (!showModal || !selectedImage) return null;\n\n    const handleDownloadPreview = async (): Promise<void> => {\n        if (!selectedImage || !dynamicMediaClient) {\n            console.warn('No asset or dynamic media client available for download');\n            return;\n        }\n\n        if (!watermarkRendition) {\n            console.warn('Download not available - no watermark rendition found');\n            return;\n        }\n\n        try {\n            console.log('Downloading watermark rendition:', watermarkRendition.name);\n            await dynamicMediaClient.downloadAsset(selectedImage, watermarkRendition);\n        } catch (error) {\n            console.error('Failed to download asset:', error);\n        }\n    };\n\n    return (\n        <div className=\"asset-preview-modal portal-modal\" onClick={handleOverlayClick}>\n            <div className=\"asset-preview-modal-inner\" onClick={handleModalClick}>\n                <button className=\"modal-close-button\" onClick={closeModal}>\n                    ✕\n                </button>\n\n                <div className=\"asset-preview-modal-container\">\n                    <div className=\"modal-header\">\n                        <div className=\"preview-tags\">\n                            {(selectedImage?.campaignName as string) && (\n                                <span className=\"preview-tag tccc-tag\">{getAssetFieldDisplayFacetName('campaignName', selectedImage?.campaignName as string)}</span>\n                            )}\n                        </div>\n                        <h3 className=\"modal-title\">\n                            {selectedImage?.title}\n                        </h3>\n                    </div>\n\n                    <div className=\"modal-image-container\">\n                        {(() => {\n                            const pictureComponent = (\n                                <Picture\n                                    key={selectedImage?.assetId}\n                                    asset={selectedImage as Asset}\n                                    width={350}\n                                    className=\"modal-image\"\n                                    eager={true}\n                                    fetchPriority=\"high\"\n                                />\n                            );\n                            return isPdfPreview(selectedImage?.format as string) ? (\n                                <PDFViewer \n                                    selectedImage={selectedImage as Asset} \n                                    renditions={renditions}\n                                    fallbackComponent={pictureComponent}\n                                />\n                            ) : (\n                                pictureComponent\n                            );\n                        })()}\n                    </div>\n\n                    <div className=\"preview-modal-details\">\n                        <div className=\"preview-modal-grid\">\n                            <div className=\"preview-modal-group\">\n                                <span className=\"preview-metadata-label tccc-metadata-label\">SIZE</span>\n                                <span className=\"preview-metadata-value tccc-metadata-value\">{selectedImage.formatedSize as string}</span>\n                            </div>\n                            <div className=\"preview-modal-group\">\n                                <span className=\"preview-metadata-label tccc-metadata-label\">TYPE</span>\n                                <span className=\"preview-metadata-value tccc-metadata-value\">{selectedImage.formatLabel}</span>\n                            </div>\n                            <div className=\"preview-modal-group\">\n                                <span className=\"preview-metadata-label tccc-metadata-label\">FILE EXT</span>\n                                <span className=\"preview-metadata-value tccc-metadata-value\">{getFileExtension(selectedImage.name as string)}</span>\n                            </div>\n                            <div className=\"preview-modal-group\">\n                                <span className=\"preview-metadata-label tccc-metadata-label\">RIGHTS FREE</span>\n                                <span className=\"preview-metadata-value tccc-metadata-value\">{selectedImage.readyToUse}</span>\n                            </div>\n                            <div className=\"preview-modal-group\">\n                                <span className=\"preview-metadata-label tccc-metadata-label\">CATEGORY</span>\n                                <span className=\"preview-metadata-value tccc-metadata-value\">{formatCategory(selectedImage?.category as string)}</span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"product-actions\">\n                        <div className=\"left-buttons-wrapper\">\n                            <button\n                                className={`modal-add-to-cart-button${isInCart ? ' remove-from-cart' : ''}`}\n                                onClick={handleAddRemoveCart}\n                            >\n                                {isInCart ? 'Remove From Cart' : 'Add To Cart'}\n                            </button>\n                        </div>\n                        <div className=\"right-buttons-wrapper\">\n                            <ActionButton\n                                disabled={!actionButtonEnable}\n                                config={BUTTON_CONFIGS.download}\n                                hasLoadingState={true}\n                                onClick={handleDownloadPreview}\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default AssetPreview; ","import React, { useEffect, useMemo, useState } from 'react';\nimport type { ActionDropdownProps } from '../types';\nimport './ActionDropdown.css';\n\nconst ActionDropdown: React.FC<ActionDropdownProps> = ({\n    className = '',\n    items,\n    handlers,\n    show,\n    label,\n    selectedItem,\n    onSelectedItemChange\n}) => {\n    const [isDropdownOpen, setIsDropdownOpen] = useState<boolean>(false);\n\n    // Generate unique ID based on className or fallback to random ID\n    const dropdownId = useMemo(() => {\n        const baseId = className ? className.replace(/\\s+/g, '-').toLowerCase() : 'dropdown';\n        return `${baseId}-actions-${Math.random().toString(36).substr(2, 9)}`;\n    }, [className]);\n\n    // Handle clicking outside to close dropdown\n    useEffect(() => {\n        const handleClickOutside = (event: MouseEvent) => {\n            const target = event.target as HTMLElement;\n            if (isDropdownOpen) {\n                const dropdown = document.getElementById(dropdownId);\n                if (dropdown && !dropdown.contains(target)) {\n                    // Update DOM styles to close dropdown\n                    const menu = dropdown.querySelector('.menu') as HTMLElement;\n                    if (menu) {\n                        menu.style.display = 'none';\n                        dropdown.classList.remove('open');\n                    }\n                    setIsDropdownOpen(false);\n                }\n            }\n        };\n\n        if (isDropdownOpen) {\n            document.addEventListener('mousedown', handleClickOutside);\n        }\n\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [isDropdownOpen, dropdownId]);\n\n    const handleDropdownClick = (e: React.MouseEvent<HTMLDivElement>) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const dropdown = e.currentTarget;\n        const menu = dropdown.querySelector('.menu') as HTMLElement;\n\n        if (menu) {\n            if (isDropdownOpen) {\n                menu.style.display = 'none';\n                dropdown.classList.remove('open');\n                setIsDropdownOpen(false);\n            } else {\n                menu.style.display = 'block';\n                dropdown.classList.add('open');\n                setIsDropdownOpen(true);\n            }\n        }\n    };\n\n    const handleDropdownItemClick = (e: React.MouseEvent<HTMLDivElement>, action: () => void, itemText: string) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        // Update selected item\n        onSelectedItemChange?.(itemText);\n\n        // Call the action\n        action();\n\n        // Close the dropdown\n        const dropdown = document.getElementById(dropdownId);\n        const menu = dropdown?.querySelector('.menu') as HTMLElement;\n        if (menu && dropdown) {\n            menu.style.display = 'none';\n            dropdown.classList.remove('open');\n        }\n        setIsDropdownOpen(false);\n    };\n\n    if (!show) {\n        return null;\n    }\n\n    return (\n        <div className={`dropdown-actions-section ${className}`}>\n            <div\n                className=\"ui simple dropdown item\"\n                id={dropdownId}\n                onClick={handleDropdownClick}\n            >\n                <span className=\"dropdown-label\">{selectedItem || label}</span>\n                <i className=\"dropdown icon\"></i>\n                <div className=\"menu\">\n                    {items.map((item, index) => (\n                        <div\n                            key={index}\n                            className={`item ${selectedItem === item ? 'selected' : ''}`}\n                            onClick={(e) => handleDropdownItemClick(e, handlers[index], item)}\n                        >\n                            {item}\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ActionDropdown; ","import React from 'react';\nimport type { SearchPanelProps } from '../types';\nimport ActionDropdown from './ActionDropdown';\nimport './SearchPanel.css';\n\nconst SearchPanel: React.FC<SearchPanelProps> = ({\n    totalCount,\n    selectedCount,\n    displayedCount,\n    onSelectAll,\n    onToggleMobileFilter,\n    isMobileFilterOpen,\n    onBulkAddToCart,\n    // onBulkDownload,\n    // onBulkShare,\n    onBulkAddToCollection,\n    onSortByTopResults,\n    onSortByDateCreated,\n    onSortByLastModified,\n    onSortBySize,\n    onSortDirectionAscending,\n    onSortDirectionDescending,\n    selectedSortType,\n    selectedSortDirection,\n    onSortTypeChange,\n    onSortDirectionChange,\n    expandAllDetails,\n    onExpandAllDetailsChange,\n    viewType,\n    onViewTypeChange,\n    selectAuthorized,\n    onSelectAuthorized,\n    isRightsSearch = false\n}) => {\n    const handleToggleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        onExpandAllDetailsChange?.(e.target.checked);\n    };\n\n    const handleGridViewClick = () => {\n        onViewTypeChange?.('grid');\n    };\n\n    const handleListViewClick = () => {\n        onViewTypeChange?.('list');\n    };\n\n    return (\n        <>\n            {/* Search Primary Panel */}\n            <div className=\"search-primary-panel\">\n                <div className=\"primary-panel-container\">\n                    {/* Left side */}\n                    <div className=\"left-panel-group\">\n                        <ActionDropdown\n                            className=\"SortCards sort-dropdown-disabled\"\n                            items={['Top Results', 'Date Created', 'Last Modified', 'Size']}\n                            handlers={[onSortByTopResults, onSortByDateCreated, onSortByLastModified, onSortBySize]}\n                            show={true}\n                            label={undefined}\n                            selectedItem={selectedSortType}\n                            onSelectedItemChange={onSortTypeChange}\n                        />\n                        <ActionDropdown\n                            className=\"SortDirection sort-dropdown-disabled\"\n                            items={['Ascending', 'Descending']}\n                            handlers={[onSortDirectionAscending, onSortDirectionDescending]}\n                            show={true}\n                            label={undefined}\n                            selectedItem={selectedSortDirection}\n                            onSelectedItemChange={onSortDirectionChange}\n                        />\n\n                        {/* Show Full Details Toggle */}\n                        <div className=\"cmp-title\">\n                            <h1>Show full details<label className=\"switch\"><input type=\"checkbox\" checked={expandAllDetails} onChange={handleToggleChange} /><span className=\"slider round\"></span></label></h1>\n                        </div>\n                    </div>\n\n                    {/* Right side: Filter button */}\n                    <div className=\"right-panel-group\">\n                        <div className=\"card-view-container\">\n                            <button\n                                className={`grid-view-btn ${viewType === 'grid' ? 'active' : ''}`}\n                                type=\"button\"\n                                title=\"Grid View\"\n                                onClick={handleGridViewClick}\n                            >\n                                <img src={`${import.meta.env.BASE_URL}icons/gridview.svg`} alt=\"Grid View\" />\n                            </button>\n                            <button\n                                className={`list-view-btn ${viewType === 'list' ? 'active' : ''}`}\n                                type=\"button\"\n                                title=\"List View\"\n                                onClick={handleListViewClick}\n                            >\n                                <img src={`${import.meta.env.BASE_URL}icons/listview.svg`} alt=\"List View\" />\n                            </button>\n                        </div>\n\n                        <button\n                            className=\"filter-button\"\n                            type=\"button\"\n                            onClick={onToggleMobileFilter}\n                        >\n                            <img\n                                src={`${import.meta.env.BASE_URL}icons/Filter-search.svg`}\n                                alt=\"Filter\"\n                                className=\"filter-icon\"\n                            />\n                            {isMobileFilterOpen ? 'Hide Filter' : 'Show Filter'}\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            {/* Search Secondary Panel */}\n            <div className=\"search-secondary-panel\">\n                <div className=\"secondary-panel-container\">\n                    {/* Left side: Total, Select All, Actions */}\n                    <div className=\"left-panel-group\">\n                        {/* Total Count */}\n                        <div className=\"search-statistics\">\n                            <div className=\"total-statistic\">\n                                <span className=\"total-count\">{totalCount}</span>\n                                <span className=\"total-label\">Total</span>\n                            </div>\n                        </div>\n\n                        {/* Select All */}\n                        <div className=\"select-section\">\n                            {isRightsSearch && (\n                                <div className=\"select-authorized\">\n                                    <input\n                                        type=\"checkbox\"\n                                        id=\"select-authorized\"\n                                        checked={selectAuthorized || false}\n                                        onChange={(e) => onSelectAuthorized?.(e.target.checked)}\n                                    />\n                                    <label htmlFor=\"select-authorized\">\n                                        Show only authorized assets\n                                    </label>\n                                </div>\n                            )}\n                            <div className=\"select-all\">\n                                <input\n                                    type=\"checkbox\"\n                                    id=\"select-all\"\n                                    checked={selectedCount > 0 && selectedCount === displayedCount}\n                                    onChange={(e) => onSelectAll(e.target.checked)}\n                                />\n                                <label htmlFor=\"select-all\">\n                                    Select All {selectedCount > 0 && <span className=\"dropdown-count\">({selectedCount})</span>}\n                                </label>\n                            </div>\n                        </div>\n\n                        {/* Actions Button */}\n                        <ActionDropdown\n                            className=\"dropdown-actions-section\"\n                            items={['Add to cart', 'Add to Collection']} // , 'Download'\n                            handlers={[onBulkAddToCart, onBulkAddToCollection]} // , onBulkDownload\n                            show={selectedCount > 0}\n                            label=\"Actions\"\n                            selectedItem={undefined}\n                        />\n                    </div>\n\n                    {/* Right side: (empty for now) */}\n                    <div className=\"right-panel-group\">\n                        {/* Future content can go here */}\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default SearchPanel; ","import React, { useCallback, useEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { AuthorizationStatus } from '../clients/fadel-client';\nimport { DEFAULT_ACCORDION_CONFIG } from '../constants/accordion';\nimport { useAppConfig } from '../hooks/useAppConfig';\nimport type { Asset, ImageGalleryProps } from '../types';\nimport AssetCard from './AssetCard';\nimport AssetDetails from './AssetDetails/';\nimport AssetPreview from './AssetPreview';\nimport './ImageGallery.css';\nimport SearchPanel from './SearchPanel';\n\n// Display list of images\nconst ImageGallery: React.FC<ImageGalleryProps> = ({\n    images,\n    loading,\n    onAddToCart,\n    onRemoveFromCart,\n    cartAssetItems = [],\n    searchResult,\n    onToggleMobileFilter,\n    isMobileFilterOpen,\n    onBulkAddToCart,\n    onSortByTopResults,\n    onSortByDateCreated,\n    onSortByLastModified,\n    onSortBySize,\n    onSortDirectionAscending,\n    onSortDirectionDescending,\n    selectedSortType,\n    selectedSortDirection,\n    onSortTypeChange,\n    onSortDirectionChange,\n    onLoadMoreResults,\n    hasMorePages = false,\n    isLoadingMore = false,\n    imagePresets = {},\n    assetRenditionsCache = {},\n    fetchAssetRenditions,\n    isRightsSearch = false,\n    onFacetCheckbox,\n    onClearAllFacets\n}: ImageGalleryProps) => {\n    // Get external params and dynamic media client from context\n    const { externalParams } = useAppConfig();\n\n    // Extract accordion parameters from external params with fallbacks\n    const accordionTitle = externalParams?.accordionTitle || DEFAULT_ACCORDION_CONFIG.accordionTitle;\n    const accordionContent = externalParams?.accordionContent || DEFAULT_ACCORDION_CONFIG.accordionContent;\n\n    // Modal state management for asset preview\n    const [selectedCard, setSelectedCard] = useState<Asset | null>(null);\n    const [showPreviewModal, setShowPreviewModal] = useState<boolean>(false);\n    // Modal state management for asset details (card click)\n    const [showDetailsModal, setShowDetailsModal] = useState<boolean>(false);\n    // Checkbox selection state\n    const [selectedCards, setSelectedCards] = useState<Set<string>>(new Set());\n    // Show full details toggle state\n    const [expandAllDetails, setExpandAllDetails] = useState<boolean>(true);\n    // View type state (grid or list)\n    const [viewType, setViewType] = useState<'grid' | 'list'>('grid');\n    // Title expansion state\n    const [isTitleExpanded, setIsTitleExpanded] = useState<boolean>(false);\n    // Select authorized state\n    const [selectAuthorized, setSelectAuthorized] = useState<boolean>(false);\n\n    const [visibleImages, setVisibleImages] = useState<Asset[]>(images);\n\n    const displayedCount = visibleImages.length;\n    const selectedCount = selectedCards.size;\n\n    useEffect(() => {\n        selectAuthorized ? setVisibleImages(images.filter(image => image.authorized === undefined || image.authorized === AuthorizationStatus.AVAILABLE)) : setVisibleImages(images);\n\n        // Clear selection when filter changes to avoid showing incorrect counts\n        setSelectedCards(new Set());\n    }, [images, selectAuthorized]);\n\n    // Reset select-authorized checkbox when new search results come in\n    useEffect(() => {\n        // Reset select-authorized checkbox (selectedCards is already cleared by the effect above)\n        setSelectAuthorized(false);\n    }, [images]);\n\n    // Handle keyboard events for modals\n    useEffect(() => {\n        const handleKeyDown = (event: KeyboardEvent) => {\n            if (event.key === 'Escape') {\n                if (showDetailsModal) {\n                    closeDetailsModal();\n                } else if (showPreviewModal) {\n                    closeCardPreviewModal();\n                }\n            }\n        };\n\n        if (showPreviewModal || showDetailsModal) {\n            document.addEventListener('keydown', handleKeyDown);\n            document.body.style.overflow = 'hidden'; // Prevent background scrolling\n        }\n\n        return () => {\n            document.removeEventListener('keydown', handleKeyDown);\n            document.body.style.overflow = 'unset'; // Restore scrolling\n        };\n    }, [showPreviewModal, showDetailsModal]);\n\n    // Create stable callback for opening details view\n    const openDetailsView = useCallback(async (asset?: Asset, loadMetadata: boolean = false) => {\n        console.debug('openDetailsView called with asset:', asset, 'loadMetadata:', loadMetadata);\n        if (asset) {\n            console.debug('Setting selected card with asset ID:', asset.assetId, 'Asset object:', JSON.stringify(asset, null, 2));\n            setSelectedCard(asset as Asset);\n        } else {\n            console.log('No asset provided to openDetailsView');\n        }\n        setShowDetailsModal(true);\n    }, []);\n\n    // Expose cart and download panel functions to window for EDS header integration\n    useEffect(() => {\n        window.openDetailsView = openDetailsView;\n        window.closeDetailsView = () => closeDetailsModal();\n\n        return () => {\n            delete window.openDetailsView;\n            delete window.closeDetailsView;\n        };\n    }, [openDetailsView]);\n\n    // Handler for Add to Cart click with animation\n    const handleAddToCart = (image: Asset, e?: React.MouseEvent) => {\n        e?.stopPropagation();\n        onAddToCart?.(image);\n    };\n\n    // Handler for preview button click to show asset preview modal\n    const handleCardPreviewClick = (image: Asset, e: React.MouseEvent) => {\n        e.stopPropagation();\n        setSelectedCard(image);\n        setShowPreviewModal(true);\n    };\n\n    // Handler to close asset preview modal\n    const closeCardPreviewModal = () => {\n        setShowPreviewModal(false);\n        setSelectedCard(null);\n    };\n\n    // Handler for card click to show asset details modal\n    const handleCardDetailClick = (image: Asset, e: React.MouseEvent) => {\n        e.stopPropagation();\n        setSelectedCard(image);\n        setShowDetailsModal(true);\n    };\n\n    // Handler to close asset details modal\n    const closeDetailsModal = () => {\n        setSelectedCard(null);\n        setShowDetailsModal(false);\n    };\n\n    // Handle checkbox selection\n    const handleCheckboxChange = (imageId: string, isChecked: boolean) => {\n        setSelectedCards(prev => {\n            const newSet = new Set(prev);\n            if (isChecked) {\n                newSet.add(imageId);\n            } else {\n                newSet.delete(imageId);\n            }\n            return newSet;\n        });\n    };\n\n    // Handle select all\n    const handleSelectAll = (isChecked: boolean) => {\n        if (isChecked) {\n            setSelectedCards(new Set(visibleImages.map(img => img.assetId || '')));\n        } else {\n            setSelectedCards(new Set());\n        }\n    };\n\n    // Bulk actions handlers\n    const handleBulkAddToCart = () => {\n        onBulkAddToCart(selectedCards, visibleImages);\n        setSelectedCards(new Set());\n    };\n\n    const handleBulkDownload = () => {\n        console.log('Bulk download:', Array.from(selectedCards));\n    };\n\n    const handleBulkShare = () => {\n        console.log('Bulk share:', Array.from(selectedCards));\n    };\n\n    const handleBulkAddToCollection = () => {\n        // Get selected assets\n        const selectedAssets = visibleImages.filter(img => selectedCards.has(img.assetId || ''));\n\n        if (selectedAssets.length === 0) {\n            return;\n        }\n\n        // Dispatch the global collection modal event with multiple assets\n        const event = new CustomEvent('openCollectionModal', {\n            detail: {\n                assets: selectedAssets // Pass array of assets for bulk operation\n            }\n        });\n        window.dispatchEvent(event);\n\n        // Clear selection after action\n        setSelectedCards(new Set());\n    };\n\n    // Handle title expansion toggle\n    const handleTitleToggle = () => {\n        setIsTitleExpanded(!isTitleExpanded);\n    };\n\n    const handleSelectAuthorized = (isChecked: boolean) => {\n        setSelectAuthorized(isChecked);\n    };\n\n    // Calculate statistics\n    const totalCount = searchResult && searchResult.nbHits ? searchResult.nbHits.toString() : '0';\n\n    return (\n        <div className=\"image-gallery\">\n            <div className={`gallery-title ${isTitleExpanded ? 'expanded' : ''}`}>\n                <div className=\"gallery-title-content\">\n                    <div className=\"gallery-title-icon\" aria-label=\"Info\"></div>\n                    <h3 dangerouslySetInnerHTML={{ __html: accordionTitle }}></h3>\n                </div>\n                <button\n                    className={`gallery-title-toggle ${isTitleExpanded ? 'expanded' : 'collapsed'}`}\n                    onClick={handleTitleToggle}\n                />\n            </div>\n            {isTitleExpanded && (\n                <div\n                    className=\"gallery-title-expanded\"\n                    dangerouslySetInnerHTML={{ __html: accordionContent }}\n                />\n            )}\n\n            {/* Search Panels */}\n            <SearchPanel\n                totalCount={totalCount}\n                selectedCount={selectedCount}\n                displayedCount={displayedCount}\n                onSelectAll={handleSelectAll}\n                onToggleMobileFilter={onToggleMobileFilter}\n                isMobileFilterOpen={isMobileFilterOpen}\n                onBulkAddToCart={handleBulkAddToCart}\n                onBulkDownload={handleBulkDownload}\n                onBulkShare={handleBulkShare}\n                onBulkAddToCollection={handleBulkAddToCollection}\n                onSortByTopResults={onSortByTopResults}\n                onSortByDateCreated={onSortByDateCreated}\n                onSortByLastModified={onSortByLastModified}\n                onSortBySize={onSortBySize}\n                onSortDirectionAscending={onSortDirectionAscending}\n                onSortDirectionDescending={onSortDirectionDescending}\n                selectedSortType={selectedSortType}\n                selectedSortDirection={selectedSortDirection}\n                onSortTypeChange={onSortTypeChange}\n                onSortDirectionChange={onSortDirectionChange}\n                expandAllDetails={expandAllDetails}\n                onExpandAllDetailsChange={setExpandAllDetails}\n                viewType={viewType}\n                onViewTypeChange={setViewType}\n                hasMorePages={hasMorePages}\n                currentPage={(searchResult?.page as number) || 0}\n                totalPages={(searchResult?.nbPages as number) || 0}\n                selectAuthorized={selectAuthorized}\n                onSelectAuthorized={handleSelectAuthorized}\n                isRightsSearch={isRightsSearch}\n            />\n\n            <div className=\"image-grid-wrapper\">\n                {loading ? (\n                    <div className=\"loading-container\">\n                        <div className=\"loading-spinner\"></div>\n                        <p>Loading images...</p>\n                    </div>\n                ) : visibleImages.length === 0 ? (\n                    <div className=\"no-images\">\n                        <p>No images to display</p>\n                    </div>\n                ) : (\n                    <>\n                        <div className={viewType === 'grid' ? 'image-grid' : 'image-grid-list'}>\n                            {visibleImages.map((visibleImage, index) => {\n                                return (\n                                    <AssetCard\n                                        key={visibleImage.assetId}\n                                        viewMode={viewType}\n                                        image={visibleImage}\n                                        handleCardDetailClick={handleCardDetailClick}\n                                        handlePreviewClick={handleCardPreviewClick}\n                                        handleAddToCart={handleAddToCart}\n                                        handleRemoveFromCart={onRemoveFromCart}\n                                        cartAssetItems={cartAssetItems}\n                                        isSelected={selectedCards.has(visibleImage.assetId || '')}\n                                        onCheckboxChange={handleCheckboxChange}\n                                        expandAllDetails={expandAllDetails}\n                                        index={index}\n                                        onFacetCheckbox={onFacetCheckbox}\n                                        onClearAllFacets={onClearAllFacets}\n                                    />\n                                );\n                            })}\n                        </div>\n\n                        {/* Loading more indicator */}\n                        {isLoadingMore && (\n                            <div className=\"loading-more-container\">\n                                <div className=\"loading-spinner\"></div>\n                                <p>Loading more results...</p>\n                            </div>\n                        )}\n\n                        {/* Load More Button */}\n                        {hasMorePages && !isLoadingMore && (\n                            <div className=\"load-more-button-container\">\n                                <button\n                                    className=\"load-more-button\"\n                                    onClick={onLoadMoreResults}\n                                >\n                                    Load more\n                                </button>\n                            </div>\n                        )}\n                    </>\n                )}\n            </div>\n\n            {/* Asset Preview Modal */}\n            {createPortal(\n                <AssetPreview\n                    showModal={showPreviewModal}\n                    closeModal={closeCardPreviewModal}\n                    selectedImage={selectedCard}\n                    handleAddToCart={handleAddToCart}\n                    handleRemoveFromCart={onRemoveFromCart}\n                    cartAssetItems={cartAssetItems}\n                    renditions={selectedCard?.assetId ? assetRenditionsCache[selectedCard.assetId] : undefined}\n                    fetchAssetRenditions={fetchAssetRenditions}\n                />,\n                document.body\n            )}\n\n            {/* Asset Details Modal */}\n            <AssetDetails\n                showModal={showDetailsModal}\n                closeModal={closeDetailsModal}\n                selectedImage={selectedCard}\n                handleAddToCart={handleAddToCart}\n                handleRemoveFromCart={onRemoveFromCart}\n                cartAssetItems={cartAssetItems}\n                imagePresets={imagePresets}\n                renditions={selectedCard?.assetId ? assetRenditionsCache[selectedCard.assetId] : undefined}\n                fetchAssetRenditions={fetchAssetRenditions}\n            />\n        </div>\n    );\n};\n\nexport default ImageGallery; "],"names":["DEFAULT_ACCORDION_CONFIG","accordionTitle","accordionContent","ActionButton","disabled","onClick","config","hasLoadingState","style","loading","setLoading","useState","containerRef","useRef","tooltipRef","currentState","downloading","idle","jsxs","className","ref","onMouseEnter","current","buttonRect","getBoundingClientRect","tooltipElement","top","right","window","innerWidth","positionTooltip","children","jsx","async","backgroundImage","tooltip","BUTTON_CONFIGS","download","AssetCard","image","handleCardDetailClick","handlePreviewClick","handleAddToCart","handleRemoveFromCart","cartAssetItems","isSelected","onCheckboxChange","expandAllDetails","index","viewMode","onFacetCheckbox","onClearAllFacets","dynamicMediaClient","useAppConfig","isInCart","some","cartAssetItem","assetId","handleAddRemoveCart","e","stopPropagation","handleClickDownload","console","log","downloadAsset","error","warn","containerClass","trim","innerClass","TitleElement","firstButtonWrapper","secondButtonWrapper","metadataGrid","formatedSize","formatLabel","getFileExtension","name","readyToUse","formatCategory","category","authorizationStatus","Fragment","authorized","AuthorizationStatus","AVAILABLE","NOT_AVAILABLE","AVAILABLE_EXCEPT","id","cursor","type","checked","onChange","target","title","viewBox","xmlns","d","previewUrl","getOptimizedDeliveryPreviewUrl","event","CustomEvent","detail","asset","assetPath","repositoryPath","dispatchEvent","Picture","width","eager","EAGER_LOAD_IMAGE_COUNT","fetchPriority","campaignName","getAssetFieldDisplayFacetName","display","DownloadRenditionsModal","isOpen","onCloseDownloadRenditions","renditions","imagePresets","renditionsLoading","setRenditionsLoading","renditionsError","setRenditionsError","useEffect","handleEscape","useCallback","key","preventDefault","stopImmediatePropagation","document","addEventListener","capture","removeEventListener","handleOverlayClick","currentTarget","assets","useMemo","DownloadRenditionsContent","AssetDetailsDRM","selectedImage","forceCollapse","isExpanded","setIsExpanded","expanded","riskTypeManagement","rightsNotes","rightsStatus","businessAffairsManager","fadelId","AssetDetailsGeneralInfo","longRangePlan","longRangePlanTactic","campaignReach","masterOrAdaptation","keywords","japaneseKeywords","ageDemographic","sourceAsset","derivedAssets","otherAssets","AssetDetailsIntendedUse","intendedBottlerCountry","intendedCustomers","intendedChannel","AssetDetailsLegacyFields","originalCreateDate","dateUploaded","underEmbargo","assetAssociatedWithBrand","packageDepicted","fundingBuOrMarket","trackName","brandsWAssetGuideline","brandsWAssetHero","campaignsWKeyAssets","featuredAsset","keyAsset","layout","contractAssetJobs","AssetDetailsMarketing","experienceId","campaignActivationRemark","campaignSubActivationRemark","brand","subBrand","beverageType","agencyName","AssetDetailsMarketingPackageContainer","packageOrContainerType","packageOrContainerMaterial","packageOrContainerSize","secondaryPackaging","AssetDetailsOverview","japaneseTitle","tags","japaneseDescription","description","illustratorType","language","assetStatus","expirationDate","categoryAndType","AssetDetailsProduction","leadOperatingUnit","tcccLeadAssociateLegacy","tcccContact","fadelJobId","AssetDetailsScheduledActivation","onTime","offTime","AssetDetailsSystem","createDate","publishDate","modifyDate","createBy","publishBy","publishStatus","workfrontId","modifyBy","sourceId","migrationId","AssetDetailsSystemInfoLegacy","legacyAssetId1","legacyAssetId2","legacyFileName","sourceUploadDate","sourceUploader","jobId","projectId","legacySourceSystem","intendedBusinessUnitOrMarket","AssetDetailsTechnicalInfo","resolution","imageHeight","imageWidth","duration","broadcastFormat","titling","ratio","orientation","PDFViewer","fallbackComponent","pdfFailed","setPdfFailed","isLoading","setIsLoading","isPdf","isPdfPreview","format","pdfRendition","_c","_b","_a","items","filter","item","sort","a","b","size","pdfUrl","getPreviewPdfUrl","attempt","response","fetch","method","ok","status","delay","Math","pow","Promise","resolve","setTimeout","validatePdfUrl","timeoutId","clearTimeout","toLowerCase","data","height","onLoad","AssetDetails","showModal","closeModal","fetchAssetRenditions","collapseAll","setCollapseAll","showDownloadRenditionsModal","setShowDownloadRenditionsModal","actionButtonEnable","setActionButtonEnable","watermarkRendition","setWatermarkRendition","populatedImage","setPopulatedImage","rightsFree","metadataCache","JSON","parse","sessionStorage","getItem","metadata","getMetadata","setItem","stringify","debug","populateAssetFromMetadata","fetchMetadata","foundWatermarkRendition","find","rendition","startsWith","createPortal","pointerEvents","pictureComponent","xcmKeywords","split","map","keyword","lastModified","expired","usage","rightsProfileTitle","marketCovered","rightsStartDate","rightsEndDate","media","body","modalRoot","getElementById","createElement","position","left","zIndex","header","querySelector","insertBefore","appendChild","getModalRoot","AssetPreview","ActionDropdown","handlers","show","label","selectedItem","onSelectedItemChange","isDropdownOpen","setIsDropdownOpen","dropdownId","replace","random","toString","substr","handleClickOutside","dropdown","contains","menu","classList","remove","add","action","itemText","handleDropdownItemClick","SearchPanel","totalCount","selectedCount","displayedCount","onSelectAll","onToggleMobileFilter","isMobileFilterOpen","onBulkAddToCart","onBulkAddToCollection","onSortByTopResults","onSortByDateCreated","onSortByLastModified","onSortBySize","onSortDirectionAscending","onSortDirectionDescending","selectedSortType","selectedSortDirection","onSortTypeChange","onSortDirectionChange","onExpandAllDetailsChange","viewType","onViewTypeChange","selectAuthorized","onSelectAuthorized","isRightsSearch","src","alt","htmlFor","ImageGallery","images","onAddToCart","onRemoveFromCart","searchResult","onLoadMoreResults","hasMorePages","isLoadingMore","assetRenditionsCache","externalParams","selectedCard","setSelectedCard","showPreviewModal","setShowPreviewModal","showDetailsModal","setShowDetailsModal","selectedCards","setSelectedCards","Set","setExpandAllDetails","setViewType","isTitleExpanded","setIsTitleExpanded","setSelectAuthorized","visibleImages","setVisibleImages","length","handleKeyDown","closeDetailsModal","closeCardPreviewModal","overflow","openDetailsView","loadMetadata","closeDetailsView","handleCardPreviewClick","handleCheckboxChange","imageId","isChecked","prev","newSet","delete","nbHits","dangerouslySetInnerHTML","__html","img","onBulkDownload","Array","from","onBulkShare","selectedAssets","has","currentPage","page","totalPages","nbPages","visibleImage"],"mappings":"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"}