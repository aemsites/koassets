{"version":3,"file":"ImageGallery.js","sources":["../../../koassets-react/src/constants/accordion.ts","../../../koassets-react/src/components/ActionButton.tsx","../../../koassets-react/src/components/ActionButtonConfigs.ts","../../../scripts/toast/toast.js","../../../scripts/share/share-asset-button.js","../../../koassets-react/src/components/ShareAssetButton.jsx","../../../koassets-react/src/components/PDFModal.tsx","../../../koassets-react/src/components/AssetCard.tsx","../../../koassets-react/src/components/DownloadRenditionsModal.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsDRM.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsGeneralInfo.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsIntendedUse.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsLegacyFields.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsMarketing.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsMarketingPackageContainer.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsOverview.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsProduction.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsScheduledActivation.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsSystem.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsSystemInfoLegacy.tsx","../../../koassets-react/src/components/AssetDetails/AssetDetailsTechnicalInfo.tsx","../../../koassets-react/src/components/PDFViewer.tsx","../../../koassets-react/src/components/AssetDetails/index.tsx","../../../koassets-react/src/components/AssetPreview.tsx","../../../koassets-react/src/components/ActionDropdown.tsx","../../../koassets-react/src/components/SearchPanel.tsx","../../../koassets-react/src/components/ImageGallery.tsx"],"sourcesContent":["export const DEFAULT_ACCORDION_CONFIG = {\n    accordionTitle: 'Search Assets - where you can discover the company\\'s latest and greatest content!',\n    accordionContent: `<p><b>SEARCH:</b> Use the search bar in conjunction with the filters on the right to filter by usage rights, campaign, brand, asset type, and more.</p>\n<p><b>FILTERS:</b> On the right side of your screen, you will see a variety of filters to help you find the content you need. To use them, click on the filter you want to use, search for or scroll to the filter value you think is most relevant, and once selected hit the \"Apply\" button at the bottom.</p>\n<p><b>DOWNLOAD:</b> After selecting your asset(s), click the \"ADD TO CART\" button then go to your cart, located at the top right of the page. If an asset is rights free you can begin downloading immediately from your cart. For rights-protected content enter in your intended use to request your download.</p>\n<p><b>ADDING MULTIPLE ASSETS TO YOUR CART:</b> You can download multiple assets at once using the below instructions:</p>\n<ul><li><p>Locate the checkbox icon in the top left of each asset's thumbnail for each asset you wish to download.</p>\n</li></ul>\n<ul><li><p>Navigate to the top of the search to the drop-down menu that says, \"Actions\" and choose \"Add to Cart.\"</p>\n</li></ul>\n<p><b>\"RIGHTS FREE\" ASSETS DOWNLOAD:</b> You don't need to enter your intended use for \"Rights Free\" Assets! Use the \"Rights Free\" search filter and select yes to only view \"Rights Free\" assets.</p>\n<p><b>NEED ADDITIONAL SUPPORT</b>? If you have any additional questions reach out to our asset management team via <a href=\"mailto:assetmanagers@coca-cola.com\"><b>assetmanagers@coca-cola.com</b></a> or visit our <a href=\"https://forms.office.com/Pages/ResponsePage.aspx?id=qyaNVKqM4UmXwqGxoGzDnPYUeiWm8X1KiF0OxjOzZ3VUNlNNTzcxME9SMVpTTUUzVzY4TkFYV1dLVS4u&amp;wdLOR=c0E1D32CE-2209-4C6C-893D-F353FDC5C295\"><b>Support Portal</b></a>.</p>`\n} as const;","import React, { useRef, useState } from 'react';\nimport './ActionButton.css';\nimport type { ButtonConfig, ButtonState } from './ActionButtonConfigs';\n\ninterface ActionButtonProps {\n    disabled?: boolean;\n    onClick: () => void | Promise<void>;\n    config: ButtonConfig;\n    hasLoadingState?: boolean;\n    style?: React.CSSProperties;\n}\n\nconst ActionButton: React.FC<ActionButtonProps> = ({ disabled, onClick, config, hasLoadingState = false, style }) => {\n    const [loading, setLoading] = useState<boolean>(false);\n    const containerRef = useRef<HTMLDivElement>(null);\n    const tooltipRef = useRef<HTMLSpanElement>(null);\n\n    // Get current button state based on disabled, loading, or idle status\n    const getCurrentState = (): ButtonState => {\n        if (disabled && config.disabled) {\n            return config.disabled;\n        }\n        if (loading && config.downloading) {\n            return config.downloading;\n        }\n        return config.idle;\n    };\n\n    const handleClick = async () => {\n        if (hasLoadingState) {\n            setLoading(true);\n            try {\n                await onClick();\n            } finally {\n                setLoading(false);\n            }\n        } else {\n            onClick();\n        }\n    };\n\n    const positionTooltip = () => {\n        if (containerRef.current && tooltipRef.current) {\n            const buttonRect = containerRef.current.getBoundingClientRect();\n            const tooltipElement = tooltipRef.current;\n\n            // Position tooltip above button, aligned to right edge\n            tooltipElement.style.top = `${buttonRect.top - 35}px`; // 40px gap above button\n            tooltipElement.style.right = `${window.innerWidth - buttonRect.right}px`;\n        }\n    };\n\n    const handleMouseEnter = () => {\n        positionTooltip();\n    };\n\n    const currentState = getCurrentState();\n\n    return (\n        <div\n            className=\"action-button-container\"\n            ref={containerRef}\n            onMouseEnter={handleMouseEnter}\n            style={style}\n        >\n            <button\n                disabled={disabled}\n                className={`action-button ${currentState.className}`}\n                onClick={handleClick}\n                style={currentState.backgroundImage ? {\n                    backgroundImage: `url(${currentState.backgroundImage})`\n                } : undefined}\n            >\n            </button>\n            {currentState.tooltip && (\n                <span\n                    className=\"action-button-tooltip\"\n                    ref={tooltipRef}\n                >{currentState.tooltip}</span>\n            )}\n        </div>\n    );\n};\n\nexport type { ActionButtonProps };\nexport default ActionButton;\n","// Button configuration types and predefined configurations\nexport interface ButtonState {\n    className: string;\n    backgroundImage?: string;\n    tooltip: string;\n}\n\nexport interface ButtonConfig {\n    idle: ButtonState;\n    downloading?: ButtonState;\n    disabled?: ButtonState;\n}\n\n\n// Predefined button configurations\nexport const BUTTON_CONFIGS = {\n    download: {\n        idle: {\n            className: 'download',\n            backgroundImage: `${import.meta.env.BASE_URL}icons/download-asset.svg`,\n            tooltip: 'Download preview'\n        },\n        downloading: {\n            className: 'downloading',\n            backgroundImage: `${import.meta.env.BASE_URL}icons/downloading-asset.svg`,\n            tooltip: 'Downloading...'\n        },\n        disabled: {\n            className: 'download',\n            backgroundImage: `${import.meta.env.BASE_URL}icons/download-asset.svg`,\n            tooltip: 'Preview not available'\n        }\n    } as ButtonConfig\n};\n","/**\n * Toast notification component\n * Displays temporary notification messages to users\n */\n\n/**\n * Show a toast notification\n * @param {string} message - Message to display\n * @param {string} type - Type of toast ('success', 'error', 'info')\n */\nexport default function showToast(message, type = 'success') {\n  // Create toast element\n  const toast = document.createElement('div');\n  toast.className = `toast toast-${type}`;\n  toast.textContent = message;\n\n  // Add to document\n  document.body.appendChild(toast);\n\n  // Trigger animation\n  setTimeout(() => {\n    toast.classList.add('show');\n  }, 10);\n\n  // Remove after timeout\n  setTimeout(() => {\n    toast.classList.remove('show');\n    setTimeout(() => {\n      if (toast.parentNode) {\n        document.body.removeChild(toast);\n      }\n    }, 300);\n  }, 3000);\n}\n","import showToast from '../toast/toast.js';\n\n/**\n * Creates a share asset button DOM element\n * @param {Object} options - Button configuration\n * @param {string} options.assetId - The asset ID to share\n * @param {boolean} [options.disabled=false] - Whether the button is disabled\n * @returns {HTMLButtonElement} The button element\n */\n// eslint-disable-next-line import/prefer-default-export\nexport function createShareAssetButton({ assetId, disabled = false }) {\n  const button = document.createElement('button');\n  button.className = 'share-asset-button';\n  button.disabled = disabled;\n  button.setAttribute('aria-label', 'Share Asset');\n  button.setAttribute('title', 'Share Asset');\n\n  const fallbackCopyToClipboard = (text) => {\n    const textArea = document.createElement('textarea');\n    textArea.value = text;\n    textArea.style.position = 'fixed';\n    textArea.style.left = '-999999px';\n    document.body.appendChild(textArea);\n    textArea.focus();\n    textArea.select();\n\n    try {\n      document.execCommand('copy');\n      // eslint-disable-next-line no-console\n      console.debug('Share link copied to clipboard (fallback):', text);\n      showToast('Asset link copied to clipboard', 'success');\n    } catch (err) {\n      // eslint-disable-next-line no-console\n      console.error('Fallback: Could not copy text:', err);\n      showToast('Failed to copy link to clipboard', 'error');\n    }\n\n    document.body.removeChild(textArea);\n  };\n\n  const handleShare = async (e) => {\n    // eslint-disable-next-line no-console\n    console.debug('[ShareButton] handleShare called with assetId:', assetId);\n    e.stopPropagation();\n\n    if (!assetId) {\n      // eslint-disable-next-line no-console\n      console.warn('No assetId provided for sharing');\n      return;\n    }\n\n    // Build the share URL\n    const shareUrl = `${window.location.protocol}//${window.location.host}/asset-details?assetid=${assetId}`;\n\n    try {\n      // Copy to clipboard\n      await navigator.clipboard.writeText(shareUrl);\n      // eslint-disable-next-line no-console\n      console.debug('Share link copied to clipboard:', shareUrl);\n      showToast('Asset link copied to clipboard', 'success');\n    } catch (error) {\n      // eslint-disable-next-line no-console\n      console.error('Failed to copy share link to clipboard:', error);\n      // Fallback for older browsers\n      fallbackCopyToClipboard(shareUrl);\n    }\n  };\n\n  button.onclick = handleShare;\n\n  return button;\n}\n","import { useRef, useEffect } from 'react';\nimport '../../../scripts/share/share-asset-button.css';\nimport '../../../scripts/toast/toast.css';\nimport { createShareAssetButton } from '../../../scripts/share/share-asset-button.js';\n\n/**\n * React wrapper for the pure JS ShareAssetButton\n */\nexport default function ShareAssetButton({ assetId, disabled = false }) {\n  const containerRef = useRef(null);\n\n  useEffect(() => {\n    const container = containerRef.current;\n    if (!container) return undefined;\n\n    // Create the pure JS button\n    const button = createShareAssetButton({ assetId, disabled });\n\n    // Append it to the container\n    container.appendChild(button);\n\n    // Cleanup: remove the button when component unmounts or props change\n    return () => {\n      if (button.parentNode === container) {\n        container.removeChild(button);\n      }\n    };\n  }, [assetId, disabled]);\n\n  return <div ref={containerRef} style={{ display: 'contents' }} />;\n}\n\n","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport './PDFModal.css';\n\ninterface PDFModalProps {\n    showModal: boolean;\n    pdfUrl: string;\n    title: string;\n    onClose: () => void;\n}\n\nconst PDFModal: React.FC<PDFModalProps> = ({ showModal, pdfUrl, title, onClose }) => {\n    // Handle Escape key press\n    useEffect(() => {\n        if (!showModal) return;\n\n        const handleEscapeKey = (event: KeyboardEvent) => {\n            if (event.key === 'Escape') {\n                onClose();\n            }\n        };\n\n        document.addEventListener('keydown', handleEscapeKey);\n        return () => {\n            document.removeEventListener('keydown', handleEscapeKey);\n        };\n    }, [showModal, onClose]);\n\n    // Handle backdrop click\n    const handleBackdropClick = (e: React.MouseEvent<HTMLDivElement>) => {\n        if (e.target === e.currentTarget) {\n            onClose();\n        }\n    };\n\n    if (!showModal) return null;\n\n    // Create portal to render modal at document.body level\n    return createPortal(\n        <div className=\"pdf-viewer-modal\" onClick={handleBackdropClick}>\n            <div className=\"pdf-modal-content\">\n                {/* Modal Header */}\n                <div className=\"pdf-modal-header\">\n                    <h2 className=\"pdf-modal-title\">{title}</h2>\n                    <button\n                        className=\"pdf-modal-close\"\n                        onClick={onClose}\n                        aria-label=\"Close PDF viewer\"\n                        type=\"button\"\n                    >\n                        &times;\n                    </button>\n                </div>\n\n                {/* Modal Body */}\n                <div className=\"pdf-modal-body\">\n                    <object\n                        data={pdfUrl}\n                        type=\"application/pdf\"\n                        width=\"100%\"\n                        height=\"100%\"\n                        aria-label={title}\n                    >\n                        <p className=\"pdf-error\">\n                            Unable to display PDF. Please download to view.\n                        </p>\n                    </object>\n                </div>\n            </div>\n        </div>,\n        document.body\n    );\n};\n\nexport default PDFModal;\n\n","import React, { useState } from 'react';\nimport { AuthorizationStatus } from '../clients/fadel-client';\nimport { EAGER_LOAD_IMAGE_COUNT } from '../constants/images';\nimport { useAppConfig } from '../hooks/useAppConfig';\nimport type { AssetCardProps, Rendition } from '../types';\nimport { formatCategory, getFileExtension } from '../utils/formatters';\nimport { getAssetFieldDisplayFacetName } from '../utils/displayUtils';\nimport { isPdfPreview } from '../constants/filetypes';\nimport ActionButton from './ActionButton';\nimport { BUTTON_CONFIGS } from './ActionButtonConfigs';\nimport ShareAssetButton from './ShareAssetButton.jsx';\nimport Picture from './Picture';\nimport PDFModal from './PDFModal';\nimport './AssetCard.css';\n\nexport type ViewMode = 'grid' | 'list';\n\ninterface AssetCardBaseProps extends AssetCardProps {\n    viewMode: ViewMode;\n    className?: string;\n}\n\nconst AssetCard: React.FC<AssetCardBaseProps> = ({\n    image,\n    handleCardDetailClick,\n    handlePreviewClick,\n    handleAddToCart,\n    handleRemoveFromCart,\n    cartAssetItems = [],\n    isSelected = false,\n    onCheckboxChange,\n    expandAllDetails = true,\n    index = 0,\n    viewMode,\n    className = '',\n    onFacetCheckbox,\n    onClearAllFacets\n}) => {\n    // Get dynamicMediaClient from context\n    const { dynamicMediaClient } = useAppConfig();\n    \n    // State for PDF modal\n    const [showPdfModal, setShowPdfModal] = useState(false);\n    const [pdfUrl, setPdfUrl] = useState<string>('');\n    const [fetchingPdf, setFetchingPdf] = useState(false);\n    \n    // Check if this item is already in the cart\n    const isInCart = cartAssetItems.some(cartAssetItem => cartAssetItem.assetId === image.assetId);\n    \n    // Check if this is a rights-free PDF\n    const isPdf = isPdfPreview(image.format as string);\n    const isRightsFree = image.readyToUse?.toLowerCase() === 'yes';\n    const shouldShowPdfModal = isPdf && isRightsFree;\n\n    // Handle button click - either add or remove from cart\n    const handleAddRemoveCart = (e: React.MouseEvent<HTMLButtonElement>) => {\n        e.stopPropagation();\n\n        if (isInCart) {\n            handleRemoveFromCart?.(image);\n        } else {\n            handleAddToCart?.(image, e);\n        }\n    };\n\n    // Handle checkbox change\n    const handleSelectCard = (e: React.ChangeEvent<HTMLInputElement>) => {\n        onCheckboxChange?.(image.assetId || '', e.target.checked);\n    };\n\n    // Handle action button click\n    const handleClickDownload = async () => {\n        if (!image || !dynamicMediaClient) {\n            console.warn('No asset or dynamic media client available for download');\n            return;\n        }\n\n        try {\n            console.log('Downloading original asset:', image.assetId);\n            await dynamicMediaClient.downloadAsset(image);\n        } catch (error) {\n            console.error('Failed to download asset:', error);\n        }\n    };\n\n    // Handle add to collection click\n    const handleAddToCollection = (e: React.MouseEvent) => {\n        e.stopPropagation();\n        // Build a stable preview URL using Dynamic Media client (for collections)\n        const previewUrl = dynamicMediaClient && image.assetId && image.name\n            ? dynamicMediaClient.getOptimizedDeliveryPreviewUrl(image.assetId, image.name, 350)\n            : undefined;\n        // Trigger global collection modal with asset data (including previewUrl)\n        const event = new CustomEvent('openCollectionModal', {\n            detail: {\n                asset: { ...image, previewUrl },\n                assetPath: image.repositoryPath || image.assetId\n            }\n        });\n        window.dispatchEvent(event);\n    };\n\n    // Handle PDF preview click (fetch PDF URL and open modal)\n    const handlePdfPreviewClick = async (e: React.MouseEvent) => {\n        e.stopPropagation();\n        \n        if (!dynamicMediaClient || !image.assetId || !image.name) {\n            console.warn('Cannot fetch PDF: missing required data');\n            return;\n        }\n\n        setFetchingPdf(true);\n\n        try {\n            // Fetch renditions to get PDF URL\n            const renditions = await dynamicMediaClient.getAssetRenditions(image);\n            \n            // Find PDF rendition\n            const pdfRendition = renditions?.items\n                ?.filter((item: Rendition) => isPdfPreview(item.format as string))\n                ?.sort((a: Rendition, b: Rendition) => (a.size ?? 0) - (b.size ?? 0))?.[0];\n\n            if (pdfRendition) {\n                const url = dynamicMediaClient.getPreviewPdfUrl(\n                    image.assetId,\n                    image.name,\n                    pdfRendition.name as string\n                );\n                setPdfUrl(url);\n                setShowPdfModal(true);\n            } else {\n                console.warn('No PDF rendition found for:', image.title);\n            }\n        } catch (error) {\n            console.error('Failed to fetch PDF:', error);\n        } finally {\n            setFetchingPdf(false);\n        }\n    };\n\n    // Dynamic classes and elements based on view mode\n    const containerClass = `asset-card-view-${viewMode} ${className}`.trim();\n    const innerClass = `asset-card-view-${viewMode}-inner`;\n    \n    // Title element - h3 for grid, div for list\n    const TitleElement = viewMode === 'grid' ? 'h3' : 'div';\n    \n    // Action button wrappers\n    const firstButtonWrapper = viewMode === 'grid' ? 'left-buttons-wrapper' : 'top-buttons-wrapper';\n    const secondButtonWrapper = viewMode === 'grid' ? 'right-buttons-wrapper' : 'bottom-buttons-wrapper';\n\n    // Metadata grid (shared between both views)\n    const metadataGrid = expandAllDetails && (\n        <div className=\"product-meta-grid\">\n            <div className=\"product-meta-item\">\n                <span className=\"product-meta-label tccc-metadata-label\">SIZE</span>\n                <span className=\"product-meta-value tccc-metadata-value\">{image.formatedSize as string}</span>\n            </div>\n            <div className=\"product-meta-item\">\n                <span className=\"product-meta-label tccc-metadata-label\">TYPE</span>\n                <span className=\"product-meta-value tccc-metadata-value\">{image.formatLabel}</span>\n            </div>\n            <div className=\"product-meta-item\">\n                <span className=\"product-meta-label tccc-metadata-label\">FILE EXT</span>\n                <span className=\"product-meta-value tccc-metadata-value\">{getFileExtension(image.name as string)}</span>\n            </div>\n            <div className=\"product-meta-item\">\n                <span className=\"product-meta-label tccc-metadata-label\">RIGHTS FREE</span>\n                <span className=\"product-meta-value tccc-metadata-value\">{image.readyToUse}</span>\n            </div>\n            <div className=\"product-meta-item\">\n                <span className=\"product-meta-label tccc-metadata-label\">CATEGORY</span>\n                <span className=\"product-meta-value tccc-metadata-value\">{formatCategory(image?.category as string)}</span>\n            </div>\n        </div>\n    );\n\n    // Authorization status (shared between both views)\n    const authorizationStatus = (\n        <>\n            {(image.authorized === AuthorizationStatus.AVAILABLE) && (\n                <span className=\"product-authorized-status green\">AUTHORIZED</span>\n            )}\n            {(image.authorized === AuthorizationStatus.NOT_AVAILABLE || image.authorized === AuthorizationStatus.AVAILABLE_EXCEPT) && (\n                <span className=\"product-authorized-status red\">EXTENSION REQUIRED</span>\n            )}\n        </>\n    );\n\n    return (\n        <div className={containerClass} id={image.assetId}>\n            <div className={innerClass}>\n                <div className=\"image-wrapper\"\n                    onClick={(e) => handleCardDetailClick(image, e)}\n                    style={{ cursor: 'pointer' }}\n                >\n                    <input\n                        type=\"checkbox\"\n                        className=\"tccc-checkbox\"\n                        checked={isSelected}\n                        onChange={handleSelectCard}\n                        onClick={(e) => e.stopPropagation()}\n                    />\n\n                    <button\n                        className=\"image-preview-button\"\n                        onClick={(e) => {\n                            e.stopPropagation();\n                            if (shouldShowPdfModal) {\n                                handlePdfPreviewClick(e);\n                            } else {\n                                handlePreviewClick(image, e);\n                            }\n                        }}\n                        title={shouldShowPdfModal ? \"View PDF\" : \"View larger image\"}\n                        disabled={fetchingPdf}\n                    >\n                        <svg viewBox=\"0 0 256.001 256.001\" xmlns=\"http://www.w3.org/2000/svg\">\n                            <path d=\"M159.997 116a12 12 0 0 1-12 12h-20v20a12 12 0 0 1-24 0v-20h-20a12 12 0 0 1 0-24h20V84a12 12 0 0 1 24 0v20h20a12 12 0 0 1 12 12Zm72.48 116.482a12 12 0 0 1-16.971 0l-40.679-40.678a96.105 96.105 0 1 1 16.972-16.97l40.678 40.678a12 12 0 0 1 0 16.97Zm-116.48-44.486a72 72 0 1 0-72-72 72.081 72.081 0 0 0 72 72Z\" />\n                        </svg>\n                    </button>\n\n                    {/* Add to Collection Overlay */}\n                    <div className=\"add-to-collection-overlay\" onClick={handleAddToCollection}>\n                        <div className=\"add-to-collection-content\">\n                            <i className=\"icon add circle\"></i>\n                            <span>Add to Collection</span>\n                        </div>\n                    </div>\n\n                    <Picture\n                        key={image.assetId}\n                        asset={image}\n                        width={350}\n                        className=\"image-container\"\n                        eager={index < EAGER_LOAD_IMAGE_COUNT}\n                        fetchPriority={index < EAGER_LOAD_IMAGE_COUNT ? 'high' : 'auto'}\n                    />\n                </div>\n\n                <div className=\"product-info-container\">\n                    <div className=\"product-info\">\n                        <div className=\"product-title-section\">\n                            {image?.campaignName && (\n                                <div className=\"product-tags\">\n                                    <span \n                                        className=\"product-tag tccc-tag\"\n                                        onClick={(e) => {\n                                            e.stopPropagation();\n                                            // Clear all facets first\n                                            onClearAllFacets?.();\n                                            // Then select only this campaign facet\n                                            onFacetCheckbox?.('tccc-campaignName', image?.campaignName as string);\n                                        }}\n                                        style={{ cursor: 'pointer' }}\n                                    >\n                                        {getAssetFieldDisplayFacetName('campaignName', image?.campaignName as string)}\n                                    </span>\n                                </div>\n                            )}\n                            <TitleElement\n                                className=\"product-title\"\n                                onClick={(e) => handleCardDetailClick(image, e)}\n                                style={{ cursor: 'pointer' }}\n                            >\n                                {image.title}\n                            </TitleElement>\n                            {authorizationStatus}\n                        </div>\n\n                        {metadataGrid}\n                    </div>\n                </div>\n\n                <div className=\"product-actions\">\n                    <div className={firstButtonWrapper}>\n                        {viewMode === 'grid' ? (\n                            <button\n                                className={`add-to-cart-btn${isInCart ? ' remove-from-cart' : ''}`}\n                                onClick={handleAddRemoveCart}\n                            >\n                                {isInCart ? 'Remove From Cart' : 'Add To Cart'}\n                            </button>\n                        ) : (\n                            <ActionButton\n                                config={BUTTON_CONFIGS.download}\n                                hasLoadingState={true}\n                                onClick={handleClickDownload}\n                                style={{\n                                    display: 'none'\n                                }}\n                            />\n                        )}\n                    </div>\n                    <div className={secondButtonWrapper}>\n                        <ShareAssetButton\n                            assetId={image.assetId}\n                        />\n                        {viewMode === 'grid' ? (\n                            <ActionButton\n                                config={BUTTON_CONFIGS.download}\n                                hasLoadingState={true}\n                                onClick={handleClickDownload}\n                                style={{\n                                    display: 'none'\n                                }}\n                            />\n                        ) : (\n                            <button\n                                className={`add-to-cart-btn${isInCart ? ' remove-from-cart' : ''}`}\n                                onClick={handleAddRemoveCart}\n                            >\n                                {isInCart ? 'Remove From Cart' : 'Add To Cart'}\n                            </button>\n                        )}\n                    </div>\n                </div>\n            </div>\n\n            {/* PDF Modal for rights-free PDFs */}\n            {shouldShowPdfModal && (\n                <PDFModal\n                    showModal={showPdfModal}\n                    pdfUrl={pdfUrl}\n                    title={image.title || 'PDF Document'}\n                    onClose={() => setShowPdfModal(false)}\n                />\n            )}\n        </div>\n    );\n};\n\nexport default AssetCard;\n","import React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { Asset, Rendition } from '../types';\nimport DownloadRenditionsContent from './DownloadRenditionsContent';\nimport './DownloadRenditionsModal.css';\n\ninterface DownloadRenditionsModalProps {\n    isOpen: boolean;\n    asset: Asset | null;\n    onCloseDownloadRenditions: () => void;\n    renditions: {\n        assetId?: string;\n        items?: Rendition[];\n        'repo:name'?: string;\n    };\n    imagePresets: {\n        assetId?: string;\n        items?: Rendition[];\n        'repo:name'?: string;\n    };\n}\n\nconst DownloadRenditionsModal: React.FC<DownloadRenditionsModalProps> = ({\n    isOpen,\n    asset,\n    onCloseDownloadRenditions,\n    renditions,\n    imagePresets\n}) => {\n    const [renditionsLoading, setRenditionsLoading] = useState(false);\n    const [renditionsError, setRenditionsError] = useState<string | null>(null);\n\n    // Reset state when modal opens\n    useEffect(() => {\n        if (isOpen) {\n            setRenditionsLoading(false);\n            setRenditionsError(null);\n        }\n    }, [isOpen]);\n\n\n\n    // Handle escape key with capture to intercept before parent modals\n    const handleEscape = useCallback((e: KeyboardEvent) => {\n        if (e.key === 'Escape') {\n            e.preventDefault();\n            e.stopPropagation();\n            e.stopImmediatePropagation();\n            onCloseDownloadRenditions();\n        }\n    }, [onCloseDownloadRenditions]);\n\n    useEffect(() => {\n        if (!isOpen) return;\n\n        // Use capture: true to ensure this handler runs before others\n        document.addEventListener('keydown', handleEscape, { capture: true });\n        return () => document.removeEventListener('keydown', handleEscape, { capture: true });\n    }, [isOpen, handleEscape]);\n\n    const handleOverlayClick = useCallback((e: React.MouseEvent) => {\n        if (e.target === e.currentTarget) {\n            onCloseDownloadRenditions();\n        }\n    }, [onCloseDownloadRenditions]);\n\n\n\n    // Memoize the assets array to prevent unnecessary re-renders of child component\n    const assets = useMemo(() => [{\n        asset: asset!, // Non-null assertion since we check for asset existence before this point\n        renditions,\n        imagePresets,\n        renditionsLoading,\n        renditionsError\n    }], [asset, renditions, imagePresets, renditionsLoading, renditionsError]);\n\n    if (!isOpen || !asset) return null;\n\n    return (\n        <div className=\"download-renditions-overlay portal-modal\" onClick={handleOverlayClick}>\n            <div className=\"download-renditions-modal\">\n                <div className=\"download-renditions-header\">\n                    <div className=\"download-renditions-header-title\">Download</div>\n                    <button className=\"download-renditions-close\" onClick={onCloseDownloadRenditions}>\n                        Ã—\n                    </button>\n                </div>\n\n                <DownloadRenditionsContent\n                    assets={assets}\n                    onCloseDownloadRenditions={onCloseDownloadRenditions}\n                />\n            </div>\n        </div>\n    );\n};\n\nexport default DownloadRenditionsModal;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsDRMProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsDRM: React.FC<AssetDetailsDRMProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = () => {\n        setIsExpanded(!isExpanded);\n    };\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">DRM</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Risk Type Management</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">\n                                {selectedImage?.riskTypeManagement as string}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Rights Notes</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">\n                                {selectedImage?.rightsNotes as string}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Rights Status</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">\n                                {selectedImage?.rightsStatus as string}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Rights Free</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">\n                                {selectedImage?.readyToUse as string}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Business Affairs Manager</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">\n                                {selectedImage?.businessAffairsManager as string}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Fadel ID</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">\n                                {selectedImage?.fadelId as string}\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsDRM; ","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsGeneralInfoProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsGeneralInfo: React.FC<AssetDetailsGeneralInfoProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = () => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">TCCC General Info</h3>\n                <span className={`asset-details-arrow ${isExpanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {isExpanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Long Range Plan - Business Goal</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.longRangePlan as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Long Range Plan Tactic</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.longRangePlanTactic as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Campaign Reach</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.campaignReach as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Master or Adaptation</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.masterOrAdaptation as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Keywords</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.keywords as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Japanese Keywords</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.japaneseKeywords as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Age and Demographic</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.ageDemographic as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Source Asset</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.sourceAsset as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Derived Assets</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.derivedAssets as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Other Assets</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.otherAssets as string}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsGeneralInfo;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\nimport { getAssetFieldDisplayFacetName } from '../../utils/displayUtils';\n\ninterface AssetDetailsIntendedUseProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsIntendedUse: React.FC<AssetDetailsIntendedUseProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = (): void => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">Intended Use</h3>\n                <span className={`asset-details-arrow ${isExpanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {isExpanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Intended Bottler Country</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.intendedBottlerCountry ? getAssetFieldDisplayFacetName('intendedBottlerCountry', selectedImage.intendedBottlerCountry as string) : ''}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Intended Customers</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.intendedCustomers as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Intended Channel</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.intendedChannel as string}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsIntendedUse;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsLegacyFieldsProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsLegacyFields: React.FC<AssetDetailsLegacyFieldsProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = (): void => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">Legacy Fields</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Original Create Date</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.originalCreateDate as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Date Uploaded</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.dateUploaded as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Under Embargo</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.underEmbargo as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Is this asset associated with a brand?</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.assetAssociatedWithBrand as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Is there a package depicted in this asset?</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.packageDepicted as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Funding BU or Market</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.fundingBuOrMarket as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Track Name</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.trackName as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Brands which have the asset as guideline</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.brandsWAssetGuideline as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Brands which have the asset as hero image</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.brandsWAssetHero as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Campaign where assets are key assets</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.campaignsWKeyAssets as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Featured Asset</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.featuredAsset as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Key Asset</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.keyAsset as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Layout</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.layout as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Jobs which have the asset as the contract asset</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.contractAssetJobs as string}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsLegacyFields;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\nimport { getAssetFieldDisplayFacetName } from '../../utils/displayUtils';\n\ninterface AssetDetailsMarketingProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsMarketing: React.FC<AssetDetailsMarketingProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = (): void => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">Marketing Overview</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Campaign Name</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.campaignName ? getAssetFieldDisplayFacetName('campaignName', selectedImage.campaignName as string) : ''}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Experience ID</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.experienceId as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Campaign Activation Remark</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.campaignActivationRemark as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Campaign Sub-Activation Remark</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.campaignSubActivationRemark as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Brand</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.brand as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Sub-brand</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.subBrand as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Beverage Type</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.beverageType as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Agency Name</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.agencyName ? getAssetFieldDisplayFacetName('agencyName', selectedImage.agencyName as string) : ''}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsMarketing;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\nimport { getAssetFieldDisplayFacetName } from '../../utils/displayUtils';\n\ninterface AssetDetailsMarketingPackageContainerProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsMarketingPackageContainer: React.FC<AssetDetailsMarketingPackageContainerProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = (): void => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">Marketing Package and Container Info</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Package or Container Type</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.packageOrContainerType as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Package or Container Material</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.packageOrContainerMaterial as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Package or Container Size</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.packageOrContainerSize ? getAssetFieldDisplayFacetName('packageContainerSize', selectedImage.packageOrContainerSize as string) : ''}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Secondary Packaging</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.secondaryPackaging as string}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsMarketingPackageContainer;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsOverviewProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsOverview: React.FC<AssetDetailsOverviewProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = () => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">Overview</h3>\n                <span className={`asset-details-arrow ${isExpanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {isExpanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Title</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.title as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Japanese Title</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.japaneseTitle as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Tags</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.tags as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Japanese Description</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.japaneseDescription as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Asset Description</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.description as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">File Type</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.illustratorType as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Language</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.language as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Asset Status</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.assetStatus as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Asset Expiry Date</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.expirationDate as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Asset Category and Asset Type Execution</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{(selectedImage?.category as string) || (selectedImage?.categoryAndType as string)}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsOverview;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsProductionProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsProduction: React.FC<AssetDetailsProductionProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = (): void => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">Production</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Lead Operating Unit</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.leadOperatingUnit as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">TCCC Lead Associate (Legacy)</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.tcccLeadAssociateLegacy as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">TCCC Contact</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.tcccContact as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Fadel Job ID</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.fadelJobId as string}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsProduction;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsScheduledActivationProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsScheduledActivation: React.FC<AssetDetailsScheduledActivationProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = (): void => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">Scheduled (de)activation</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">On Time</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.onTime as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Off Time</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.offTime as string}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsScheduledActivation;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsSystemProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsSystem: React.FC<AssetDetailsSystemProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = () => {\n        setIsExpanded(!isExpanded);\n    };\n\n    // Sync local expanded state with global collapse toggle, but allow local overrides via clicks\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">System Details</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}>\n                </span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Date Created</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">\n                                {selectedImage?.createDate}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Date Published</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">\n                                {selectedImage?.publishDate}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Date Modified</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">\n                                {selectedImage.modifyDate}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Created By</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">\n                                {selectedImage?.createBy}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Published By</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">\n                                {selectedImage?.publishBy}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Publish Status</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">\n                                {selectedImage?.publishStatus}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Workfront ID</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">\n                                {selectedImage?.workfrontId}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Modified By</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">\n                                {selectedImage?.modifyBy}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Source ID</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">\n                                {selectedImage?.sourceId}\n                            </span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Migration ID</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">\n                                {selectedImage?.migrationId}\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsSystem; ","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsSystemInfoLegacyProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsSystemInfoLegacy: React.FC<AssetDetailsSystemInfoLegacyProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = (): void => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">System Info Legacy</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Legacy Asset ID 1.0</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.legacyAssetId1 as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Legacy Asset ID 2.0</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.legacyAssetId2 as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Legacy File Name</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.legacyFileName as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Source Upload Date</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.sourceUploadDate as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Source Uploader</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.sourceUploader as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Job ID</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.jobId as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Project ID</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.projectId as string}</span>\n                        </div>\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Legacy Source System</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.legacySourceSystem as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Intended Business Unit or Market</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.intendedBusinessUnitOrMarket as string}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsSystemInfoLegacy;\n","import React, { useEffect, useState } from 'react';\nimport type { Asset } from '../../types';\n\ninterface AssetDetailsTechnicalInfoProps {\n    selectedImage: Asset;\n    forceCollapse?: boolean;\n}\n\nconst AssetDetailsTechnicalInfo: React.FC<AssetDetailsTechnicalInfoProps> = ({ selectedImage, forceCollapse }) => {\n    const [isExpanded, setIsExpanded] = useState(true);\n\n    const toggleExpanded = (): void => setIsExpanded(!isExpanded);\n\n    useEffect(() => {\n        if (typeof forceCollapse === 'boolean') {\n            setIsExpanded(!forceCollapse);\n        }\n    }, [forceCollapse]);\n\n    const expanded = isExpanded;\n\n    return (\n        <div className=\"asset-details-card\">\n            <div className=\"asset-details-header\" onClick={toggleExpanded}>\n                <h3 className=\"asset-details-title\">Technical Info</h3>\n                <span className={`asset-details-arrow ${expanded ? 'expanded' : ''}`}></span>\n            </div>\n\n            {expanded && (\n                <div className=\"asset-details-content\">\n                    <div className=\"asset-details-grid\">\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">File Size</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.formatedSize as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">ID</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.assetId as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Resolution</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.resolution as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Image Height</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.imageHeight as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Image Width</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.imageWidth as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Duration</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.duration as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Broadcast Format</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.broadcastFormat as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Titling</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.titling as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Ratio</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.ratio as string}</span>\n                        </div>\n\n                        <div className=\"asset-details-group\">\n                            <h4 className=\"asset-details-main-metadata-label tccc-metadata-label\">Orientation</h4>\n                            <span className=\"asset-details-main-metadata-value tccc-metadata-value\">{selectedImage?.orientation as string}</span>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default AssetDetailsTechnicalInfo;\n","import React, { useState, useEffect, useMemo } from 'react';\nimport type { Asset, Rendition } from '../types';\nimport { useAppConfig } from '../hooks/useAppConfig';\nimport { isPdfPreview } from '../constants/filetypes';\nimport { AuthorizationStatus } from '../clients/fadel-client';\nimport PDFModal from './PDFModal';\nimport './PDFViewer.css';\n\ninterface PDFViewerProps {\n    selectedImage: Asset;\n    renditions: {\n        assetId?: string;\n        items?: Rendition[];\n        'repo:name'?: string;\n    };\n    fallbackComponent?: React.ReactNode;\n}\n\nconst PDFViewer: React.FC<PDFViewerProps> = ({ selectedImage, renditions, fallbackComponent }) => {\n    const { dynamicMediaClient } = useAppConfig();\n    const [pdfFailed, setPdfFailed] = useState(false);\n    const [isLoading, setIsLoading] = useState(true);\n    const [showPdfModal, setShowPdfModal] = useState(false);\n\n    // Calculate all values before any early returns with useMemo\n    const isPdf = useMemo(() => isPdfPreview(selectedImage.format as string), [selectedImage.format]);\n\n    const pdfRendition = useMemo(() => {\n        if (!isPdf) return null;\n        return renditions?.items\n            ?.filter((item: Rendition) => isPdfPreview(item.format as string))\n            ?.sort((a: Rendition, b: Rendition) => (a.size ?? 0) - (b.size ?? 0))?.[0] ?? null;\n    }, [isPdf, renditions?.items]);\n\n    const pdfUrl = useMemo(() => {\n        if (!pdfRendition) return null;\n        return dynamicMediaClient?.getPreviewPdfUrl(\n            selectedImage.assetId as string,\n            selectedImage.name as string,\n            pdfRendition.name as string\n        ) ?? null;\n    }, [pdfRendition, dynamicMediaClient, selectedImage.assetId, selectedImage.name]);\n\n    // Fetch HEAD of pdfUrl to validate it\n    useEffect(() => {\n        if (!pdfUrl) {\n            return;\n        }\n\n        setPdfFailed(false);\n\n        const validatePdfUrl = async () => {\n            const maxRetries = 3;\n            const baseDelay = 500; // ms\n            \n            for (let attempt = 1; attempt <= maxRetries; attempt++) {\n                try {\n                    const response = await fetch(pdfUrl, { method: 'OPTIONS' });\n                    \n                    if (response.ok) {\n                        return; // Success!\n                    }\n                    \n                    \n                    // Retry on 404 or 503 (not on other errors)\n                    if (attempt < maxRetries && (response.status === 404 || response.status === 503)) {\n                        const delay = baseDelay * Math.pow(2, attempt - 1);\n                        await new Promise(resolve => setTimeout(resolve, delay));\n                        continue;\n                    }\n                    \n                    setPdfFailed(true);\n                    return;\n                } catch (error) {\n                    \n                    if (attempt < maxRetries) {\n                        const delay = baseDelay * Math.pow(2, attempt - 1);\n                        await new Promise(resolve => setTimeout(resolve, delay));\n                        continue;\n                    }\n                    \n                    setPdfFailed(true);\n                    return;\n                }\n            }\n            \n            setPdfFailed(true);\n        };\n\n        validatePdfUrl();\n    }, [pdfUrl]);\n\n    // Fallback timeout for Safari - onLoad may not fire for object elements\n    // This ensures spinner is hidden even if the browser doesn't fire onLoad\n    useEffect(() => {\n        if (!isLoading) {\n            return;\n        }\n\n        const timeoutId = setTimeout(() => {\n            setIsLoading(false);\n        }, 2000);\n\n        return () => clearTimeout(timeoutId);\n    }, [isLoading]);\n\n    if (!isPdf || !pdfRendition) {\n        return null;\n    }\n\n    // If PDF URL fetch failed or returned null/undefined, fall back to Picture\n    if (!pdfUrl || pdfFailed \n        || (selectedImage.readyToUse?.toLowerCase() !== 'yes' \n            && (selectedImage.authorized === undefined || selectedImage.authorized !== AuthorizationStatus.AVAILABLE))) {\n        return fallbackComponent || null;\n    }\n\n    return (\n        <>\n            <div className=\"pdf-viewer-container\">\n                {isLoading && (\n                    <div className=\"pdf-spinner-overlay\">\n                        <div className=\"pdf-spinner\" />\n                    </div>\n                )}\n                \n                {/* Magnifying glass button to open modal */}\n                <button\n                    className=\"pdf-preview-button\"\n                    onClick={() => setShowPdfModal(true)}\n                    title=\"View PDF in full screen\"\n                    type=\"button\"\n                    aria-label={`View ${selectedImage.title} in full screen`}\n                >\n                    <img src=\"/icons/zoom.svg\" alt=\"View PDF\" />\n                </button>\n\n                <object\n                    data={pdfUrl}\n                    width=\"100%\"\n                    height=\"100%\"\n                    aria-label={selectedImage.title}\n                    onLoad={() => {\n                        setIsLoading(false);\n                    }}\n                />\n            </div>\n\n            {/* PDF Modal */}\n            <PDFModal\n                showModal={showPdfModal}\n                pdfUrl={pdfUrl || ''}\n                title={selectedImage.title || 'PDF Document'}\n                onClose={() => setShowPdfModal(false)}\n            />\n        </>\n    );\n};\n\nexport default PDFViewer; ","import React, { useEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useAppConfig } from '../../hooks/useAppConfig';\nimport type { AssetDetailsProps, Rendition, Asset, Metadata } from '../../types';\n\nimport { AuthorizationStatus } from '../../clients/fadel-client';\nimport ActionButton from '../ActionButton';\nimport { BUTTON_CONFIGS } from '../ActionButtonConfigs';\nimport DownloadRenditionsModal from '../DownloadRenditionsModal';\nimport Picture from '../Picture';\nimport ShareAssetButton from '../ShareAssetButton.jsx';\nimport './AssetDetails.css';\nimport AssetDetailsDRM from './AssetDetailsDRM';\nimport AssetDetailsGeneralInfo from './AssetDetailsGeneralInfo';\nimport AssetDetailsIntendedUse from './AssetDetailsIntendedUse';\nimport AssetDetailsLegacyFields from './AssetDetailsLegacyFields';\nimport AssetDetailsMarketing from './AssetDetailsMarketing';\nimport AssetDetailsMarketingPackageContainer from './AssetDetailsMarketingPackageContainer';\nimport AssetDetailsOverview from './AssetDetailsOverview';\nimport AssetDetailsProduction from './AssetDetailsProduction';\nimport AssetDetailsScheduledActivation from './AssetDetailsScheduledActivation';\nimport AssetDetailsSystem from './AssetDetailsSystem';\nimport AssetDetailsSystemInfoLegacy from './AssetDetailsSystemInfoLegacy';\nimport AssetDetailsTechnicalInfo from './AssetDetailsTechnicalInfo';\nimport { isPdfPreview } from '../../constants/filetypes';\nimport PDFViewer from '../PDFViewer';\nimport { populateAssetFromMetadata } from '../../utils/assetTransformers';\n\n/* Displayed on the asset details modal header section\ncampaignName \ntitle\ndescription\n*/\n\nconst AssetDetails: React.FC<AssetDetailsProps> = ({\n    showModal,\n    selectedImage,\n    closeModal,\n    handleAddToCart,\n    handleRemoveFromCart,\n    cartAssetItems = [],\n    imagePresets = {},\n    renditions = {},\n    fetchAssetRenditions,\n    isDeepLinkAsset = false\n}) => {\n    // Get dynamicMediaClient from context\n    const { dynamicMediaClient } = useAppConfig();\n    const [collapseAll, setCollapseAll] = useState<boolean>(false);\n    const [showDownloadRenditionsModal, setShowDownloadRenditionsModal] = useState<boolean>(false);\n    const [actionButtonEnable, setActionButtonEnable] = useState<boolean>(false);\n    const [watermarkRendition, setWatermarkRendition] = useState<Rendition | undefined>(undefined);\n    const [populatedImage, setPopulatedImage] = useState<Asset>(selectedImage as Asset);\n\n    const rightsFree: boolean = (populatedImage?.readyToUse?.toLowerCase() === 'yes' || populatedImage?.authorized === AuthorizationStatus.AVAILABLE) ? true : false;\n\n    const handleToggleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        setCollapseAll(e.target.checked);\n    };\n\n    // Check if this item is already in the cart\n    const isInCart = populatedImage ? cartAssetItems.some(cartAssetItem => cartAssetItem.assetId === populatedImage.assetId) : false;\n\n    // Handle button click - either add or remove from cart\n    const handleAddRemoveCart = (e: React.MouseEvent<HTMLButtonElement>) => {\n        e.stopPropagation();\n\n        if (!populatedImage) return;\n\n        if (isInCart) {\n            handleRemoveFromCart?.(populatedImage);\n        } else {\n            handleAddToCart?.(populatedImage, e);\n        }\n    };\n\n    const handleOverlayClick = (e: React.MouseEvent<HTMLDivElement>) => {\n        if (e.target === e.currentTarget && !showDownloadRenditionsModal) {\n            closeModal();\n        }\n    };\n\n    const handleModalClick = (e: React.MouseEvent<HTMLDivElement>) => {\n        e.stopPropagation();\n    };\n\n    // Handle action button click\n    const handleDownloadPreview = async () => {\n        if (!populatedImage || !dynamicMediaClient) {\n            console.warn('No asset or dynamic media client available for download');\n            return;\n        }\n\n        if (!watermarkRendition) {\n            console.warn('Download not available - no watermark rendition found');\n            return;\n        }\n\n        try {\n            console.log('Downloading watermark rendition:', watermarkRendition.name);\n            await dynamicMediaClient.downloadAsset(populatedImage, watermarkRendition);\n        } catch (error) {\n            console.error('Failed to download asset:', error);\n        }\n    };\n\n    const handleClickDownloadRenditions = async () => {\n        setShowDownloadRenditionsModal(true);\n    };\n\n    // Add to Collection (opens EDS modal used by plain JS flows)\n    const handleAddToCollection = (e: React.MouseEvent) => {\n        e.preventDefault();\n        e.stopPropagation();\n        if (!populatedImage) return;\n        try {\n            const previewUrl = dynamicMediaClient?.getOptimizedDeliveryPreviewUrl\n                ? dynamicMediaClient.getOptimizedDeliveryPreviewUrl(populatedImage.assetId || '', populatedImage.name || '', 350)\n                : undefined;\n            const assetForModal = previewUrl ? { ...populatedImage, previewUrl } : populatedImage;\n            const detail = { asset: assetForModal, assetPath: populatedImage.assetId } as unknown as Record<string, unknown>;\n            window.dispatchEvent(new CustomEvent('openCollectionModal', { detail }));\n        } catch (error) {\n            console.warn('Failed to open Add to Collection modal from AssetDetails:', error);\n        }\n    };\n\n    const handleCloseDownloadRenditionsModal = () => {\n        setShowDownloadRenditionsModal(false);\n    };\n\n    useEffect(() => {\n        if (showModal && selectedImage && dynamicMediaClient) {\n            // Always fetch metadata to ensure complete asset data\n            const fetchMetadata = async () => {\n                try {\n                    console.debug('Fetching metadata for asset:', selectedImage.assetId);\n                    const metadata = await dynamicMediaClient.getMetadata(selectedImage.assetId);\n                    const populatedAsset = populateAssetFromMetadata(metadata as Metadata);\n                    console.debug('Setting populated image with metadata:', populatedAsset.assetId);\n                    setPopulatedImage(populatedAsset);\n                } catch (error) {\n                    console.error('Failed to fetch metadata:', error);\n                    // Fallback to the provided asset\n                    setPopulatedImage(selectedImage as Asset);\n                }\n            };\n            fetchMetadata();\n        };\n    }, [showModal, selectedImage, dynamicMediaClient]);\n\n    useEffect(() => {\n        if (showModal && populatedImage) {\n            setActionButtonEnable(false);\n            setWatermarkRendition(undefined);\n        };\n    }, [showModal, populatedImage]);\n\n    // Fetch static renditions when modal opens\n    useEffect(() => {\n        if (showModal && populatedImage && fetchAssetRenditions) {\n            fetchAssetRenditions(populatedImage);\n        }\n    }, [showModal, populatedImage, fetchAssetRenditions]);\n\n    // Update watermarkRendition state based on renditions\n    useEffect(() => {\n        const foundWatermarkRendition = renditions.items?.find(rendition =>\n            rendition.name?.toLowerCase().startsWith('watermark')\n        );\n        setWatermarkRendition(foundWatermarkRendition);\n    }, [renditions]);\n\n    // Update action button display based on watermarkRendition\n    useEffect(() => {\n        setActionButtonEnable(watermarkRendition ? true : false);\n    }, [watermarkRendition]);\n\n    // Image presets are now fetched automatically by fetchAssetRenditions in MainApp\n\n    if (!showModal || !populatedImage) return null;\n\n    // Get or create the modal root container - insert before header to ensure proper stacking\n    const getModalRoot = () => {\n        let modalRoot = document.getElementById('modal-root');\n        if (!modalRoot) {\n            modalRoot = document.createElement('div');\n            modalRoot.id = 'modal-root';\n            modalRoot.style.position = 'fixed';\n            modalRoot.style.top = '0';\n            modalRoot.style.left = '0';\n            modalRoot.style.width = '100%';\n            modalRoot.style.height = '100%';\n            modalRoot.style.zIndex = '1'; // Very low z-index\n            modalRoot.style.pointerEvents = 'none';\n\n            // Insert before the header element to ensure proper DOM order\n            const header = document.querySelector('header');\n            if (header) {\n                document.body.insertBefore(modalRoot, header);\n            } else {\n                document.body.appendChild(modalRoot);\n            }\n        }\n        return modalRoot;\n    };\n\n    return (\n        createPortal(<div className=\"asset-details-modal portal-modal\"\n            onClick={handleOverlayClick}\n            style={{ pointerEvents: 'auto' }} // Re-enable pointer events for the modal\n        >\n            <div className=\"asset-details-modal-inner\" onClick={handleModalClick}>\n                <div className=\"asset-details-main-main-section\">\n                    <div className=\"asset-details-main-image-section\">\n                        <div className=\"asset-details-image-wrapper\">\n                            {/* Add to Collection Overlay */}\n                            <div className=\"add-to-collection-overlay\" onClick={handleAddToCollection}>\n                                <div className=\"add-to-collection-content\">\n                                    <i className=\"icon add circle\"></i>\n                                    <span>Add to Collection</span>\n                                </div>\n                            </div>\n                            {(() => {\n                                const pictureComponent = (\n                                    <Picture\n                                        key={selectedImage?.assetId}\n                                        asset={selectedImage as Asset}\n                                        width={1200}\n                                        className=\"asset-details-main-image\"\n                                        eager={true}\n                                        fetchPriority=\"high\"\n                                    />\n                                );\n                                return isPdfPreview(selectedImage?.format as string) ? (\n                                    <PDFViewer \n                                        selectedImage={selectedImage as Asset} \n                                        renditions={renditions}\n                                        fallbackComponent={pictureComponent}\n                                    />\n                                ) : (\n                                    pictureComponent\n                                );\n                            })()}\n                        </div>\n                    </div>\n\n                    <div className=\"asset-details-main-info-section\">\n                        <div className=\"asset-details-main-info-section-inner\">\n                            <div className=\"asset-details-main-header\">\n                                {isDeepLinkAsset ? null : (\n                                    <button className=\"asset-details-main-close-button\" onClick={closeModal}>\n                                        Ã—\n                                    </button>\n                                )}\n                                {populatedImage?.xcmKeywords && (\n                                    <div className=\"asset-details-main-tags\">\n                                        {populatedImage.xcmKeywords.split(',').map((keyword, index) => (\n                                            <span key={index} className=\"asset-details-main-tag tccc-tag\">\n                                                {keyword.trim()}\n                                            </span>\n                                        ))}\n                                    </div>\n                                )}\n                                <div className=\"modal-title\">\n                                    {populatedImage.title}\n                                </div>\n                                {populatedImage?.description && (\n                                    <p className=\"modal-description\">{populatedImage?.description}</p>\n                                )}\n                            </div>\n\n                            <div className=\"details-modal-details\">\n                                <div className=\"details-modal-grid\">\n                                    <div className=\"details-modal-group\">\n                                        <span className=\"details-metadata-label tccc-metadata-label\">CREATED</span>\n                                        <span className=\"details-metadata-value tccc-metadata-value\">{populatedImage.createDate}</span>\n                                    </div>\n                                    <div className=\"details-modal-group\">\n                                        <span className=\"details-metadata-label tccc-metadata-label\">TYPE</span>\n                                        <span className=\"details-metadata-value tccc-metadata-value\">{populatedImage.illustratorType as string}</span>\n                                    </div>\n                                    <div className=\"details-modal-group\">\n                                        <span className=\"details-metadata-label tccc-metadata-label\">SIZE</span>\n                                        <span className=\"details-metadata-value tccc-metadata-value\">{populatedImage.formatedSize as string}</span>\n                                    </div>\n                                    <div className=\"details-modal-group\">\n                                        <span className=\"details-metadata-label tccc-metadata-label\">LAST MODIFIED</span>\n                                        <span className=\"details-metadata-value tccc-metadata-value\">{populatedImage.lastModified}</span>\n                                    </div>\n                                    <div className=\"details-modal-group\">\n                                        <span className=\"details-metadata-label tccc-metadata-label\">RES.</span>\n                                        <span className=\"details-metadata-value tccc-metadata-value\">{populatedImage.resolution as string}</span>\n                                    </div>\n                                    <div className=\"details-modal-group\">\n                                        <span className=\"details-metadata-label tccc-metadata-label\">EXPIRED</span>\n                                        <span className=\"details-metadata-value tccc-metadata-value\">{populatedImage.expired}</span>\n                                    </div>\n                                    <div className=\"details-modal-group\">\n                                        <span className=\"details-metadata-label tccc-metadata-label\">USAGE</span>\n                                        <span className=\"details-metadata-value tccc-metadata-value\">{populatedImage.usage as string}</span>\n                                    </div>\n                                    <div className=\"details-modal-group\">\n                                        <span className=\"details-metadata-label tccc-metadata-label\">RIGHTS FREE</span>\n                                        <span className=\"details-metadata-value tccc-metadata-value\">{populatedImage.readyToUse}</span>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div className=\"tccc-assets-rights-container\">\n                                <div className=\"tccc-assets-rights-inner\">\n                                    <h3 className=\"asset-details-title\">Rights</h3>\n                                    <div className=\"tccc-assets-rights-grid\">\n                                        <div className=\"tccc-assets-rights-group\">\n                                            <span className=\"tccc-metadata-label\">RIGHTS PROFILE TITLE</span>\n                                            <span className=\"tccc-metadata-value\">{populatedImage?.rightsProfileTitle as string}</span>\n                                        </div>\n                                        <div className=\"tccc-assets-rights-group\">\n                                            <span className=\"tccc-metadata-label\">MARKET COVERED</span>\n                                            <span className=\"tccc-metadata-value\">{populatedImage?.marketCovered as string}</span>\n                                        </div>\n                                        <div className=\"tccc-assets-rights-group\">\n                                            <span className=\"tccc-metadata-label\">RIGHTS START DATE</span>\n                                            <span className=\"tccc-metadata-value\">{populatedImage?.rightsStartDate as string}</span>\n                                        </div>\n                                        <div className=\"tccc-assets-rights-group\">\n                                            <span className=\"tccc-metadata-label\">RIGHTS END DATE</span>\n                                            <span className=\"tccc-metadata-value\">{populatedImage?.rightsEndDate as string}</span>\n                                        </div>\n                                        <div className=\"tccc-assets-rights-group\">\n                                            <span className=\"tccc-metadata-label\">MEDIA</span>\n                                            <span className=\"tccc-metadata-value\">{populatedImage?.media as string}</span>\n                                        </div>\n                                    </div>\n                                </div>\n                            </div>\n\n                            <div className=\"product-actions\">\n                                <div className=\"left-buttons-wrapper\">\n                                    <ActionButton\n                                        disabled={!actionButtonEnable}\n                                        config={BUTTON_CONFIGS.download}\n                                        hasLoadingState={true}\n                                        onClick={handleDownloadPreview}\n                                    />\n                                    <ShareAssetButton\n                                        assetId={selectedImage?.assetId}\n                                    />\n                                </div>\n                                <div className=\"right-buttons-wrapper\">\n                                    <button\n                                        disabled={!rightsFree}\n                                        className={`secondary-button`}\n                                        onClick={handleClickDownloadRenditions}\n                                    >\n                                        Download\n                                    </button>\n                                    <button\n                                        className={`asset-details-main-add-to-cart-button${isInCart ? ' remove-from-cart' : ''} primary-button`}\n                                        onClick={handleAddRemoveCart}\n                                    >\n                                        {isInCart ? 'Remove From Cart' : 'Add To Cart'}\n                                    </button>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n\n                <div className=\"asset-details-main-toggle-section\"></div>\n\n                <div className=\"asset-details-main-metadata-section\">\n                    <div className=\"cmp-title\">\n                        <h1>\n                            Collapse All\n                            <label className=\"switch\">\n                                <input type=\"checkbox\" checked={collapseAll} onChange={handleToggleChange} />\n                                <span className=\"slider round\"></span>\n                            </label>\n                        </h1>\n                    </div>\n                    <div className=\"asset-details-main-metadata-grid\">\n                        <div className=\"asset-details-main-metadata-left-container\">\n                            <AssetDetailsSystem selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsDRM selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsOverview selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsGeneralInfo selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsIntendedUse selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsScheduledActivation selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsTechnicalInfo selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsSystemInfoLegacy selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsProduction selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsLegacyFields selectedImage={populatedImage} forceCollapse={collapseAll} />\n                        </div>\n                        <div className=\"asset-details-main-metadata-right-container\">\n                            <AssetDetailsMarketing selectedImage={populatedImage} forceCollapse={collapseAll} />\n                            <AssetDetailsMarketingPackageContainer selectedImage={populatedImage} forceCollapse={collapseAll} />\n                        </div>\n                    </div>\n                </div>\n            </div>\n\n            {createPortal(\n                <DownloadRenditionsModal\n                    isOpen={showDownloadRenditionsModal}\n                    asset={populatedImage}\n                    onCloseDownloadRenditions={handleCloseDownloadRenditionsModal}\n                    renditions={renditions}\n                    imagePresets={imagePresets}\n                />,\n                document.body\n            )}\n        </div>,\n            getModalRoot()\n        )\n    );\n};\n\nexport default AssetDetails; ","import React, { useEffect, useState } from 'react';\nimport { useAppConfig } from '../hooks/useAppConfig';\nimport type { Asset, AssetPreviewProps, Rendition } from '../types';\nimport { formatCategory, getFileExtension } from '../utils/formatters';\nimport { getAssetFieldDisplayFacetName } from '../utils/displayUtils';\nimport ActionButton from './ActionButton';\nimport { BUTTON_CONFIGS } from './ActionButtonConfigs';\nimport './AssetPreview.css';\nimport Picture from './Picture';\nimport PDFViewer from './PDFViewer';\nimport { isPdfPreview } from '../constants/filetypes';\n\nconst AssetPreview: React.FC<AssetPreviewProps> = ({\n    showModal,\n    selectedImage,\n    closeModal,\n    handleAddToCart,\n    handleRemoveFromCart,\n    cartAssetItems = [],\n    renditions = {},\n    fetchAssetRenditions\n}) => {\n    // Get dynamicMediaClient from context\n    const { dynamicMediaClient } = useAppConfig();\n    const [actionButtonEnable, setActionButtonEnable] = useState<boolean>(false);\n    const [watermarkRendition, setWatermarkRendition] = useState<Rendition | undefined>(undefined);\n\n    // Check if this item is already in the cart\n    const isInCart = selectedImage ? cartAssetItems.some(cartAssetItem => cartAssetItem.assetId === selectedImage.assetId) : false;\n\n    // Handle button click - either add or remove from cart\n    const handleAddRemoveCart = (e: React.MouseEvent<HTMLButtonElement>) => {\n        e.stopPropagation();\n\n        if (!selectedImage) return;\n\n        if (isInCart) {\n            handleRemoveFromCart?.(selectedImage);\n        } else {\n            handleAddToCart?.(selectedImage, e);\n        }\n    };\n\n    const handleOverlayClick = (e: React.MouseEvent<HTMLDivElement>) => {\n        if (e.target === e.currentTarget) {\n            closeModal();\n        }\n    };\n\n    const handleModalClick = (e: React.MouseEvent<HTMLDivElement>) => {\n        e.stopPropagation();\n    };\n\n    useEffect(() => {\n        if (showModal && selectedImage) {\n            setActionButtonEnable(false);\n            setWatermarkRendition(undefined);\n        }\n    }, [showModal, selectedImage]);\n\n    // Fetch renditions when modal opens\n    useEffect(() => {\n        if (showModal && selectedImage && fetchAssetRenditions) {\n            fetchAssetRenditions(selectedImage);\n        }\n    }, [showModal, selectedImage, fetchAssetRenditions]);\n\n    // Update watermarkRendition state based on renditions\n    useEffect(() => {\n        const foundWatermarkRendition = renditions.items?.find(rendition =>\n            rendition.name?.toLowerCase().startsWith('watermark')\n        );\n        setWatermarkRendition(foundWatermarkRendition);\n    }, [renditions]);\n\n    // Update action button display based on watermarkRendition\n    useEffect(() => {\n        setActionButtonEnable(watermarkRendition ? true : false);\n    }, [watermarkRendition]);\n\n    if (!showModal || !selectedImage) return null;\n\n    const handleDownloadPreview = async (): Promise<void> => {\n        if (!selectedImage || !dynamicMediaClient) {\n            console.warn('No asset or dynamic media client available for download');\n            return;\n        }\n\n        if (!watermarkRendition) {\n            console.warn('Download not available - no watermark rendition found');\n            return;\n        }\n\n        try {\n            console.log('Downloading watermark rendition:', watermarkRendition.name);\n            await dynamicMediaClient.downloadAsset(selectedImage, watermarkRendition);\n        } catch (error) {\n            console.error('Failed to download asset:', error);\n        }\n    };\n\n    return (\n        <div className=\"asset-preview-modal portal-modal\" onClick={handleOverlayClick}>\n            <div className=\"asset-preview-modal-inner\" onClick={handleModalClick}>\n                <button className=\"modal-close-button\" onClick={closeModal}>\n                    âœ•\n                </button>\n\n                <div className=\"asset-preview-modal-container\">\n                    <div className=\"modal-header\">\n                        <div className=\"preview-tags\">\n                            {(selectedImage?.campaignName as string) && (\n                                <span className=\"preview-tag tccc-tag\">{getAssetFieldDisplayFacetName('campaignName', selectedImage?.campaignName as string)}</span>\n                            )}\n                        </div>\n                        <h3 className=\"modal-title\">\n                            {selectedImage?.title}\n                        </h3>\n                    </div>\n\n                    <div className=\"modal-image-container\">\n                        {(() => {\n                            const pictureComponent = (\n                                <Picture\n                                    key={selectedImage?.assetId}\n                                    asset={selectedImage as Asset}\n                                    width={350}\n                                    className=\"modal-image\"\n                                    eager={true}\n                                    fetchPriority=\"high\"\n                                />\n                            );\n                            return isPdfPreview(selectedImage?.format as string) ? (\n                                <PDFViewer \n                                    selectedImage={selectedImage as Asset} \n                                    renditions={renditions}\n                                    fallbackComponent={pictureComponent}\n                                />\n                            ) : (\n                                pictureComponent\n                            );\n                        })()}\n                    </div>\n\n                    <div className=\"preview-modal-details\">\n                        <div className=\"preview-modal-grid\">\n                            <div className=\"preview-modal-group\">\n                                <span className=\"preview-metadata-label tccc-metadata-label\">SIZE</span>\n                                <span className=\"preview-metadata-value tccc-metadata-value\">{selectedImage.formatedSize as string}</span>\n                            </div>\n                            <div className=\"preview-modal-group\">\n                                <span className=\"preview-metadata-label tccc-metadata-label\">TYPE</span>\n                                <span className=\"preview-metadata-value tccc-metadata-value\">{selectedImage.formatLabel}</span>\n                            </div>\n                            <div className=\"preview-modal-group\">\n                                <span className=\"preview-metadata-label tccc-metadata-label\">FILE EXT</span>\n                                <span className=\"preview-metadata-value tccc-metadata-value\">{getFileExtension(selectedImage.name as string)}</span>\n                            </div>\n                            <div className=\"preview-modal-group\">\n                                <span className=\"preview-metadata-label tccc-metadata-label\">RIGHTS FREE</span>\n                                <span className=\"preview-metadata-value tccc-metadata-value\">{selectedImage.readyToUse}</span>\n                            </div>\n                            <div className=\"preview-modal-group\">\n                                <span className=\"preview-metadata-label tccc-metadata-label\">CATEGORY</span>\n                                <span className=\"preview-metadata-value tccc-metadata-value\">{formatCategory(selectedImage?.category as string)}</span>\n                            </div>\n                        </div>\n                    </div>\n\n                    <div className=\"product-actions\">\n                        <div className=\"left-buttons-wrapper\">\n                            <button\n                                className={`modal-add-to-cart-button${isInCart ? ' remove-from-cart' : ''}`}\n                                onClick={handleAddRemoveCart}\n                            >\n                                {isInCart ? 'Remove From Cart' : 'Add To Cart'}\n                            </button>\n                        </div>\n                        <div className=\"right-buttons-wrapper\">\n                            <ActionButton\n                                disabled={!actionButtonEnable}\n                                config={BUTTON_CONFIGS.download}\n                                hasLoadingState={true}\n                                onClick={handleDownloadPreview}\n                            />\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default AssetPreview; ","import React, { useEffect, useMemo, useState } from 'react';\nimport type { ActionDropdownProps } from '../types';\nimport './ActionDropdown.css';\n\nconst ActionDropdown: React.FC<ActionDropdownProps> = ({\n    className = '',\n    items,\n    handlers,\n    show,\n    label,\n    selectedItem,\n    onSelectedItemChange\n}) => {\n    const [isDropdownOpen, setIsDropdownOpen] = useState<boolean>(false);\n\n    // Generate unique ID based on className or fallback to random ID\n    const dropdownId = useMemo(() => {\n        const baseId = className ? className.replace(/\\s+/g, '-').toLowerCase() : 'dropdown';\n        return `${baseId}-actions-${Math.random().toString(36).substr(2, 9)}`;\n    }, [className]);\n\n    // Handle clicking outside to close dropdown\n    useEffect(() => {\n        const handleClickOutside = (event: MouseEvent) => {\n            const target = event.target as HTMLElement;\n            if (isDropdownOpen) {\n                const dropdown = document.getElementById(dropdownId);\n                if (dropdown && !dropdown.contains(target)) {\n                    // Update DOM styles to close dropdown\n                    const menu = dropdown.querySelector('.menu') as HTMLElement;\n                    if (menu) {\n                        menu.style.display = 'none';\n                        dropdown.classList.remove('open');\n                    }\n                    setIsDropdownOpen(false);\n                }\n            }\n        };\n\n        if (isDropdownOpen) {\n            document.addEventListener('mousedown', handleClickOutside);\n        }\n\n        return () => {\n            document.removeEventListener('mousedown', handleClickOutside);\n        };\n    }, [isDropdownOpen, dropdownId]);\n\n    const handleDropdownClick = (e: React.MouseEvent<HTMLDivElement>) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        const dropdown = e.currentTarget;\n        const menu = dropdown.querySelector('.menu') as HTMLElement;\n\n        if (menu) {\n            if (isDropdownOpen) {\n                menu.style.display = 'none';\n                dropdown.classList.remove('open');\n                setIsDropdownOpen(false);\n            } else {\n                menu.style.display = 'block';\n                dropdown.classList.add('open');\n                setIsDropdownOpen(true);\n            }\n        }\n    };\n\n    const handleDropdownItemClick = (e: React.MouseEvent<HTMLDivElement>, action: () => void, itemText: string) => {\n        e.preventDefault();\n        e.stopPropagation();\n\n        // Update selected item\n        onSelectedItemChange?.(itemText);\n\n        // Call the action\n        action();\n\n        // Close the dropdown\n        const dropdown = document.getElementById(dropdownId);\n        const menu = dropdown?.querySelector('.menu') as HTMLElement;\n        if (menu && dropdown) {\n            menu.style.display = 'none';\n            dropdown.classList.remove('open');\n        }\n        setIsDropdownOpen(false);\n    };\n\n    if (!show) {\n        return null;\n    }\n\n    return (\n        <div className={`dropdown-actions-section ${className}`}>\n            <div\n                className=\"ui simple dropdown item\"\n                id={dropdownId}\n                onClick={handleDropdownClick}\n            >\n                <span className=\"dropdown-label\">{selectedItem || label}</span>\n                <i className=\"dropdown icon\"></i>\n                <div className=\"menu\">\n                    {items.map((item, index) => (\n                        <div\n                            key={index}\n                            className={`item ${selectedItem === item ? 'selected' : ''}`}\n                            onClick={(e) => handleDropdownItemClick(e, handlers[index], item)}\n                        >\n                            {item}\n                        </div>\n                    ))}\n                </div>\n            </div>\n        </div>\n    );\n};\n\nexport default ActionDropdown; ","import React from 'react';\nimport type { SearchPanelProps } from '../types';\nimport ActionDropdown from './ActionDropdown';\nimport './SearchPanel.css';\n\nconst SearchPanel: React.FC<SearchPanelProps> = ({\n    totalCount,\n    selectedCount,\n    displayedCount,\n    onSelectAll,\n    onToggleMobileFilter,\n    isMobileFilterOpen,\n    onBulkAddToCart,\n    // onBulkDownload,\n    onBulkShare,\n    onBulkAddToCollection,\n    onSortByTopResults,\n    onSortByDateCreated,\n    onSortByLastModified,\n    onSortBySize,\n    onSortDirectionAscending,\n    onSortDirectionDescending,\n    selectedSortType,\n    selectedSortDirection,\n    onSortTypeChange,\n    onSortDirectionChange,\n    expandAllDetails,\n    onExpandAllDetailsChange,\n    viewType,\n    onViewTypeChange,\n    selectAuthorized,\n    onSelectAuthorized,\n    isRightsSearch = false,\n    onShareSearch\n}) => {\n    const handleToggleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        onExpandAllDetailsChange?.(e.target.checked);\n    };\n\n    const handleGridViewClick = () => {\n        onViewTypeChange?.('grid');\n    };\n\n    const handleListViewClick = () => {\n        onViewTypeChange?.('list');\n    };\n\n    return (\n        <>\n            {/* Search Primary Panel */}\n            <div className=\"search-primary-panel\">\n                <div className=\"primary-panel-container\">\n                    {/* Left side */}\n                    <div className=\"left-panel-group\">\n                        <ActionDropdown\n                            className=\"SortCards sort-dropdown-disabled\"\n                            items={['Top Results', 'Date Created', 'Last Modified', 'Size']}\n                            handlers={[onSortByTopResults, onSortByDateCreated, onSortByLastModified, onSortBySize]}\n                            show={true}\n                            label={undefined}\n                            selectedItem={selectedSortType}\n                            onSelectedItemChange={onSortTypeChange}\n                        />\n                        <ActionDropdown\n                            className=\"SortDirection sort-dropdown-disabled\"\n                            items={['Ascending', 'Descending']}\n                            handlers={[onSortDirectionAscending, onSortDirectionDescending]}\n                            show={true}\n                            label={undefined}\n                            selectedItem={selectedSortDirection}\n                            onSelectedItemChange={onSortDirectionChange}\n                        />\n\n                        {/* Show Full Details Toggle */}\n                        <div className=\"cmp-title\">\n                            <h1>Show full details<label className=\"switch\"><input type=\"checkbox\" checked={expandAllDetails} onChange={handleToggleChange} /><span className=\"slider round\"></span></label></h1>\n                        </div>\n                    </div>\n\n                    {/* Right side: Filter button */}\n                    <div className=\"right-panel-group\">\n                        <div className=\"card-view-container\">\n                            <button\n                                className={`grid-view-btn ${viewType === 'grid' ? 'active' : ''}`}\n                                type=\"button\"\n                                title=\"Grid View\"\n                                onClick={handleGridViewClick}\n                            >\n                                <img src={`${import.meta.env.BASE_URL}icons/gridview.svg`} alt=\"Grid View\" />\n                            </button>\n                            <button\n                                className={`list-view-btn ${viewType === 'list' ? 'active' : ''}`}\n                                type=\"button\"\n                                title=\"List View\"\n                                onClick={handleListViewClick}\n                            >\n                                <img src={`${import.meta.env.BASE_URL}icons/listview.svg`} alt=\"List View\" />\n                            </button>\n                        </div>\n\n                        <button\n                            className=\"filter-button\"\n                            type=\"button\"\n                            onClick={onToggleMobileFilter}\n                        >\n                            <img\n                                src={`${import.meta.env.BASE_URL}icons/Filter-search.svg`}\n                                alt=\"Filter\"\n                                className=\"filter-icon\"\n                            />\n                            {isMobileFilterOpen ? 'Hide Filter' : 'Show Filter'}\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            {/* Search Secondary Panel */}\n            <div className=\"search-secondary-panel\">\n                <div className=\"secondary-panel-container\">\n                    {/* Left side: Total, Select All, Actions */}\n                    <div className=\"left-panel-group\">\n                        {/* Total Count */}\n                        <div className=\"search-statistics\">\n                            <div className=\"total-statistic\">\n                                <span className=\"total-count\">{totalCount}</span>\n                                <span className=\"total-label\">Total</span>\n                            </div>\n                        </div>\n\n                        {/* Select All */}\n                        <div className=\"select-section\">\n                            {isRightsSearch && (\n                                <div className=\"select-authorized\">\n                                    <input\n                                        type=\"checkbox\"\n                                        id=\"select-authorized\"\n                                        checked={selectAuthorized || false}\n                                        onChange={(e) => onSelectAuthorized?.(e.target.checked)}\n                                    />\n                                    <label htmlFor=\"select-authorized\">\n                                        Show only authorized assets\n                                    </label>\n                                </div>\n                            )}\n                            <div className=\"select-all\">\n                                <input\n                                    type=\"checkbox\"\n                                    id=\"select-all\"\n                                    checked={selectedCount > 0 && selectedCount === displayedCount}\n                                    onChange={(e) => onSelectAll(e.target.checked)}\n                                />\n                                <label htmlFor=\"select-all\">\n                                    Select All {selectedCount > 0 && <span className=\"dropdown-count\">({selectedCount})</span>}\n                                </label>\n                            </div>\n                        </div>\n\n                        {/* Actions Button */}\n                        <ActionDropdown\n                            className=\"dropdown-actions-section\"\n                            items={['Add to cart', 'Add to Collection', 'Share']} // , 'Download'\n                            handlers={[onBulkAddToCart, onBulkAddToCollection, onBulkShare]} // , onBulkDownload\n                            show={selectedCount > 0}\n                            label=\"Actions\"\n                            selectedItem={undefined}\n                        />\n                    </div>\n\n                    {/* Right side: Share search */}\n                    <div className=\"right-panel-group\">\n                        {onShareSearch && (\n                            <button\n                                className=\"share-search-btn\"\n                                onClick={onShareSearch}\n                                title=\"Share Search\"\n                                aria-label=\"Share Search\"\n                            />\n                        )}\n                    </div>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default SearchPanel; ","import React, { useCallback, useEffect, useState } from 'react';\nimport { createPortal } from 'react-dom';\nimport { ToastQueue } from '@react-spectrum/toast';\nimport { AuthorizationStatus } from '../clients/fadel-client';\nimport { DEFAULT_ACCORDION_CONFIG } from '../constants/accordion';\nimport { useAppConfig } from '../hooks/useAppConfig';\nimport type { Asset, ImageGalleryProps } from '../types';\nimport { populateAssetFromHit } from '../utils/assetTransformers';\nimport { calendarDateToEpoch } from '../utils/formatters';\nimport buildSavedSearchUrl from '../../../scripts/saved-searches/saved-search-utils.js';\nimport AssetCard from './AssetCard';\nimport AssetDetails from './AssetDetails/';\nimport AssetPreview from './AssetPreview';\nimport './ImageGallery.css';\nimport SearchPanel from './SearchPanel';\n\n/**\n * Sanitize HTML content to prevent XSS attacks\n * Removes script tags, event handlers, and dangerous protocols\n */\nfunction sanitizeHTML(html: string): string {\n    if (!html) return '';\n\n    // Create a temporary div to parse HTML\n    const temp = document.createElement('div');\n    temp.textContent = html; // This escapes all HTML\n    let sanitized = temp.innerHTML;\n\n    // If the original HTML contains actual tags (not just text), use a more permissive approach\n    if (html.includes('<') && html !== sanitized) {\n        temp.innerHTML = html;\n\n        // Remove script and style tags\n        temp.querySelectorAll('script, style').forEach(el => el.remove());\n\n        // Remove event handler attributes\n        temp.querySelectorAll('*').forEach(el => {\n            Array.from(el.attributes).forEach(attr => {\n                if (\n                    attr.name.startsWith('on') ||\n                    (attr.name === 'href' && (\n                        /^(\\s*)(javascript:|data:|vbscript:)/i.test(attr.value)\n                    ))\n                ) {\n                    el.removeAttribute(attr.name);\n                }\n            });\n        });\n\n        sanitized = temp.innerHTML;\n    }\n\n    return sanitized;\n}\n\n// Display list of images\nconst ImageGallery: React.FC<ImageGalleryProps> = ({\n    images,\n    loading,\n    onAddToCart,\n    onRemoveFromCart,\n    cartAssetItems = [],\n    searchResult,\n    onToggleMobileFilter,\n    isMobileFilterOpen,\n    onBulkAddToCart,\n    onSortByTopResults,\n    onSortByDateCreated,\n    onSortByLastModified,\n    onSortBySize,\n    onSortDirectionAscending,\n    onSortDirectionDescending,\n    selectedSortType,\n    selectedSortDirection,\n    onSortTypeChange,\n    onSortDirectionChange,\n    onLoadMoreResults,\n    hasMorePages = false,\n    isLoadingMore = false,\n    imagePresets = {},\n    assetRenditionsCache = {},\n    fetchAssetRenditions,\n    isRightsSearch = false,\n    onFacetCheckbox,\n    onClearAllFacets,\n    deepLinkAsset,\n    onCloseDeepLinkModal,\n    query = '',\n    facetCheckedState = {},\n    selectedNumericFilters = [],\n    rightsStartDate,\n    rightsEndDate,\n    selectedMarkets,\n    selectedMediaChannels\n}: ImageGalleryProps) => {\n    // Get external params and dynamic media client from context\n    const { externalParams } = useAppConfig();\n\n    console.debug('ImageGallery received deepLinkAsset:', deepLinkAsset);\n\n    // Extract accordion parameters from external params with fallbacks\n    // Sanitize HTML content to prevent XSS attacks\n    const accordionTitle = sanitizeHTML(externalParams?.accordionTitle || DEFAULT_ACCORDION_CONFIG.accordionTitle);\n    const accordionContent = sanitizeHTML(externalParams?.accordionContent || DEFAULT_ACCORDION_CONFIG.accordionContent);\n\n    // Modal state management for asset preview\n    const [selectedCard, setSelectedCard] = useState<Asset | null>(null);\n    const [showPreviewModal, setShowPreviewModal] = useState<boolean>(false);\n    // Modal state management for asset details (card click)\n    const [showDetailsModal, setShowDetailsModal] = useState<boolean>(false);\n    // Checkbox selection state\n    const [selectedCards, setSelectedCards] = useState<Set<string>>(new Set());\n    // Show full details toggle state\n    const [expandAllDetails, setExpandAllDetails] = useState<boolean>(true);\n    // View type state (grid or list)\n    const [viewType, setViewType] = useState<'grid' | 'list'>('grid');\n    // Title expansion state\n    const [isTitleExpanded, setIsTitleExpanded] = useState<boolean>(false);\n    // Select authorized state\n    const [selectAuthorized, setSelectAuthorized] = useState<boolean>(false);\n\n    const [visibleImages, setVisibleImages] = useState<Asset[]>(images);\n\n    const displayedCount = visibleImages.length;\n    const selectedCount = selectedCards.size;\n\n    useEffect(() => {\n        selectAuthorized ? setVisibleImages(images.filter(image => image.authorized === undefined || image.authorized === AuthorizationStatus.AVAILABLE)) : setVisibleImages(images);\n\n        // Clear selection when filter changes to avoid showing incorrect counts\n        setSelectedCards(new Set());\n    }, [images, selectAuthorized]);\n\n    // Reset select-authorized checkbox when new search results come in\n    useEffect(() => {\n        // Reset select-authorized checkbox (selectedCards is already cleared by the effect above)\n        setSelectAuthorized(false);\n    }, [images]);\n\n    // Helper to check if current selected card is from deep link\n    const isDeepLinkAsset = deepLinkAsset && selectedCard?.assetId === deepLinkAsset.assetId;\n\n    // Handler to close asset details modal\n    const closeDetailsModal = useCallback(() => {\n        setSelectedCard(null);\n        setShowDetailsModal(false);\n        // If this was a deep link modal, notify parent\n        if (deepLinkAsset && onCloseDeepLinkModal) {\n            onCloseDeepLinkModal();\n        }\n    }, [deepLinkAsset, onCloseDeepLinkModal]);\n\n    // Handle keyboard events for modals\n    useEffect(() => {\n        const handleKeyDown = (event: KeyboardEvent) => {\n            if (event.key === 'Escape') {\n                if (showDetailsModal) {\n                    // Don't close if this is a deep link asset\n                    if (!isDeepLinkAsset) {\n                        closeDetailsModal();\n                    }\n                } else if (showPreviewModal) {\n                    closeCardPreviewModal();\n                }\n            }\n        };\n\n        if (showPreviewModal || showDetailsModal) {\n            document.addEventListener('keydown', handleKeyDown);\n            document.body.style.overflow = 'hidden'; // Prevent background scrolling\n        }\n\n        return () => {\n            document.removeEventListener('keydown', handleKeyDown);\n            document.body.style.overflow = 'unset'; // Restore scrolling\n        };\n    }, [showPreviewModal, showDetailsModal, closeDetailsModal, isDeepLinkAsset]);\n\n    // Create stable callback for opening details view\n    const openDetailsView = useCallback(async (asset?: Asset) => {\n        console.debug('openDetailsView called with asset:', JSON.stringify(asset, null, 2));\n        if (asset) {\n            // Check if asset has _searchHit (from search results) or is already fully populated (from metadata/deep link)\n            if (asset._searchHit) {\n                // Transform the asset from search hit\n                const transformedAsset = populateAssetFromHit(asset._searchHit as Record<string, unknown>);\n                console.debug('Setting selected card with asset ID:', transformedAsset.assetId, 'Asset object:', JSON.stringify(transformedAsset, null, 2));\n                setSelectedCard(transformedAsset);\n            } else {\n                // Asset is already fully populated\n                console.debug('Setting selected card with asset ID:', asset.assetId, 'Asset object:', JSON.stringify(asset, null, 2));\n                setSelectedCard(asset);\n            }\n        } else {\n            console.log('No asset provided to openDetailsView');\n        }\n        setShowDetailsModal(true);\n    }, []);\n\n    // Expose cart and download panel functions to window for EDS header integration\n    useEffect(() => {\n        window.openDetailsView = openDetailsView;\n        window.closeDetailsView = () => closeDetailsModal();\n\n        return () => {\n            delete window.openDetailsView;\n            delete window.closeDetailsView;\n        };\n    }, [openDetailsView, closeDetailsModal]);\n\n    // Handle deep link asset\n    useEffect(() => {\n        console.debug('deepLinkAsset useEffect triggered with:', deepLinkAsset);\n        if (deepLinkAsset) {\n            console.debug('deepLinkAsset is truthy, calling openDetailsView');\n            openDetailsView(deepLinkAsset);\n        }\n    }, [deepLinkAsset, openDetailsView]);\n\n    // Handler for Add to Cart click with animation\n    const handleAddToCart = (image: Asset, e?: React.MouseEvent) => {\n        e?.stopPropagation();\n        onAddToCart?.(image);\n    };\n\n    // Handler for preview button click to show asset preview modal\n    const handleCardPreviewClick = (image: Asset, e: React.MouseEvent) => {\n        e.stopPropagation();\n        setSelectedCard(image);\n        setShowPreviewModal(true);\n    };\n\n    // Handler to close asset preview modal\n    const closeCardPreviewModal = () => {\n        setShowPreviewModal(false);\n        setSelectedCard(null);\n    };\n\n    // Handler for card click to show asset details modal\n    const handleCardDetailClick = (image: Asset, e: React.MouseEvent) => {\n        e.stopPropagation();\n        setSelectedCard(image);\n        setShowDetailsModal(true);\n    };\n\n    // Handle checkbox selection\n    const handleCheckboxChange = (imageId: string, isChecked: boolean) => {\n        setSelectedCards(prev => {\n            const newSet = new Set(prev);\n            if (isChecked) {\n                newSet.add(imageId);\n            } else {\n                newSet.delete(imageId);\n            }\n            return newSet;\n        });\n    };\n\n    // Handle select all\n    const handleSelectAll = (isChecked: boolean) => {\n        if (isChecked) {\n            setSelectedCards(new Set(visibleImages.map(img => img.assetId || '')));\n        } else {\n            setSelectedCards(new Set());\n        }\n    };\n\n    // Bulk actions handlers\n    const handleBulkAddToCart = () => {\n        onBulkAddToCart(selectedCards, visibleImages);\n        setSelectedCards(new Set());\n    };\n\n    const handleBulkDownload = () => {\n        console.log('Bulk download:', Array.from(selectedCards));\n    };\n\n    const handleBulkShare = () => {\n        // Get selected assets\n        const selectedAssets = visibleImages.filter(img => selectedCards.has(img.assetId || ''));\n\n        if (selectedAssets.length === 0) {\n            return;\n        }\n\n        // Dispatch the global share modal event with multiple assets\n        const event = new CustomEvent('openShareModal', {\n            detail: {\n                assets: selectedAssets // Pass array of assets for bulk operation\n            }\n        });\n        window.dispatchEvent(event);\n\n        // Clear selection after action\n        setSelectedCards(new Set());\n    };\n\n    const handleBulkAddToCollection = () => {\n        // Get selected assets\n        const selectedAssets = visibleImages.filter(img => selectedCards.has(img.assetId || ''));\n\n        if (selectedAssets.length === 0) {\n            return;\n        }\n\n        // Dispatch the global collection modal event with multiple assets\n        const event = new CustomEvent('openCollectionModal', {\n            detail: {\n                assets: selectedAssets // Pass array of assets for bulk operation\n            }\n        });\n        window.dispatchEvent(event);\n\n        // Clear selection after action\n        setSelectedCards(new Set());\n    };\n\n    // Handle share search - copy current search URL to clipboard\n    const handleShareSearch = () => {\n        // Build rights filters object if applicable\n        const rightsFilters: Record<string, unknown> = {};\n        if (isRightsSearch) {\n            if (rightsStartDate) {\n                rightsFilters.startDate = calendarDateToEpoch(rightsStartDate);\n            }\n            if (rightsEndDate) {\n                rightsFilters.endDate = calendarDateToEpoch(rightsEndDate);\n            }\n            if (selectedMarkets && selectedMarkets.size > 0) {\n                rightsFilters.markets = Array.from(selectedMarkets);\n            }\n            if (selectedMediaChannels && selectedMediaChannels.size > 0) {\n                rightsFilters.mediaChannels = Array.from(selectedMediaChannels);\n            }\n        }\n\n        // Get current search type path from URL\n        const currentPath = window.location.pathname;\n        let searchType = '/search/all';\n        if (currentPath.includes('/search/assets')) {\n            searchType = '/search/assets';\n        } else if (currentPath.includes('/search/products')) {\n            searchType = '/search/products';\n        }\n\n        // Build search object\n        const searchObject = {\n            searchTerm: query,\n            facetFilters: facetCheckedState,\n            numericFilters: selectedNumericFilters,\n            rightsFilters: Object.keys(rightsFilters).length > 0 ? rightsFilters : undefined,\n            searchType\n        };\n\n        // Build URL using shared utility\n        const searchUrl = buildSavedSearchUrl(searchObject);\n\n        // Copy to clipboard\n        navigator.clipboard.writeText(searchUrl).then(() => {\n            ToastQueue.positive('SEARCH LINK COPIED TO CLIPBOARD', { timeout: 3000 });\n        }).catch(() => {\n            // Fallback for older browsers\n            const textArea = document.createElement('textarea');\n            textArea.value = searchUrl;\n            document.body.appendChild(textArea);\n            textArea.select();\n            document.execCommand('copy');\n            document.body.removeChild(textArea);\n            ToastQueue.positive('SEARCH LINK COPIED TO CLIPBOARD', { timeout: 3000 });\n        });\n    };\n\n    // Handle title expansion toggle\n    const handleTitleToggle = () => {\n        setIsTitleExpanded(!isTitleExpanded);\n    };\n\n    const handleSelectAuthorized = (isChecked: boolean) => {\n        setSelectAuthorized(isChecked);\n    };\n\n    // Calculate statistics\n    const totalCount = searchResult && searchResult.nbHits ? searchResult.nbHits.toString() : '0';\n\n    return (\n        <div className=\"image-gallery\">\n            <div className={`gallery-title ${isTitleExpanded ? 'expanded' : ''}`}>\n                <div className=\"gallery-title-content\">\n                    <div className=\"gallery-title-icon\" aria-label=\"Info\"></div>\n                    <h3 dangerouslySetInnerHTML={{ __html: accordionTitle }}></h3>\n                </div>\n                <button\n                    className={`gallery-title-toggle ${isTitleExpanded ? 'expanded' : 'collapsed'}`}\n                    onClick={handleTitleToggle}\n                />\n            </div>\n            {isTitleExpanded && (\n                <div\n                    className=\"gallery-title-expanded\"\n                    dangerouslySetInnerHTML={{ __html: accordionContent }}\n                />\n            )}\n\n            {/* Search Panels */}\n            <SearchPanel\n                totalCount={totalCount}\n                selectedCount={selectedCount}\n                displayedCount={displayedCount}\n                onSelectAll={handleSelectAll}\n                onToggleMobileFilter={onToggleMobileFilter}\n                isMobileFilterOpen={isMobileFilterOpen}\n                onBulkAddToCart={handleBulkAddToCart}\n                onBulkDownload={handleBulkDownload}\n                onBulkShare={handleBulkShare}\n                onBulkAddToCollection={handleBulkAddToCollection}\n                onSortByTopResults={onSortByTopResults}\n                onSortByDateCreated={onSortByDateCreated}\n                onSortByLastModified={onSortByLastModified}\n                onSortBySize={onSortBySize}\n                onSortDirectionAscending={onSortDirectionAscending}\n                onSortDirectionDescending={onSortDirectionDescending}\n                selectedSortType={selectedSortType}\n                selectedSortDirection={selectedSortDirection}\n                onSortTypeChange={onSortTypeChange}\n                onSortDirectionChange={onSortDirectionChange}\n                expandAllDetails={expandAllDetails}\n                onExpandAllDetailsChange={setExpandAllDetails}\n                viewType={viewType}\n                onViewTypeChange={setViewType}\n                hasMorePages={hasMorePages}\n                currentPage={(searchResult?.page as number) || 0}\n                totalPages={(searchResult?.nbPages as number) || 0}\n                selectAuthorized={selectAuthorized}\n                onSelectAuthorized={handleSelectAuthorized}\n                isRightsSearch={isRightsSearch}\n                onShareSearch={handleShareSearch}\n            />\n\n            <div className=\"image-grid-wrapper\">\n                {loading ? (\n                    <div className=\"loading-container\">\n                        <div className=\"loading-spinner\"></div>\n                        <p>Loading images...</p>\n                    </div>\n                ) : visibleImages.length === 0 ? (\n                    <div className=\"no-images\">\n                        <p>No images to display</p>\n                    </div>\n                ) : (\n                    <>\n                        <div className={viewType === 'grid' ? 'image-grid' : 'image-grid-list'}>\n                            {visibleImages.map((visibleImage, index) => {\n                                return (\n                                    <AssetCard\n                                        key={visibleImage.assetId}\n                                        viewMode={viewType}\n                                        image={visibleImage}\n                                        handleCardDetailClick={handleCardDetailClick}\n                                        handlePreviewClick={handleCardPreviewClick}\n                                        handleAddToCart={handleAddToCart}\n                                        handleRemoveFromCart={onRemoveFromCart}\n                                        cartAssetItems={cartAssetItems}\n                                        isSelected={selectedCards.has(visibleImage.assetId || '')}\n                                        onCheckboxChange={handleCheckboxChange}\n                                        expandAllDetails={expandAllDetails}\n                                        index={index}\n                                        onFacetCheckbox={onFacetCheckbox}\n                                        onClearAllFacets={onClearAllFacets}\n                                    />\n                                );\n                            })}\n                        </div>\n\n                        {/* Loading more indicator */}\n                        {isLoadingMore && (\n                            <div className=\"loading-more-container\">\n                                <div className=\"loading-spinner\"></div>\n                                <p>Loading more results...</p>\n                            </div>\n                        )}\n\n                        {/* Load More Button */}\n                        {hasMorePages && !isLoadingMore && (\n                            <div className=\"load-more-button-container\">\n                                <button\n                                    className=\"load-more-button\"\n                                    onClick={onLoadMoreResults}\n                                >\n                                    Load more\n                                </button>\n                            </div>\n                        )}\n                    </>\n                )}\n            </div>\n\n            {/* Asset Preview Modal */}\n            {createPortal(\n                <AssetPreview\n                    showModal={showPreviewModal}\n                    closeModal={closeCardPreviewModal}\n                    selectedImage={selectedCard}\n                    handleAddToCart={handleAddToCart}\n                    handleRemoveFromCart={onRemoveFromCart}\n                    cartAssetItems={cartAssetItems}\n                    renditions={selectedCard?.assetId ? assetRenditionsCache[selectedCard.assetId] : undefined}\n                    fetchAssetRenditions={fetchAssetRenditions}\n                />,\n                document.body\n            )}\n\n            {/* Asset Details Modal */}\n            <AssetDetails\n                showModal={showDetailsModal}\n                closeModal={closeDetailsModal}\n                selectedImage={selectedCard}\n                handleAddToCart={handleAddToCart}\n                handleRemoveFromCart={onRemoveFromCart}\n                cartAssetItems={cartAssetItems}\n                imagePresets={imagePresets}\n                renditions={selectedCard?.assetId ? assetRenditionsCache[selectedCard.assetId] : undefined}\n                fetchAssetRenditions={fetchAssetRenditions}\n                isDeepLinkAsset={!!isDeepLinkAsset}\n            />\n        </div>\n    );\n};\n\nexport default ImageGallery; "],"names":["DEFAULT_ACCORDION_CONFIG","accordionTitle","accordionContent","ActionButton","disabled","onClick","config","hasLoadingState","style","loading","setLoading","useState","containerRef","useRef","tooltipRef","currentState","downloading","idle","jsxs","className","ref","onMouseEnter","current","buttonRect","getBoundingClientRect","tooltipElement","top","right","window","innerWidth","positionTooltip","children","jsx","async","backgroundImage","tooltip","BUTTON_CONFIGS","download","showToast","message","type","toast","document","createElement","textContent","body","appendChild","setTimeout","classList","add","remove","parentNode","removeChild","createShareAssetButton","assetId","button","setAttribute","onclick","e","console","debug","stopPropagation","warn","shareUrl","location","protocol","host","navigator","clipboard","writeText","error","text","textArea","value","position","left","focus","select","execCommand","err","fallbackCopyToClipboard","ShareAssetButton","useEffect","container","display","PDFModal","showModal","pdfUrl","title","onClose","handleEscapeKey","event","key","addEventListener","removeEventListener","createPortal","target","currentTarget","data","width","height","AssetCard","image","handleCardDetailClick","handlePreviewClick","handleAddToCart","handleRemoveFromCart","cartAssetItems","isSelected","onCheckboxChange","expandAllDetails","index","viewMode","onFacetCheckbox","onClearAllFacets","dynamicMediaClient","useAppConfig","showPdfModal","setShowPdfModal","setPdfUrl","fetchingPdf","setFetchingPdf","isInCart","some","cartAssetItem","isPdf","isPdfPreview","format","isRightsFree","_a","readyToUse","toLowerCase","shouldShowPdfModal","handleAddRemoveCart","handleClickDownload","log","downloadAsset","containerClass","trim","innerClass","TitleElement","firstButtonWrapper","secondButtonWrapper","metadataGrid","formatedSize","formatLabel","getFileExtension","name","formatCategory","category","authorizationStatus","Fragment","authorized","AuthorizationStatus","AVAILABLE","NOT_AVAILABLE","AVAILABLE_EXCEPT","id","cursor","checked","onChange","renditions","getAssetRenditions","pdfRendition","_c","_b","items","filter","item","sort","a","b","size","url","getPreviewPdfUrl","handlePdfPreviewClick","viewBox","xmlns","d","previewUrl","getOptimizedDeliveryPreviewUrl","CustomEvent","detail","asset","assetPath","repositoryPath","dispatchEvent","Picture","eager","EAGER_LOAD_IMAGE_COUNT","fetchPriority","campaignName","getAssetFieldDisplayFacetName","DownloadRenditionsModal","isOpen","onCloseDownloadRenditions","imagePresets","renditionsLoading","setRenditionsLoading","renditionsError","setRenditionsError","handleEscape","useCallback","preventDefault","stopImmediatePropagation","capture","handleOverlayClick","assets","useMemo","DownloadRenditionsContent","AssetDetailsDRM","selectedImage","forceCollapse","isExpanded","setIsExpanded","expanded","riskTypeManagement","rightsNotes","rightsStatus","businessAffairsManager","fadelId","AssetDetailsGeneralInfo","longRangePlan","longRangePlanTactic","campaignReach","masterOrAdaptation","keywords","japaneseKeywords","ageDemographic","sourceAsset","derivedAssets","otherAssets","AssetDetailsIntendedUse","intendedBottlerCountry","intendedCustomers","intendedChannel","AssetDetailsLegacyFields","originalCreateDate","dateUploaded","underEmbargo","assetAssociatedWithBrand","packageDepicted","fundingBuOrMarket","trackName","brandsWAssetGuideline","brandsWAssetHero","campaignsWKeyAssets","featuredAsset","keyAsset","layout","contractAssetJobs","AssetDetailsMarketing","experienceId","campaignActivationRemark","campaignSubActivationRemark","brand","subBrand","beverageType","agencyName","AssetDetailsMarketingPackageContainer","packageOrContainerType","packageOrContainerMaterial","packageOrContainerSize","secondaryPackaging","AssetDetailsOverview","japaneseTitle","tags","japaneseDescription","description","illustratorType","language","assetStatus","expirationDate","categoryAndType","AssetDetailsProduction","leadOperatingUnit","tcccLeadAssociateLegacy","tcccContact","fadelJobId","AssetDetailsScheduledActivation","onTime","offTime","AssetDetailsSystem","createDate","publishDate","modifyDate","createBy","publishBy","publishStatus","workfrontId","modifyBy","sourceId","migrationId","AssetDetailsSystemInfoLegacy","legacyAssetId1","legacyAssetId2","legacyFileName","sourceUploadDate","sourceUploader","jobId","projectId","legacySourceSystem","intendedBusinessUnitOrMarket","AssetDetailsTechnicalInfo","resolution","imageHeight","imageWidth","duration","broadcastFormat","titling","ratio","orientation","PDFViewer","fallbackComponent","pdfFailed","setPdfFailed","isLoading","setIsLoading","attempt","response","fetch","method","ok","status","delay","Math","pow","Promise","resolve","validatePdfUrl","timeoutId","clearTimeout","src","alt","onLoad","AssetDetails","closeModal","fetchAssetRenditions","isDeepLinkAsset","collapseAll","setCollapseAll","showDownloadRenditionsModal","setShowDownloadRenditionsModal","actionButtonEnable","setActionButtonEnable","watermarkRendition","setWatermarkRendition","populatedImage","setPopulatedImage","rightsFree","metadata","getMetadata","populatedAsset","populateAssetFromMetadata","fetchMetadata","foundWatermarkRendition","find","rendition","startsWith","pointerEvents","pictureComponent","xcmKeywords","split","map","keyword","lastModified","expired","usage","rightsProfileTitle","marketCovered","rightsStartDate","rightsEndDate","media","modalRoot","getElementById","zIndex","header","querySelector","insertBefore","getModalRoot","AssetPreview","ActionDropdown","handlers","show","label","selectedItem","onSelectedItemChange","isDropdownOpen","setIsDropdownOpen","dropdownId","replace","random","toString","substr","handleClickOutside","dropdown","contains","menu","action","itemText","handleDropdownItemClick","SearchPanel","totalCount","selectedCount","displayedCount","onSelectAll","onToggleMobileFilter","isMobileFilterOpen","onBulkAddToCart","onBulkShare","onBulkAddToCollection","onSortByTopResults","onSortByDateCreated","onSortByLastModified","onSortBySize","onSortDirectionAscending","onSortDirectionDescending","selectedSortType","selectedSortDirection","onSortTypeChange","onSortDirectionChange","onExpandAllDetailsChange","viewType","onViewTypeChange","selectAuthorized","onSelectAuthorized","isRightsSearch","onShareSearch","htmlFor","sanitizeHTML","html","temp","sanitized","innerHTML","includes","querySelectorAll","forEach","el","Array","from","attributes","attr","test","removeAttribute","ImageGallery","images","onAddToCart","onRemoveFromCart","searchResult","onLoadMoreResults","hasMorePages","isLoadingMore","assetRenditionsCache","deepLinkAsset","onCloseDeepLinkModal","query","facetCheckedState","selectedNumericFilters","selectedMarkets","selectedMediaChannels","externalParams","selectedCard","setSelectedCard","showPreviewModal","setShowPreviewModal","showDetailsModal","setShowDetailsModal","selectedCards","setSelectedCards","Set","setExpandAllDetails","setViewType","isTitleExpanded","setIsTitleExpanded","setSelectAuthorized","visibleImages","setVisibleImages","length","closeDetailsModal","handleKeyDown","closeCardPreviewModal","overflow","openDetailsView","JSON","stringify","_searchHit","transformedAsset","populateAssetFromHit","closeDetailsView","handleCardPreviewClick","handleCheckboxChange","imageId","isChecked","prev","newSet","delete","nbHits","dangerouslySetInnerHTML","__html","img","onBulkDownload","selectedAssets","has","currentPage","page","totalPages","nbPages","rightsFilters","startDate","calendarDateToEpoch","endDate","markets","mediaChannels","currentPath","pathname","searchType","searchObject","searchTerm","facetFilters","numericFilters","Object","keys","searchUrl","buildSavedSearchUrl","then","ToastQueue","positive","timeout","catch","visibleImage"],"mappings":"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"}